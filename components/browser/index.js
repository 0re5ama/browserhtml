!function e(t,r,n){function o(a,u){if(!r[a]){if(!t[a]){var s="function"==typeof require&&require;if(!u&&s)return s(a,!0);if(i)return i(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=r[a]={exports:{}};t[a][0].call(l.exports,function(e){var r=t[a][1][e];return o(r?r:e)},l,l.exports,e,t,r,n)}return r[a].exports}for(var i="function"==typeof require&&require,a=0;a<n.length;a++)o(n[a]);return o}({1:[function(e,t,r){t.exports={logging:!1,devtools:!1}},{}],2:[function(e,t,r){t.exports={"default":e("core-js/library/fn/array/from"),__esModule:!0}},{"core-js/library/fn/array/from":29}],3:[function(e,t,r){t.exports={"default":e("core-js/library/fn/get-iterator"),__esModule:!0}},{"core-js/library/fn/get-iterator":30}],4:[function(e,t,r){t.exports={"default":e("core-js/library/fn/is-iterable"),__esModule:!0}},{"core-js/library/fn/is-iterable":31}],5:[function(e,t,r){t.exports={"default":e("core-js/library/fn/map"),__esModule:!0}},{"core-js/library/fn/map":32}],6:[function(e,t,r){t.exports={"default":e("core-js/library/fn/math/trunc"),__esModule:!0}},{"core-js/library/fn/math/trunc":33}],7:[function(e,t,r){t.exports={"default":e("core-js/library/fn/object/assign"),__esModule:!0}},{"core-js/library/fn/object/assign":34}],8:[function(e,t,r){t.exports={"default":e("core-js/library/fn/object/create"),__esModule:!0}},{"core-js/library/fn/object/create":35}],9:[function(e,t,r){t.exports={"default":e("core-js/library/fn/object/define-property"),__esModule:!0}},{"core-js/library/fn/object/define-property":36}],10:[function(e,t,r){t.exports={"default":e("core-js/library/fn/object/get-own-property-descriptor"),__esModule:!0}},{"core-js/library/fn/object/get-own-property-descriptor":37}],11:[function(e,t,r){t.exports={"default":e("core-js/library/fn/object/keys"),__esModule:!0}},{"core-js/library/fn/object/keys":38}],12:[function(e,t,r){t.exports={"default":e("core-js/library/fn/object/set-prototype-of"),__esModule:!0}},{"core-js/library/fn/object/set-prototype-of":39}],13:[function(e,t,r){t.exports={"default":e("core-js/library/fn/promise"),__esModule:!0}},{"core-js/library/fn/promise":40}],14:[function(e,t,r){t.exports={"default":e("core-js/library/fn/set"),__esModule:!0}},{"core-js/library/fn/set":41}],15:[function(e,t,r){t.exports={"default":e("core-js/library/fn/symbol"),__esModule:!0}},{"core-js/library/fn/symbol":43}],16:[function(e,t,r){t.exports={"default":e("core-js/library/fn/symbol/for"),__esModule:!0}},{"core-js/library/fn/symbol/for":42}],17:[function(e,t,r){"use strict";r["default"]=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},r.__esModule=!0},{}],18:[function(e,t,r){"use strict";var n=e("babel-runtime/core-js/object/define-property")["default"];r["default"]=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),n(e,o.key,o)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),r.__esModule=!0},{"babel-runtime/core-js/object/define-property":9}],19:[function(e,t,r){"use strict";var n=e("babel-runtime/core-js/object/define-property")["default"];r["default"]=function(e,t,r){return t in e?n(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},r.__esModule=!0},{"babel-runtime/core-js/object/define-property":9}],20:[function(e,t,r){"use strict";var n=e("babel-runtime/core-js/object/get-own-property-descriptor")["default"];r["default"]=function(e,t,r){for(var o=!0;o;){var i=e,a=t,u=r;s=l=c=void 0,o=!1,null===i&&(i=Function.prototype);var s=n(i,a);if(void 0!==s){if("value"in s)return s.value;var c=s.get;return void 0===c?void 0:c.call(u)}var l=Object.getPrototypeOf(i);if(null===l)return void 0;e=l,t=a,r=u,o=!0}},r.__esModule=!0},{"babel-runtime/core-js/object/get-own-property-descriptor":10}],21:[function(e,t,r){"use strict";var n=e("babel-runtime/core-js/object/create")["default"],o=e("babel-runtime/core-js/object/set-prototype-of")["default"];r["default"]=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=n(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(o?o(e,t):e.__proto__=t)},r.__esModule=!0},{"babel-runtime/core-js/object/create":8,"babel-runtime/core-js/object/set-prototype-of":12}],22:[function(e,t,r){"use strict";r["default"]=function(e){return e&&e.__esModule?e:{"default":e}},r.__esModule=!0},{}],23:[function(e,t,r){"use strict";r["default"]=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t},r.__esModule=!0},{}],24:[function(e,t,r){"use strict";var n=e("babel-runtime/core-js/get-iterator")["default"],o=e("babel-runtime/core-js/is-iterable")["default"];r["default"]=function(){function e(e,t){var r=[],o=!0,i=!1,a=void 0;try{for(var u,s=n(e);!(o=(u=s.next()).done)&&(r.push(u.value),!t||r.length!==t);o=!0);}catch(c){i=!0,a=c}finally{try{!o&&s["return"]&&s["return"]()}finally{if(i)throw a}}return r}return function(t,r){if(Array.isArray(t))return t;if(o(Object(t)))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r.__esModule=!0},{"babel-runtime/core-js/get-iterator":3,"babel-runtime/core-js/is-iterable":4}],25:[function(e,t,r){"use strict";var n=e("babel-runtime/core-js/array/from")["default"];r["default"]=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return n(e)},r.__esModule=!0},{"babel-runtime/core-js/array/from":2}],26:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=Object.freeze([]);r.empty=n,r["default"]=n},{}],27:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=Object.freeze({});r.blank=n,r["default"]=n},{}],28:[function(e,t,r){},{}],29:[function(e,t,r){e("../../modules/es6.string.iterator"),e("../../modules/es6.array.from"),t.exports=e("../../modules/$.core").Array.from},{"../../modules/$.core":52,"../../modules/es6.array.from":104,"../../modules/es6.string.iterator":115}],30:[function(e,t,r){e("../modules/web.dom.iterable"),e("../modules/es6.string.iterator"),t.exports=e("../modules/core.get-iterator")},{"../modules/core.get-iterator":102,"../modules/es6.string.iterator":115,"../modules/web.dom.iterable":119}],31:[function(e,t,r){e("../modules/web.dom.iterable"),e("../modules/es6.string.iterator"),t.exports=e("../modules/core.is-iterable")},{"../modules/core.is-iterable":103,"../modules/es6.string.iterator":115,"../modules/web.dom.iterable":119}],32:[function(e,t,r){e("../modules/es6.object.to-string"),e("../modules/es6.string.iterator"),e("../modules/web.dom.iterable"),e("../modules/es6.map"),e("../modules/es7.map.to-json"),t.exports=e("../modules/$.core").Map},{"../modules/$.core":52,"../modules/es6.map":106,"../modules/es6.object.to-string":112,"../modules/es6.string.iterator":115,"../modules/es7.map.to-json":117,"../modules/web.dom.iterable":119}],33:[function(e,t,r){e("../../modules/es6.math.trunc"),t.exports=e("../../modules/$.core").Math.trunc},{"../../modules/$.core":52,"../../modules/es6.math.trunc":107}],34:[function(e,t,r){e("../../modules/es6.object.assign"),t.exports=e("../../modules/$.core").Object.assign},{"../../modules/$.core":52,"../../modules/es6.object.assign":108}],35:[function(e,t,r){var n=e("../../modules/$");t.exports=function(e,t){return n.create(e,t)}},{"../../modules/$":77}],36:[function(e,t,r){var n=e("../../modules/$");t.exports=function(e,t,r){return n.setDesc(e,t,r)}},{"../../modules/$":77}],37:[function(e,t,r){var n=e("../../modules/$");e("../../modules/es6.object.get-own-property-descriptor"),t.exports=function(e,t){return n.getDesc(e,t)}},{"../../modules/$":77,"../../modules/es6.object.get-own-property-descriptor":109}],38:[function(e,t,r){e("../../modules/es6.object.keys"),t.exports=e("../../modules/$.core").Object.keys},{"../../modules/$.core":52,"../../modules/es6.object.keys":110}],39:[function(e,t,r){e("../../modules/es6.object.set-prototype-of"),t.exports=e("../../modules/$.core").Object.setPrototypeOf},{"../../modules/$.core":52,"../../modules/es6.object.set-prototype-of":111}],40:[function(e,t,r){e("../modules/es6.object.to-string"),e("../modules/es6.string.iterator"),e("../modules/web.dom.iterable"),e("../modules/es6.promise"),t.exports=e("../modules/$.core").Promise},{"../modules/$.core":52,"../modules/es6.object.to-string":112,"../modules/es6.promise":113,"../modules/es6.string.iterator":115,"../modules/web.dom.iterable":119}],41:[function(e,t,r){e("../modules/es6.object.to-string"),e("../modules/es6.string.iterator"),e("../modules/web.dom.iterable"),e("../modules/es6.set"),e("../modules/es7.set.to-json"),t.exports=e("../modules/$.core").Set},{"../modules/$.core":52,"../modules/es6.object.to-string":112,"../modules/es6.set":114,"../modules/es6.string.iterator":115,"../modules/es7.set.to-json":118,"../modules/web.dom.iterable":119}],42:[function(e,t,r){e("../../modules/es6.symbol"),t.exports=e("../../modules/$.core").Symbol["for"]},{"../../modules/$.core":52,"../../modules/es6.symbol":116}],43:[function(e,t,r){e("../../modules/es6.symbol"),e("../../modules/es6.object.to-string"),t.exports=e("../../modules/$.core").Symbol},{"../../modules/$.core":52,"../../modules/es6.object.to-string":112,"../../modules/es6.symbol":116}],44:[function(e,t,r){t.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},{}],45:[function(e,t,r){t.exports=function(){}},{}],46:[function(e,t,r){var n=e("./$.is-object");t.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},{"./$.is-object":70}],47:[function(e,t,r){var n=e("./$.cof"),o=e("./$.wks")("toStringTag"),i="Arguments"==n(function(){return arguments}());t.exports=function(e){var t,r,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=(t=Object(e))[o])?r:i?n(t):"Object"==(a=n(t))&&"function"==typeof t.callee?"Arguments":a}},{"./$.cof":48,"./$.wks":100}],48:[function(e,t,r){var n={}.toString;t.exports=function(e){return n.call(e).slice(8,-1)}},{}],49:[function(e,t,r){"use strict";var n=e("./$"),o=e("./$.hide"),i=e("./$.redefine-all"),a=e("./$.ctx"),u=e("./$.strict-new"),s=e("./$.defined"),c=e("./$.for-of"),l=e("./$.iter-define"),f=e("./$.iter-step"),d=e("./$.uid")("id"),p=e("./$.has"),m=e("./$.is-object"),v=e("./$.set-species"),h=e("./$.descriptors"),b=Object.isExtensible||m,y=h?"_s":"size",g=0,w=function(e,t){if(!m(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!p(e,d)){if(!b(e))return"F";if(!t)return"E";o(e,d,++g)}return"O"+e[d]},k=function(e,t){var r,n=w(t);if("F"!==n)return e._i[n];for(r=e._f;r;r=r.n)if(r.k==t)return r};t.exports={getConstructor:function(e,t,r,o){var l=e(function(e,i){u(e,l,t),e._i=n.create(null),e._f=void 0,e._l=void 0,e[y]=0,void 0!=i&&c(i,r,e[o],e)});return i(l.prototype,{clear:function(){for(var e=this,t=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete t[r.i];e._f=e._l=void 0,e[y]=0},"delete":function(e){var t=this,r=k(t,e);if(r){var n=r.n,o=r.p;delete t._i[r.i],r.r=!0,o&&(o.n=n),n&&(n.p=o),t._f==r&&(t._f=n),t._l==r&&(t._l=o),t[y]--}return!!r},forEach:function(e){for(var t,r=a(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.n:this._f;)for(r(t.v,t.k,this);t&&t.r;)t=t.p},has:function(e){return!!k(this,e)}}),h&&n.setDesc(l.prototype,"size",{get:function(){return s(this[y])}}),l},def:function(e,t,r){var n,o,i=k(e,t);return i?i.v=r:(e._l=i={i:o=w(t,!0),k:t,v:r,p:n=e._l,n:void 0,r:!1},e._f||(e._f=i),n&&(n.n=i),e[y]++,"F"!==o&&(e._i[o]=i)),e},getEntry:k,setStrong:function(e,t,r){l(e,t,function(e,t){this._t=e,this._k=t,this._l=void 0},function(){for(var e=this,t=e._k,r=e._l;r&&r.r;)r=r.p;return e._t&&(e._l=r=r?r.n:e._t._f)?"keys"==t?f(0,r.k):"values"==t?f(0,r.v):f(0,[r.k,r.v]):(e._t=void 0,f(1))},r?"entries":"values",!r,!0),v(t)}}},{"./$":77,"./$.ctx":53,"./$.defined":54,"./$.descriptors":55,"./$.for-of":60,"./$.has":63,"./$.hide":64,"./$.is-object":70,"./$.iter-define":73,"./$.iter-step":75,"./$.redefine-all":84,"./$.set-species":88,"./$.strict-new":92,"./$.uid":99}],50:[function(e,t,r){var n=e("./$.for-of"),o=e("./$.classof");t.exports=function(e){return function(){if(o(this)!=e)throw TypeError(e+"#toJSON isn't generic");var t=[];return n(this,!1,t.push,t),t}}},{"./$.classof":47,"./$.for-of":60}],51:[function(e,t,r){"use strict";var n=e("./$"),o=e("./$.global"),i=e("./$.export"),a=e("./$.fails"),u=e("./$.hide"),s=e("./$.redefine-all"),c=e("./$.for-of"),l=e("./$.strict-new"),f=e("./$.is-object"),d=e("./$.set-to-string-tag"),p=e("./$.descriptors");t.exports=function(e,t,r,m,v,h){var b=o[e],y=b,g=v?"set":"add",w=y&&y.prototype,k={};return p&&"function"==typeof y&&(h||w.forEach&&!a(function(){(new y).entries().next()}))?(y=t(function(t,r){l(t,y,e),t._c=new b,void 0!=r&&c(r,v,t[g],t)}),n.each.call("add,clear,delete,forEach,get,has,set,keys,values,entries".split(","),function(e){var t="add"==e||"set"==e;e in w&&(!h||"clear"!=e)&&u(y.prototype,e,function(r,n){if(!t&&h&&!f(r))return"get"==e?void 0:!1;var o=this._c[e](0===r?0:r,n);return t?this:o})}),"size"in w&&n.setDesc(y.prototype,"size",{get:function(){return this._c.size}})):(y=m.getConstructor(t,e,v,g),s(y.prototype,r)),d(y,e),k[e]=y,i(i.G+i.W+i.F,k),h||m.setStrong(y,e,v),y}},{"./$":77,"./$.descriptors":55,"./$.export":58,"./$.fails":59,"./$.for-of":60,"./$.global":62,"./$.hide":64,"./$.is-object":70,"./$.redefine-all":84,"./$.set-to-string-tag":89,"./$.strict-new":92}],52:[function(e,t,r){var n=t.exports={version:"1.2.6"};"number"==typeof __e&&(__e=n)},{}],53:[function(e,t,r){var n=e("./$.a-function");t.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,o){return e.call(t,r,n,o)}}return function(){return e.apply(t,arguments)}}},{"./$.a-function":44}],54:[function(e,t,r){t.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},{}],55:[function(e,t,r){t.exports=!e("./$.fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./$.fails":59}],56:[function(e,t,r){var n=e("./$.is-object"),o=e("./$.global").document,i=n(o)&&n(o.createElement);t.exports=function(e){return i?o.createElement(e):{}}},{"./$.global":62,"./$.is-object":70}],57:[function(e,t,r){var n=e("./$");t.exports=function(e){var t=n.getKeys(e),r=n.getSymbols;if(r)for(var o,i=r(e),a=n.isEnum,u=0;i.length>u;)a.call(e,o=i[u++])&&t.push(o);return t}},{"./$":77}],58:[function(e,t,r){var n=e("./$.global"),o=e("./$.core"),i=e("./$.ctx"),a="prototype",u=function(e,t,r){var s,c,l,f=e&u.F,d=e&u.G,p=e&u.S,m=e&u.P,v=e&u.B,h=e&u.W,b=d?o:o[t]||(o[t]={}),y=d?n:p?n[t]:(n[t]||{})[a];d&&(r=t);for(s in r)c=!f&&y&&s in y,c&&s in b||(l=c?y[s]:r[s],b[s]=d&&"function"!=typeof y[s]?r[s]:v&&c?i(l,n):h&&y[s]==l?function(e){var t=function(t){return this instanceof e?new e(t):e(t)};return t[a]=e[a],t}(l):m&&"function"==typeof l?i(Function.call,l):l,m&&((b[a]||(b[a]={}))[s]=l))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,t.exports=u},{"./$.core":52,"./$.ctx":53,"./$.global":62}],59:[function(e,t,r){t.exports=function(e){try{return!!e()}catch(t){return!0}}},{}],60:[function(e,t,r){var n=e("./$.ctx"),o=e("./$.iter-call"),i=e("./$.is-array-iter"),a=e("./$.an-object"),u=e("./$.to-length"),s=e("./core.get-iterator-method");t.exports=function(e,t,r,c){var l,f,d,p=s(e),m=n(r,c,t?2:1),v=0;if("function"!=typeof p)throw TypeError(e+" is not iterable!");if(i(p))for(l=u(e.length);l>v;v++)t?m(a(f=e[v])[0],f[1]):m(e[v]);else for(d=p.call(e);!(f=d.next()).done;)o(d,m,f.value,t)}},{"./$.an-object":46,"./$.ctx":53,"./$.is-array-iter":68,"./$.iter-call":71,"./$.to-length":97,"./core.get-iterator-method":101}],61:[function(e,t,r){var n=e("./$.to-iobject"),o=e("./$").getNames,i={}.toString,a="object"==typeof window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],u=function(e){try{return o(e)}catch(t){return a.slice()}};t.exports.get=function(e){return a&&"[object Window]"==i.call(e)?u(e):o(n(e))}},{"./$":77,"./$.to-iobject":96}],62:[function(e,t,r){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},{}],63:[function(e,t,r){var n={}.hasOwnProperty;t.exports=function(e,t){return n.call(e,t)}},{}],64:[function(e,t,r){var n=e("./$"),o=e("./$.property-desc");t.exports=e("./$.descriptors")?function(e,t,r){return n.setDesc(e,t,o(1,r))}:function(e,t,r){return e[t]=r,e}},{"./$":77,"./$.descriptors":55,"./$.property-desc":83}],65:[function(e,t,r){t.exports=e("./$.global").document&&document.documentElement},{"./$.global":62}],66:[function(e,t,r){t.exports=function(e,t,r){var n=void 0===r;switch(t.length){case 0:return n?e():e.call(r);case 1:return n?e(t[0]):e.call(r,t[0]);case 2:return n?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3])}return e.apply(r,t)}},{}],67:[function(e,t,r){var n=e("./$.cof");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},{"./$.cof":48}],68:[function(e,t,r){var n=e("./$.iterators"),o=e("./$.wks")("iterator"),i=Array.prototype;t.exports=function(e){return void 0!==e&&(n.Array===e||i[o]===e)}},{"./$.iterators":76,"./$.wks":100}],69:[function(e,t,r){var n=e("./$.cof");t.exports=Array.isArray||function(e){return"Array"==n(e)}},{"./$.cof":48}],70:[function(e,t,r){t.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},{}],71:[function(e,t,r){var n=e("./$.an-object");t.exports=function(e,t,r,o){try{return o?t(n(r)[0],r[1]):t(r)}catch(i){var a=e["return"];throw void 0!==a&&n(a.call(e)),i}}},{"./$.an-object":46}],72:[function(e,t,r){"use strict";var n=e("./$"),o=e("./$.property-desc"),i=e("./$.set-to-string-tag"),a={};e("./$.hide")(a,e("./$.wks")("iterator"),function(){return this}),t.exports=function(e,t,r){e.prototype=n.create(a,{next:o(1,r)}),i(e,t+" Iterator")}},{"./$":77,"./$.hide":64,"./$.property-desc":83,"./$.set-to-string-tag":89,"./$.wks":100}],73:[function(e,t,r){"use strict";var n=e("./$.library"),o=e("./$.export"),i=e("./$.redefine"),a=e("./$.hide"),u=e("./$.has"),s=e("./$.iterators"),c=e("./$.iter-create"),l=e("./$.set-to-string-tag"),f=e("./$").getProto,d=e("./$.wks")("iterator"),p=!([].keys&&"next"in[].keys()),m="@@iterator",v="keys",h="values",b=function(){return this};t.exports=function(e,t,r,y,g,w,k){c(r,t,y);var x,O,S=function(e){if(!p&&e in _)return _[e];switch(e){case v:return function(){return new r(this,e)};case h:return function(){return new r(this,e)}}return function(){return new r(this,e)}},E=t+" Iterator",j=g==h,$=!1,_=e.prototype,C=_[d]||_[m]||g&&_[g],P=C||S(g);if(C){var A=f(P.call(new e));l(A,E,!0),!n&&u(_,m)&&a(A,d,b),j&&C.name!==h&&($=!0,P=function(){return C.call(this)})}if(n&&!k||!p&&!$&&_[d]||a(_,d,P),s[t]=P,s[E]=b,g)if(x={values:j?P:S(h),keys:w?P:S(v),entries:j?S("entries"):P},k)for(O in x)O in _||i(_,O,x[O]);else o(o.P+o.F*(p||$),t,x);return x}},{"./$":77,"./$.export":58,"./$.has":63,"./$.hide":64,"./$.iter-create":72,"./$.iterators":76,"./$.library":79,"./$.redefine":85,"./$.set-to-string-tag":89,"./$.wks":100}],74:[function(e,t,r){var n=e("./$.wks")("iterator"),o=!1;try{var i=[7][n]();i["return"]=function(){o=!0},Array.from(i,function(){throw 2})}catch(a){}t.exports=function(e,t){if(!t&&!o)return!1;var r=!1;try{var i=[7],a=i[n]();a.next=function(){r=!0},i[n]=function(){return a},e(i)}catch(u){}return r}},{"./$.wks":100}],75:[function(e,t,r){t.exports=function(e,t){return{value:t,done:!!e}}},{}],76:[function(e,t,r){t.exports={}},{}],77:[function(e,t,r){var n=Object;t.exports={create:n.create,getProto:n.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:n.getOwnPropertyDescriptor,setDesc:n.defineProperty,setDescs:n.defineProperties,getKeys:n.keys,getNames:n.getOwnPropertyNames,getSymbols:n.getOwnPropertySymbols,each:[].forEach}},{}],78:[function(e,t,r){var n=e("./$"),o=e("./$.to-iobject");t.exports=function(e,t){for(var r,i=o(e),a=n.getKeys(i),u=a.length,s=0;u>s;)if(i[r=a[s++]]===t)return r}},{"./$":77,"./$.to-iobject":96}],79:[function(e,t,r){t.exports=!0},{}],80:[function(e,t,r){var n,o,i,a=e("./$.global"),u=e("./$.task").set,s=a.MutationObserver||a.WebKitMutationObserver,c=a.process,l=a.Promise,f="process"==e("./$.cof")(c),d=function(){var e,t,r;for(f&&(e=c.domain)&&(c.domain=null,e.exit());n;)t=n.domain,r=n.fn,t&&t.enter(),r(),t&&t.exit(),n=n.next;o=void 0,e&&e.enter()};if(f)i=function(){c.nextTick(d)};else if(s){var p=1,m=document.createTextNode("");new s(d).observe(m,{characterData:!0}),i=function(){m.data=p=-p}}else i=l&&l.resolve?function(){l.resolve().then(d)}:function(){u.call(a,d)};t.exports=function(e){var t={fn:e,next:void 0,domain:f&&c.domain};o&&(o.next=t),n||(n=t,i()),o=t}},{"./$.cof":48,"./$.global":62,"./$.task":94}],81:[function(e,t,r){var n=e("./$"),o=e("./$.to-object"),i=e("./$.iobject");t.exports=e("./$.fails")(function(){var e=Object.assign,t={},r={},n=Symbol(),o="abcdefghijklmnopqrst";return t[n]=7,o.split("").forEach(function(e){r[e]=e}),7!=e({},t)[n]||Object.keys(e({},r)).join("")!=o})?function(e,t){for(var r=o(e),a=arguments,u=a.length,s=1,c=n.getKeys,l=n.getSymbols,f=n.isEnum;u>s;)for(var d,p=i(a[s++]),m=l?c(p).concat(l(p)):c(p),v=m.length,h=0;v>h;)f.call(p,d=m[h++])&&(r[d]=p[d]);return r}:Object.assign},{"./$":77,"./$.fails":59,"./$.iobject":67,"./$.to-object":98}],82:[function(e,t,r){var n=e("./$.export"),o=e("./$.core"),i=e("./$.fails");t.exports=function(e,t){var r=(o.Object||{})[e]||Object[e],a={};a[e]=t(r),n(n.S+n.F*i(function(){r(1)}),"Object",a)}},{"./$.core":52,"./$.export":58,"./$.fails":59}],83:[function(e,t,r){t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],84:[function(e,t,r){var n=e("./$.redefine");t.exports=function(e,t){for(var r in t)n(e,r,t[r]);return e}},{"./$.redefine":85}],85:[function(e,t,r){t.exports=e("./$.hide")},{"./$.hide":64}],86:[function(e,t,r){t.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},{}],87:[function(e,t,r){var n=e("./$").getDesc,o=e("./$.is-object"),i=e("./$.an-object"),a=function(e,t){if(i(e),!o(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,r,o){try{o=e("./$.ctx")(Function.call,n(Object.prototype,"__proto__").set,2),o(t,[]),r=!(t instanceof Array)}catch(i){r=!0}return function(e,t){return a(e,t),r?e.__proto__=t:o(e,t),e}}({},!1):void 0),check:a}},{"./$":77,"./$.an-object":46,"./$.ctx":53,"./$.is-object":70}],88:[function(e,t,r){"use strict";var n=e("./$.core"),o=e("./$"),i=e("./$.descriptors"),a=e("./$.wks")("species");t.exports=function(e){var t=n[e];i&&t&&!t[a]&&o.setDesc(t,a,{configurable:!0,get:function(){return this}})}},{"./$":77,"./$.core":52,"./$.descriptors":55,"./$.wks":100}],89:[function(e,t,r){var n=e("./$").setDesc,o=e("./$.has"),i=e("./$.wks")("toStringTag");t.exports=function(e,t,r){e&&!o(e=r?e:e.prototype,i)&&n(e,i,{configurable:!0,value:t})}},{"./$":77,"./$.has":63,"./$.wks":100}],90:[function(e,t,r){var n=e("./$.global"),o="__core-js_shared__",i=n[o]||(n[o]={});t.exports=function(e){return i[e]||(i[e]={})}},{"./$.global":62}],91:[function(e,t,r){var n=e("./$.an-object"),o=e("./$.a-function"),i=e("./$.wks")("species");t.exports=function(e,t){var r,a=n(e).constructor;return void 0===a||void 0==(r=n(a)[i])?t:o(r)}},{"./$.a-function":44,"./$.an-object":46,"./$.wks":100}],92:[function(e,t,r){t.exports=function(e,t,r){if(!(e instanceof t))throw TypeError(r+": use the 'new' operator!");return e}},{}],93:[function(e,t,r){var n=e("./$.to-integer"),o=e("./$.defined");t.exports=function(e){return function(t,r){var i,a,u=String(o(t)),s=n(r),c=u.length;return 0>s||s>=c?e?"":void 0:(i=u.charCodeAt(s),55296>i||i>56319||s+1===c||(a=u.charCodeAt(s+1))<56320||a>57343?e?u.charAt(s):i:e?u.slice(s,s+2):(i-55296<<10)+(a-56320)+65536)}}},{"./$.defined":54,"./$.to-integer":95}],94:[function(e,t,r){var n,o,i,a=e("./$.ctx"),u=e("./$.invoke"),s=e("./$.html"),c=e("./$.dom-create"),l=e("./$.global"),f=l.process,d=l.setImmediate,p=l.clearImmediate,m=l.MessageChannel,v=0,h={},b="onreadystatechange",y=function(){var e=+this;if(h.hasOwnProperty(e)){var t=h[e];delete h[e],t()}},g=function(e){y.call(e.data)};d&&p||(d=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return h[++v]=function(){u("function"==typeof e?e:Function(e),t)},n(v),v},p=function(e){delete h[e]},"process"==e("./$.cof")(f)?n=function(e){f.nextTick(a(y,e,1))}:m?(o=new m,i=o.port2,o.port1.onmessage=g,n=a(i.postMessage,i,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(n=function(e){l.postMessage(e+"","*")},l.addEventListener("message",g,!1)):n=b in c("script")?function(e){s.appendChild(c("script"))[b]=function(){s.removeChild(this),y.call(e)}}:function(e){setTimeout(a(y,e,1),0)}),t.exports={set:d,clear:p}},{"./$.cof":48,"./$.ctx":53,"./$.dom-create":56,"./$.global":62,"./$.html":65,"./$.invoke":66}],95:[function(e,t,r){var n=Math.ceil,o=Math.floor;t.exports=function(e){return isNaN(e=+e)?0:(e>0?o:n)(e)}},{}],96:[function(e,t,r){var n=e("./$.iobject"),o=e("./$.defined");t.exports=function(e){return n(o(e))}},{"./$.defined":54,"./$.iobject":67}],97:[function(e,t,r){var n=e("./$.to-integer"),o=Math.min;t.exports=function(e){return e>0?o(n(e),9007199254740991):0}},{"./$.to-integer":95}],98:[function(e,t,r){var n=e("./$.defined");t.exports=function(e){return Object(n(e))}},{"./$.defined":54}],99:[function(e,t,r){var n=0,o=Math.random();t.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+o).toString(36))}},{}],100:[function(e,t,r){var n=e("./$.shared")("wks"),o=e("./$.uid"),i=e("./$.global").Symbol;t.exports=function(e){return n[e]||(n[e]=i&&i[e]||(i||o)("Symbol."+e))}},{"./$.global":62,"./$.shared":90,"./$.uid":99}],101:[function(e,t,r){var n=e("./$.classof"),o=e("./$.wks")("iterator"),i=e("./$.iterators");t.exports=e("./$.core").getIteratorMethod=function(e){return void 0!=e?e[o]||e["@@iterator"]||i[n(e)]:void 0}},{"./$.classof":47,"./$.core":52,"./$.iterators":76,"./$.wks":100}],102:[function(e,t,r){var n=e("./$.an-object"),o=e("./core.get-iterator-method");t.exports=e("./$.core").getIterator=function(e){var t=o(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return n(t.call(e))}},{"./$.an-object":46,"./$.core":52,"./core.get-iterator-method":101}],103:[function(e,t,r){var n=e("./$.classof"),o=e("./$.wks")("iterator"),i=e("./$.iterators");t.exports=e("./$.core").isIterable=function(e){var t=Object(e);return void 0!==t[o]||"@@iterator"in t||i.hasOwnProperty(n(t))}},{"./$.classof":47,"./$.core":52,"./$.iterators":76,"./$.wks":100}],104:[function(e,t,r){"use strict";var n=e("./$.ctx"),o=e("./$.export"),i=e("./$.to-object"),a=e("./$.iter-call"),u=e("./$.is-array-iter"),s=e("./$.to-length"),c=e("./core.get-iterator-method");o(o.S+o.F*!e("./$.iter-detect")(function(e){Array.from(e)}),"Array",{from:function(e){var t,r,o,l,f=i(e),d="function"==typeof this?this:Array,p=arguments,m=p.length,v=m>1?p[1]:void 0,h=void 0!==v,b=0,y=c(f);if(h&&(v=n(v,m>2?p[2]:void 0,2)),void 0==y||d==Array&&u(y))for(t=s(f.length),r=new d(t);t>b;b++)r[b]=h?v(f[b],b):f[b];else for(l=y.call(f),r=new d;!(o=l.next()).done;b++)r[b]=h?a(l,v,[o.value,b],!0):o.value;return r.length=b,r}})},{"./$.ctx":53,"./$.export":58,"./$.is-array-iter":68,"./$.iter-call":71,"./$.iter-detect":74,"./$.to-length":97,"./$.to-object":98,"./core.get-iterator-method":101}],105:[function(e,t,r){"use strict";var n=e("./$.add-to-unscopables"),o=e("./$.iter-step"),i=e("./$.iterators"),a=e("./$.to-iobject");t.exports=e("./$.iter-define")(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,o(1)):"keys"==t?o(0,r):"values"==t?o(0,e[r]):o(0,[r,e[r]])},"values"),i.Arguments=i.Array,n("keys"),n("values"),n("entries")},{"./$.add-to-unscopables":45,"./$.iter-define":73,"./$.iter-step":75,"./$.iterators":76,"./$.to-iobject":96}],106:[function(e,t,r){"use strict";var n=e("./$.collection-strong");e("./$.collection")("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=n.getEntry(this,e);return t&&t.v},set:function(e,t){return n.def(this,0===e?0:e,t)}},n,!0)},{"./$.collection":51,"./$.collection-strong":49}],107:[function(e,t,r){var n=e("./$.export");n(n.S,"Math",{trunc:function(e){return(e>0?Math.floor:Math.ceil)(e)}})},{"./$.export":58}],108:[function(e,t,r){var n=e("./$.export");n(n.S+n.F,"Object",{assign:e("./$.object-assign")})},{"./$.export":58,"./$.object-assign":81}],109:[function(e,t,r){var n=e("./$.to-iobject");e("./$.object-sap")("getOwnPropertyDescriptor",function(e){return function(t,r){return e(n(t),r)}})},{"./$.object-sap":82,"./$.to-iobject":96}],110:[function(e,t,r){var n=e("./$.to-object");e("./$.object-sap")("keys",function(e){return function(t){return e(n(t))}})},{"./$.object-sap":82,"./$.to-object":98}],111:[function(e,t,r){var n=e("./$.export");n(n.S,"Object",{setPrototypeOf:e("./$.set-proto").set})},{"./$.export":58,"./$.set-proto":87}],112:[function(e,t,r){arguments[4][28][0].apply(r,arguments)},{dup:28}],113:[function(e,t,r){"use strict";var n,o=e("./$"),i=e("./$.library"),a=e("./$.global"),u=e("./$.ctx"),s=e("./$.classof"),c=e("./$.export"),l=e("./$.is-object"),f=e("./$.an-object"),d=e("./$.a-function"),p=e("./$.strict-new"),m=e("./$.for-of"),v=e("./$.set-proto").set,h=e("./$.same-value"),b=e("./$.wks")("species"),y=e("./$.species-constructor"),g=e("./$.microtask"),w="Promise",k=a.process,x="process"==s(k),O=a[w],S=function(e){var t=new O(function(){});return e&&(t.constructor=Object),O.resolve(t)===t},E=function(){function t(e){var r=new O(e);return v(r,t.prototype),r}var r=!1;try{if(r=O&&O.resolve&&S(),v(t,O),t.prototype=o.create(O.prototype,{constructor:{value:t}}),t.resolve(5).then(function(){})instanceof t||(r=!1),r&&e("./$.descriptors")){var n=!1;O.resolve(o.setDesc({},"then",{get:function(){n=!0}})),r=n}}catch(i){r=!1}return r}(),j=function(e,t){return i&&e===O&&t===n?!0:h(e,t)},$=function(e){var t=f(e)[b];return void 0!=t?t:e},_=function(e){var t;return l(e)&&"function"==typeof(t=e.then)?t:!1},C=function(e){var t,r;this.promise=new e(function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n}),this.resolve=d(t),this.reject=d(r)},P=function(e){try{e()}catch(t){return{error:t}}},A=function(e,t){if(!e.n){e.n=!0;var r=e.c;g(function(){for(var n=e.v,o=1==e.s,i=0,u=function(t){var r,i,a=o?t.ok:t.fail,u=t.resolve,s=t.reject;try{a?(o||(e.h=!0),r=a===!0?n:a(n),r===t.promise?s(TypeError("Promise-chain cycle")):(i=_(r))?i.call(r,u,s):u(r)):s(n)}catch(c){s(c)}};r.length>i;)u(r[i++]);r.length=0,e.n=!1,t&&setTimeout(function(){var t,r,o=e.p;M(o)&&(x?k.emit("unhandledRejection",n,o):(t=a.onunhandledrejection)?t({promise:o,reason:n}):(r=a.console)&&r.error&&r.error("Unhandled promise rejection",n)),e.a=void 0},1)})}},M=function(e){var t,r=e._d,n=r.a||r.c,o=0;if(r.h)return!1;for(;n.length>o;)if(t=n[o++],t.fail||!M(t.promise))return!1;return!0},T=function(e){var t=this;t.d||(t.d=!0,t=t.r||t,t.v=e,t.s=2,t.a=t.c.slice(),A(t,!0))},F=function(e){var t,r=this;if(!r.d){r.d=!0,r=r.r||r;try{if(r.p===e)throw TypeError("Promise can't be resolved itself");(t=_(e))?g(function(){var n={r:r,d:!1};try{t.call(e,u(F,n,1),u(T,n,1))}catch(o){T.call(n,o)}}):(r.v=e,r.s=1,A(r,!1))}catch(n){T.call({r:r,d:!1},n)}}};E||(O=function(e){d(e);var t=this._d={p:p(this,O,w),c:[],a:void 0,s:0,d:!1,v:void 0,h:!1,n:!1};try{e(u(F,t,1),u(T,t,1))}catch(r){T.call(t,r)}},e("./$.redefine-all")(O.prototype,{then:function(e,t){var r=new C(y(this,O)),n=r.promise,o=this._d;return r.ok="function"==typeof e?e:!0,r.fail="function"==typeof t&&t,
o.c.push(r),o.a&&o.a.push(r),o.s&&A(o,!1),n},"catch":function(e){return this.then(void 0,e)}})),c(c.G+c.W+c.F*!E,{Promise:O}),e("./$.set-to-string-tag")(O,w),e("./$.set-species")(w),n=e("./$.core")[w],c(c.S+c.F*!E,w,{reject:function(e){var t=new C(this),r=t.reject;return r(e),t.promise}}),c(c.S+c.F*(!E||S(!0)),w,{resolve:function(e){if(e instanceof O&&j(e.constructor,this))return e;var t=new C(this),r=t.resolve;return r(e),t.promise}}),c(c.S+c.F*!(E&&e("./$.iter-detect")(function(e){O.all(e)["catch"](function(){})})),w,{all:function(e){var t=$(this),r=new C(t),n=r.resolve,i=r.reject,a=[],u=P(function(){m(e,!1,a.push,a);var r=a.length,u=Array(r);r?o.each.call(a,function(e,o){var a=!1;t.resolve(e).then(function(e){a||(a=!0,u[o]=e,--r||n(u))},i)}):n(u)});return u&&i(u.error),r.promise},race:function(e){var t=$(this),r=new C(t),n=r.reject,o=P(function(){m(e,!1,function(e){t.resolve(e).then(r.resolve,n)})});return o&&n(o.error),r.promise}})},{"./$":77,"./$.a-function":44,"./$.an-object":46,"./$.classof":47,"./$.core":52,"./$.ctx":53,"./$.descriptors":55,"./$.export":58,"./$.for-of":60,"./$.global":62,"./$.is-object":70,"./$.iter-detect":74,"./$.library":79,"./$.microtask":80,"./$.redefine-all":84,"./$.same-value":86,"./$.set-proto":87,"./$.set-species":88,"./$.set-to-string-tag":89,"./$.species-constructor":91,"./$.strict-new":92,"./$.wks":100}],114:[function(e,t,r){"use strict";var n=e("./$.collection-strong");e("./$.collection")("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return n.def(this,e=0===e?0:e,e)}},n)},{"./$.collection":51,"./$.collection-strong":49}],115:[function(e,t,r){"use strict";var n=e("./$.string-at")(!0);e("./$.iter-define")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=n(t,r),this._i+=e.length,{value:e,done:!1})})},{"./$.iter-define":73,"./$.string-at":93}],116:[function(e,t,r){"use strict";var n=e("./$"),o=e("./$.global"),i=e("./$.has"),a=e("./$.descriptors"),u=e("./$.export"),s=e("./$.redefine"),c=e("./$.fails"),l=e("./$.shared"),f=e("./$.set-to-string-tag"),d=e("./$.uid"),p=e("./$.wks"),m=e("./$.keyof"),v=e("./$.get-names"),h=e("./$.enum-keys"),b=e("./$.is-array"),y=e("./$.an-object"),g=e("./$.to-iobject"),w=e("./$.property-desc"),k=n.getDesc,x=n.setDesc,O=n.create,S=v.get,E=o.Symbol,j=o.JSON,$=j&&j.stringify,_=!1,C=p("_hidden"),P=n.isEnum,A=l("symbol-registry"),M=l("symbols"),T="function"==typeof E,F=Object.prototype,R=a&&c(function(){return 7!=O(x({},"a",{get:function(){return x(this,"a",{value:7}).a}})).a})?function(e,t,r){var n=k(F,t);n&&delete F[t],x(e,t,r),n&&e!==F&&x(F,t,n)}:x,B=function(e){var t=M[e]=O(E.prototype);return t._k=e,a&&_&&R(F,e,{configurable:!0,set:function(t){i(this,C)&&i(this[C],e)&&(this[C][e]=!1),R(this,e,w(1,t))}}),t},I=function(e){return"symbol"==typeof e},D=function(e,t,r){return r&&i(M,t)?(r.enumerable?(i(e,C)&&e[C][t]&&(e[C][t]=!1),r=O(r,{enumerable:w(0,!1)})):(i(e,C)||x(e,C,w(1,{})),e[C][t]=!0),R(e,t,r)):x(e,t,r)},z=function(e,t){y(e);for(var r,n=h(t=g(t)),o=0,i=n.length;i>o;)D(e,r=n[o++],t[r]);return e},q=function(e,t){return void 0===t?O(e):z(O(e),t)},N=function(e){var t=P.call(this,e);return t||!i(this,e)||!i(M,e)||i(this,C)&&this[C][e]?t:!0},L=function(e,t){var r=k(e=g(e),t);return!r||!i(M,t)||i(e,C)&&e[C][t]||(r.enumerable=!0),r},V=function(e){for(var t,r=S(g(e)),n=[],o=0;r.length>o;)i(M,t=r[o++])||t==C||n.push(t);return n},U=function(e){for(var t,r=S(g(e)),n=[],o=0;r.length>o;)i(M,t=r[o++])&&n.push(M[t]);return n},W=function(e){if(void 0!==e&&!I(e)){for(var t,r,n=[e],o=1,i=arguments;i.length>o;)n.push(i[o++]);return t=n[1],"function"==typeof t&&(r=t),(r||!b(t))&&(t=function(e,t){return r&&(t=r.call(this,e,t)),I(t)?void 0:t}),n[1]=t,$.apply(j,n)}},G=c(function(){var e=E();return"[null]"!=$([e])||"{}"!=$({a:e})||"{}"!=$(Object(e))});T||(E=function(){if(I(this))throw TypeError("Symbol is not a constructor");return B(d(arguments.length>0?arguments[0]:void 0))},s(E.prototype,"toString",function(){return this._k}),I=function(e){return e instanceof E},n.create=q,n.isEnum=N,n.getDesc=L,n.setDesc=D,n.setDescs=z,n.getNames=v.get=V,n.getSymbols=U,a&&!e("./$.library")&&s(F,"propertyIsEnumerable",N,!0));var H={"for":function(e){return i(A,e+="")?A[e]:A[e]=E(e)},keyFor:function(e){return m(A,e)},useSetter:function(){_=!0},useSimple:function(){_=!1}};n.each.call("hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),function(e){var t=p(e);H[e]=T?t:B(t)}),_=!0,u(u.G+u.W,{Symbol:E}),u(u.S,"Symbol",H),u(u.S+u.F*!T,"Object",{create:q,defineProperty:D,defineProperties:z,getOwnPropertyDescriptor:L,getOwnPropertyNames:V,getOwnPropertySymbols:U}),j&&u(u.S+u.F*(!T||G),"JSON",{stringify:W}),f(E,"Symbol"),f(Math,"Math",!0),f(o.JSON,"JSON",!0)},{"./$":77,"./$.an-object":46,"./$.descriptors":55,"./$.enum-keys":57,"./$.export":58,"./$.fails":59,"./$.get-names":61,"./$.global":62,"./$.has":63,"./$.is-array":69,"./$.keyof":78,"./$.library":79,"./$.property-desc":83,"./$.redefine":85,"./$.set-to-string-tag":89,"./$.shared":90,"./$.to-iobject":96,"./$.uid":99,"./$.wks":100}],117:[function(e,t,r){var n=e("./$.export");n(n.P,"Map",{toJSON:e("./$.collection-to-json")("Map")})},{"./$.collection-to-json":50,"./$.export":58}],118:[function(e,t,r){var n=e("./$.export");n(n.P,"Set",{toJSON:e("./$.collection-to-json")("Set")})},{"./$.collection-to-json":50,"./$.export":58}],119:[function(e,t,r){e("./es6.array.iterator");var n=e("./$.iterators");n.NodeList=n.HTMLCollection=n.Array},{"./$.iterators":76,"./es6.array.iterator":105}],120:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.zip=function(e,t,r){for(var n=Math.min(t.length,r.length),o=[],i=0;n>i;)o[i]=e(t[i],r[i]),i+=1;return o}},{}],121:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.bezier=r.easeInOutElastic=r.easeOutElastic=r.easeInElastic=r.easeInOutBounce=r.easeInBounce=r.easeOutBounce=r.easeInOutBack=r.easeOutBack=r.easeInBack=r.easeInOutCirc=r.easeInCirc=r.easeOutCirc=r.easeInOutExpo=r.easeOutExpo=r.easeInExpo=r.easeInOutSine=r.easeInSine=r.easeOutSine=r.easeInOutQuint=r.easeOutQuint=r.easeInQuint=r.easeInOutQuart=r.easeOutQuart=r.easeInQuart=r.easeInOutCubic=r.easeOutCubic=r.easeInCubic=r.easeInOutQuad=r.easeOutQuad=r.easeInQuad=r.linear=r.cycle=r.retour=r.inOut=r.flip=r.invert=r.pair=r.color=r.point3D=r.point2D=r["float"]=r.ease=void 0;{var n=function(){function e(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(s){o=!0,i=s}finally{try{!n&&u["return"]&&u["return"]()}finally{if(o)throw i}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=e("value-color"),i=e("./array-zip"),a=(r.ease=function(e,t,r,n,o,i){return t(r,n,e(Math.min(i/o,1)))},r["float"]=function(e,t,r){return e+(t-e)*r}),u=(r.point2D=function(e,t,r){return{x:a(e.x,t.x,r),y:a(e.y,t.y,r)}},r.point3D=function(e,t,r){return{x:a(e.x,t.x,r),y:a(e.y,t.y,r),z:a(e.z,t.z,r)}},r.color=function A(e,t,r){var n=o.toRGB(e),i=o.toRGB(t),A=o.rgba(Math.round(a(n.red,i.red,r)),Math.round(a(n.green,i.green,r)),Math.round(a(n.blue,i.blue,r)),a(n.alpha,i.alpha,r));return A},r.pair=function(e){return function(t,r,o){var i=n(t,2),a=i[0],u=i[1],s=n(r,2),c=s[0],l=s[1];return[e(a,c,o),e(u,l,o)]}}),s=r.invert=function(e){return function(t){return 1-e(1-t)}},c=(r.flip=function(e){return function(t){return e(1-t)}},r.inOut=function(e,t){return function(r){return.5>r?e(2*r)/2:.5+t(2*(r-.5))/2}}),l=(r.retour=function(e){return function(t){return e(.5>t?2*t:1-2*(t-.5))}},r.cycle=function(e){return function(t,r){return e(1,r/t-Math.floor(r/t))}},r.linear=function(e){return e},r.easeInQuad=function(e){return Math.pow(e,2)}),f=r.easeOutQuad=s(l),d=(r.easeInOutQuad=c(l,f),r.easeInCubic=function(e){return Math.pow(e,3)}),p=r.easeOutCubic=s(d),m=(r.easeInOutCubic=c(d,p),r.easeInQuart=function(e){return Math.pow(e,4)}),v=r.easeOutQuart=s(l),h=(r.easeInOutQuart=c(m,v),r.easeInQuint=function(e){return Math.pow(e,5)}),b=r.easeOutQuint=s(h),y=(r.easeInOutQuint=c(h,b),r.easeOutSine=function(e){return Math.sin(e*(Math.PI/2))}),g=r.easeInSine=s(y),w=(r.easeInOutSine=c(g,y),r.easeInExpo=function(e){return Math.pow(2,10*(e-1))}),k=r.easeOutExpo=s(w),x=(r.easeInOutExpo=c(w,k),r.easeOutCirc=function(e){return Math.sqrt(1-Math.pow(e-1,2))}),O=r.easeInCirc=s(x),S=(r.easeInOutCirc=c(O,x),r.easeInBack=function(e){return e*e*(2.70158*e-1.70158)}),E=r.easeOutBack=s(S),j=(r.easeInOutBack=c(S,E),r.easeOutBounce=function(e){var t=7.5625,r=e-1.5/2.75,n=e-2.25/2.75,o=e-2.65/2.75,i=1/2.75>e?t*e*e:2/2.75>e?t*r*r+.75:2.5/2.75>e?t*n*n+.9375:t*o*o+.984375;return i}),$=r.easeInBounce=s(j),_=(r.easeInOutBounce=c($,j),r.easeInElastic=function(e){var t=.075,r=.3,n=e-1;return-(Math.pow(2,10*n)*Math.sin(2*(n-t)*Math.PI/r))}),C=r.easeOutElastic=s(_),P=(r.easeInOutElastic=c(_,C),u(a));r.bezier=function(e,t,r,o){return function(a){var u=function(e,t){return P(e,t,a)},s=function c(e){if(1===e.length){var t=n(e,1),r=n(t[0],2),o=(r[0],r[1]);return o}return c(i.zip(u,e,e.slice(1)))};return s([[0,0],[e,t],[r,o],[1,1]])}}}},{"./array-zip":120,"value-color":142}],122:[function(e,t,r){(function(r){var n="undefined"!=typeof r?r:"undefined"!=typeof window?window:{},o=e("min-document");if("undefined"!=typeof document)t.exports=document;else{var i=n["__GLOBAL_DOCUMENT_CACHE@4"];i||(i=n["__GLOBAL_DOCUMENT_CACHE@4"]=o),t.exports=i}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"min-document":28}],123:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(e){var t=Object.create(null);if(null!=e)for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t};r.dictionary=n,r["default"]=n},{}],124:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r["default"]=function(e){throw e},t.exports=r["default"]},{}],125:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("object-as-dictionary"),o=n.dictionary({className:"class",htmlFor:"for",acceptCharset:"accept-charset",httpEquiv:"http-equiv",clipPath:"clip-path",fillOpacity:"fill-opacity",fontFamily:"font-family",fontSize:"font-size",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",stopColor:"stop-color",stopOpacity:"stop-opacity",strokeDasharray:"stroke-dasharray",strokeLinecap:"stroke-linecap",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",textAnchor:"text-anchor",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlLang:"xml:lang",xmlSpace:"xml:space"}),i="allowFullScreen allowTransparency capture cellPadding cellSpacing charSet\nchallenge classID className cols colSpan contentEditable contextMenu\ndir encType  form formAction formEncType formMethod formTarget frameBorder\nheight hidden inputMode is keyParams keyType list loop manifest marginHeight\nmarginWidth maxLength media method nonce role rows rowSpan scrolling seamless\nsize sizes span srcSet start width wmode wrap about datatype inlist prefix\nproperty resource typeof vocab autoCapitalize autoCorrect itemProp\nitemProp itemScope itemType itemRef itemID security unselectable\n\nclipPath cx cy d dx dy fill fillOpacity fontFamily\nfontSize fx fy gradientTransform gradientUnits markerEnd\nmarkerMid markerStart offset opacity patternContentUnits\npatternUnits points preserveAspectRatio r rx ry spreadMethod\nstopColor stopOpacity stroke  strokeDasharray strokeLinecap\nstrokeOpacity strokeWidth textAnchor transform version\nviewBox x1 x2 x xlinkActuate xlinkArcrole xlinkHref xlinkRole\nxlinkShow xlinkTitle xlinkType xmlBase xmlLang xmlSpace y1 y2 y".split(/\s+/).reduce(function(e,t){return e[t]=null!=o[t]?o[t]:t.toLowerCase(),e},n.dictionary());r.supportedAttributes=i},{"object-as-dictionary":123}],126:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=e("object-as-dictionary"),a=i.dictionary({DoubleClick:"dblclick"}),u=["Copy","Cut","Paste","KeyDown","KeyPress","KeyUp","Focus","Blur","Change","Input","Submit","Click","ContextMenu","DoubleClick","Drag","DragEnd","DragEnter","DragExit","DragLeave","DragOver","DragStart","Drop","MouseDown","MouseEnter","MouseLeave","MouseMove","MouseOut","MouseOver","MouseUp","TouchStart","TouchMove","TouchCancel","TouchEnd","Scroll","Wheel","Abort","CanPlay","CanPlayThrough","DurationChange","Emptied","Encrypted","Ended","Error","LoadedData","LoadedMetadata","LoadStart","Pause","Play","Playing","Progress","RateChange","Seeked","Seeking","Stalled","Suspend","TimeUpdate","VolumeChange","Waiting","Load","Error","BeforeInput","CompositionEnd","CompositionStart","CompositionUpdate"].reduce(function(e,t){var r=null==a[t]?t.toLowerCase():a[t];return e["on"+t]={type:r,capture:!1},e["on"+t+"Capture"]={type:r,capture:!0},e},i.dictionary());r.supportedEvents=u;var s=function(e){return function(t){var r=t.currentTarget,n=t.type,o=r["on"+n+e];"function"==typeof o&&o(t),null!=o&&"function"==typeof o.handleEvent&&o.handleEvent(t)}},c=s("capture"),l=s("bubble"),f=function(){function e(t){n(this,e),this.handler=t}return o(e,[{key:"hook",value:function(t,r,n){var o=u[r];if(null!=o){var i=o.type,a=o.capture,s=a?"capture":"bubble";if(!(n instanceof e)){var f=a?c:l;t.addEventListener(i,f,a)}t["on"+i+s]=this.handler}}},{key:"unhook",value:function(t,r,n){var o=u[r];if(null!=o&&!(n instanceof e)){var i=o.type,a=o.capture,s=a?"capture":"bubble",c="on"+i+s,l=t[c];null!=l&&t.removeEventListener(i,l,a),delete t[c]}}}]),e}();r.EventHandler=f;var d=function(e){var t=e.reflexEventListener;if(null==t){var r=new f(e);return e.reflexEventListener=r,r}return t};r.eventHandler=d},{"object-as-dictionary":123}],127:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("object-as-dictionary"),o=n.dictionary({autoComplete:"autocomplete",autoFocus:"autofocus",autoPlay:"autoplay",autoSave:"autoSave",hrefLang:"hreflang",radioGroup:"radiogroup",spellCheck:"spellcheck",srcDoc:"srcdoc",srcSet:"srcset"});r.supportedProperties=o},{"object-as-dictionary":123}],128:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=e("virtual-dom/diff"),u=n(a),s=e("virtual-dom/create-element"),c=n(s),l=e("virtual-dom/patch"),f=n(l),d=e("./text"),p=e("./node"),m=e("./thunk"),v=0,h=1,b=2,y=function(){function e(){o(this,e),this.state=v,this.requests=[],this.execute=this.execute.bind(this)}return i(e,[{key:"schedule",value:function(e){-1===this.requests.indexOf(e)&&(this.state===v&&window.requestAnimationFrame(this.execute),this.requests.push(e),this.state=h)}},{key:"execute",value:function(e){switch(this.state){case v:throw Error("Unexpected frame request");case h:window.requestAnimationFrame(this.execute),this.state=b,this.dispatch(this.requests.splice(0),0,e);break;case b:this.state=v}}},{key:"dispatch",value:function(e,t,r){var n=e.length;try{for(;n>t;){var o=e[t];t+=1,o(r)}}finally{n>t&&this.dispatch(e,t,r)}}}]),e}(),g=new y,w=function(){function e(t){var r=t.target,n=t.timeGroupName;o(this,e),this.state=v,this.target=r,this.mount=1!==r.children.length?null:null==r.children[0].reflexTree?null:r.children[0],this.address=this.receive.bind(this),this.execute=this.execute.bind(this),this.timeGroupName=null==n?null:n,this.node=p.node,this.thunk=m.thunk,this.text=d.text}return i(e,[{key:"toString",value:function(){return"Renderer({target: "+this.target+"})"}},{key:"receive",value:function(e){this.value!==e&&(this.value=e,g.schedule(this.execute))}},{key:"execute",value:function(e){var t=this.timeGroupName;null!=t&&console.time("render "+t);var r=performance.now();this.value.renderWith(this);var n=performance.now(),o=n-r;o>16&&console.warn("Render took "+o+"ms & will cause frame drop"),null!=t&&console.time("render "+t)}},{key:"render",value:function(e){var t=this.mount,r=this.target;if(t)f["default"](t,u["default"](t.reflexTree,e)),t.reflexTree=e;else{var n=c["default"](e);n.reflexTree=e,r.innerHTML="",this.mount=n,r.appendChild(n)}}}]),e}();r.Renderer=w},{"./node":129,"./text":130,"./thunk":131,"virtual-dom/create-element":143,"virtual-dom/diff":144,"virtual-dom/patch":146}],129:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var i=e("virtual-dom/vnode/is-vnode"),a=(n(i),e("virtual-dom/vnode/is-widget")),u=n(a),s=e("virtual-dom/vnode/is-thunk"),c=n(s),l=e("virtual-dom/vnode/is-vhook"),f=n(l),d=e("virtual-dom/vnode/version"),p=n(d),m=e("virtual-dom/virtual-hyperscript/hooks/soft-set-hook"),v=n(m),h=e("./text"),b=e("blanks/lib/array"),y=e("blanks/lib/object"),g=e("./hooks/event-handler"),w=e("./hooks/attribute"),k=e("./hooks/property"),x=function S(e,t,r,n){o(this,S),this.tagName=e,this.namespace=t,this.key=null!=r.key?String(r.key):null,this.children=n;var i=n.length||0,a=0,s=!1,l=!1,d=!1,p=null,m=null!=r.attributes?r.attributes:null;for(var b in r)if(r.hasOwnProperty(b)){var y=r[b];if(f["default"](y))null==p&&(p={}),p[b]=y;else if(null!=g.supportedEvents[b]){if(null==p&&(p={}),null!=y){var x=g.eventHandler(y);p[b]=x,r[b]=x}}else if("value"!==b||null==y||"input"!==e.toLowerCase()&&"textarea"!==e.toLowerCase())null!=w.supportedAttributes[b]?(null==m&&(m={}),null!==y&&y!==!1&&(m[w.supportedAttributes[b]]=y===!0?"":y),delete r[b]):null!=k.supportedProperties[b]?(r[k.supportedProperties[b]]=y,delete r[b]):(0===b.indexOf("data-")||0===b.indexOf("aria-"))&&(null==m&&(m={}),m[b]=y,delete r[b]);else{null==p&&(p={});var O=new v["default"](y);p[b]=O,r[b]=O}}null!=m&&(r.attributes=m);for(var E=0;i>E;){var j=n[E];"string"==typeof j?n[E]=new h.VirtualText(j):"LazyTree"===j.$type?(n[E]=j.force(),E-=1):j instanceof S?(a+=j.count,!s&&j.hasWidgets&&(s=!0),!l&&j.hasThunks&&(l=!0),d||null==j.hooks&&!j.descendantHooks||(d=!0)):!s&&u["default"](j)?s=!0:!l&&c["default"](j)&&(l=!0),E+=1}this.count=i+a,this.hasWidgets=s,this.hasThunks=l,this.properties=r,this.hooks=p};r.VirtualNode=x,x.prototype.$type="VirtualNode",x.prototype.type="VirtualNode",x.prototype.version=p["default"];var O=function(e,t,r){return new x(e,null,null==t?y.blank:t,null==r?b.empty:r)};r.node=O},{"./hooks/attribute":125,"./hooks/event-handler":126,"./hooks/property":127,"./text":130,"blanks/lib/array":26,"blanks/lib/object":27,"virtual-dom/virtual-hyperscript/hooks/soft-set-hook":153,"virtual-dom/vnode/is-thunk":155,"virtual-dom/vnode/is-vhook":156,"virtual-dom/vnode/is-vnode":157,"virtual-dom/vnode/is-widget":159,"virtual-dom/vnode/version":160}],130:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var i=e("virtual-dom/vnode/version"),a=n(i),u=function c(e){o(this,c),this.text=e};r.VirtualText=u,u.prototype.$type="VirtualText",u.prototype.type="VirtualText",u.prototype.version=a["default"];var s=function(e){return new u(e)};r.text=s},{"virtual-dom/vnode/version":160}],131:[function(e,t,r){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function(e,t){return function(r){return e[t](r)}},u=function(){function e(t,r,n){o(this,e),this.key=t,this.view=r,this.args=n,this.addressBook=null,this.value=null}return i(e,[{key:"render",value:function(t){if(t instanceof e&&null!=t.value){s&&console.time(this.key+".receive");var r=this.view,o=this.args,i=this.key,u=t.args,c=t.addressBook,l=t.value;this.addressBook=c,this.args=u,this.value=l;var f=o.length,d=0,p=r!==t.view||i!==t.key;for(u.length!==f&&(p=!0,u.length=f,c.length=f);f>d;){var m=o[d],v=u[d];if(m!==v){var h="function"==typeof m,b="function"==typeof v;h&&b?c[d]=m:(p=!0,h?(c[d]=m,u[d]=a(c,d)):u[d]=m)}d+=1}s&&console.timeEnd(i+".receive"),p&&(s&&console.time(i+".render"),this.value=r.apply(void 0,n(u)),s&&console.timeEnd(i+".render"))}else{s&&console.time(this.key+".render");for(var c=[],u=this.args,r=this.view,i=this.key,f=u.length,d=0;f>d;){var v=u[d];"function"==typeof v?(c[d]=v,u[d]=a(c,d)):u[d]=v,d+=1}this.addressBook=c,this.value=r.apply(void 0,n(u)),s&&console.timeEnd(i+".render")}return this.value}}]),e}();r.Thunk=u,u.prototype.type="Thunk",u.prototype.$type="Thunk";var s=null,c=function(e,t){for(var r=arguments.length,n=Array(r>2?r-2:0),o=2;r>o;o++)n[o-2]=arguments[o];return new u(e,t,n)};r.thunk=c},{}],132:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(s){o=!0,i=s}finally{try{!n&&u["return"]&&u["return"]()}finally{if(o)throw i}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=e("./dom"),i=(e("./task"),e("./signal")),a=e("./effects"),u=function(e){return e[0]},s=function(e){return e[1]},c=function(e,t){return[e,a.none]},l=function(e){var t=e.initial,r=e.view,l=e.update,f=e.step,d=i.mailbox(),p=d.address,m=d.signal,v=null!=l?a.nofx(l):null!=f?f:c,h=[].concat(t,[a.none]);if(v===c)throw TypeError("start must be passed either step or update function");var b=function(e,t){{var r=n(e,2),o=r[0];r[1]}return null!=t?v(o,t):[o,a.none]},y=function(e){return new o.VirtualRoot(r,e,p)},g=i.reductions(b,h,m),w=i.map(u,g);return{address:p,model:w,task:i.map(s,g),view:i.map(y,w)}};r.start=l},{"./dom":133,"./effects":134,"./signal":137,"./task":138}],133:[function(e,t,r){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=null,u=function(){function e(t,r,n){o(this,e),this.view=t,this.model=r,this.address=n}return i(e,[{key:"renderWith",value:function(e){var t=a;a=e;try{a.render(this.view(this.model,this.address))}finally{a=t}}}]),e}();r.VirtualRoot=u,u.prototype.$type="VirtualRoot";var s=function(){function e(t,r,n){o(this,e),this.tagName=t,this.properties=r,this.children=n,this.key=null==r?null:r.key}return i(e,[{key:"force",value:function(){if(null==a)throw TypeError("LazyTree may only be forced from with in the Root.renderWith(driver) call");return a.node(this.tagName,this.properties,this.children)}}]),e}();r.LazyNode=s,s.prototype.$type="LazyTree";var c=function(){function e(t,r,n){o(this,e),this.key=t,this.view=r,this.args=n}return i(e,[{key:"force",value:function(){var e;if(null==a)throw TypeError("LazyTree may only be forced from with in the Root.renderWith(driver) call");return(e=a).thunk.apply(e,[this.key,this.view].concat(n(this.args)))}}]),e}();c.prototype.$type="LazyTree";var l=function(e){return null==a?e:null==a.text?e:a.text(e)};r.text=l;var f=function(e,t,r){return null==a?new s(e,t,r):a.node(e,t,r)};r.node=f;var d=function(e,t){for(var r=arguments.length,n=Array(r>2?r-2:0),o=2;r>o;o++)n[o-2]=arguments[o];var i;return null==a?new c(e,t,n):(i=a).thunk.apply(i,[e,t].concat(n))};r.thunk=d},{}],134:[function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=e("./task"),u=n(a),s=u.succeed,c=u.perform,l=u.send,f=u.io,d=(u.future,u.Task,function C(){o(this,C)});r.Never=d,d.prototype.$type="Effects.Never";var p=function(){function e(){o(this,e)}return i(e,[{key:"map",value:function(e){return m}},{key:"send",value:function(e){return s()}}]),e}();r.None=p,p.prototype.$type="Effects.None";var m=new p;r.none=m;var v=0,h=1,b=2,y=function(){function e(){o(this,e),this.state=v,this.requests=[],this.execute=this.execute.bind(this)}return i(e,[{key:"schedule",value:function(e){this.state===v&&window.requestAnimationFrame(this.execute),this.requests.push(e),this.state=h}},{key:"execute",value:function(e){switch(this.state){case v:throw Error("Unexpected frame request");case h:window.requestAnimationFrame(this.execute),this.state=b,this.dispatch(this.requests.splice(0),0,e);break;case b:this.state=v}}},{key:"dispatch",value:function(e,t,r){var n=e.length;try{for(;n>t;){var o=e[t];t+=1,o(r)}}finally{n>t&&this.dispatch(e,t,r)}}}]),e}(),g=new y,w=function(){function e(t){o(this,e),this.tag=t}return i(e,[{key:"map",value:function(t){var r=this;return new e(function(e){return t(r.tag(e))})}},{key:"send",value:function(e){var t=f(function(e){return g.schedule(function(t){return e(s(t))})}).map(this.tag).chain(function(t){return l(e,t)});return c(t),s()}}]),e}();w.prototype.$type="Effects.Tick";var k=function(){function e(t){o(this,e),this.task=t}return i(e,[{key:"map",value:function(t){return new e(this.task.map(t))}},{key:"send",value:function(e){var t=this.task.chain(function(t){return l(e,t)});return c(t),s()}}]),e}();k.prototype.$type="Effects.Task";var x=function(){function e(t){o(this,e),this.effects=t}return i(e,[{key:"map",value:function(t){return new e(this.effects.map(function(e){return e.map(t)}))}},{key:"send",value:function(e){for(var t=this.effects,r=t.length,n=0;r>n;)t[n].send(e),n+=1;return s()}}]),e}();x.prototype.$type="Effects.Batch";var O=function(e){return new k(e)};r.task=O;var S=function(e){return new w(e)};r.tick=S;var E=function(e){return new k(s(e))};r.receive=E;var j=function(e){return new x(e)};r.batch=j;var $=function(e){return function(t,r){return[e(t,r),m]}};r.nofx=$;var _=function(e){return function(t){return void c(t.send(e))}};r.service=_},{"./task":138}],135:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("./dom"),o=Object.create(null);r.html=o,["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","g","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach(function(e){var t=function(t,r){return n.node(e,t,r)};o[e]=t})},{"./dom":133}],136:[function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}Object.defineProperty(r,"__esModule",{value:!0});var o=e("./effects"),i=n(o),a=e("./task"),u=n(a),s=e("./dom"),c=n(s);Object.defineProperty(r,"send",{enumerable:!0,get:function(){return a.send}}),Object.defineProperty(r,"thunk",{enumerable:!0,get:function(){return s.thunk}}),Object.defineProperty(r,"node",{enumerable:!0,get:function(){return s.node}}),Object.defineProperty(r,"text",{enumerable:!0,get:function(){return s.text}});var l=e("./html");Object.defineProperty(r,"html",{enumerable:!0,get:function(){return l.html}});var f=e("./signal");Object.defineProperty(r,"forward",{enumerable:!0,get:function(){return f.forward}}),Object.defineProperty(r,"mailbox",{enumerable:!0,get:function(){return f.mailbox}});var d=e("./application");Object.defineProperty(r,"start",{enumerable:!0,get:function(){return d.start}}),r.Effects=i,r.Task=u,r.DOM=c},{"./application":132,"./dom":133,"./effects":134,"./html":135,"./signal":137,"./task":138}],137:[function(e,t,r){(function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function(){function e(r){t(this,e),this.value=r,this.isBlocked=!1,this.addressBook=null,this.queue=null,this.address=null}return n(e,null,[{key:"Address",value:function(e){return null==e.address?(e.address=e.receive.bind(e),e.address):e.address}},{key:"notify",value:function(t,r,n,o){try{for(;o>n;){var i=r[n];null!=i&&i(t),n+=1}}finally{o>n&&e.notify(t,r,n+1,o)}}},{key:"connect",value:function(e,t){if(null==e.addressBook)e.addressBook=[t];else{var r=e.addressBook;r.indexOf(t)<0&&r.push(t)}}}]),n(e,[{key:"receive",value:function(t){if(this.isBlocked)null==this.queue?this.queue=[t]:this.queue.push(t);else{this.isBlocked=!0;try{if(this.value=t,null!=this.addressBook){var r=this.addressBook;e.notify(t,r,0,r.length)}}finally{this.isBlocked=!1,null!=this.queue&&this.queue.length>0&&this.receive(t=this.queue.shift())}}}},{key:"subscribe",value:function(t){e.connect(this,t),t(this.value)}},{key:"connect",value:function(e){if(null==this.addressBook)this.addressBook=[e];else{var t=this.addressBook;t.indexOf(e)<0&&t.push(e)}}}]),e}();r.Signal=o,o.prototype.$type="Signal.Signal";var i=function f(e){t(this,f),this.signal=new o(e),this.address=o.Address(this.signal)};i.prototype.$type="Signal.Mailbox";var a=function(e){return new i(e)};r.mailbox=a;var u=function(e,t){var r=function(r){return e(t(r))};return r.to=e,
r.tag=t,r};null==e["reflex/address"]&&(e["reflex/address"]=0);var s=function(t,r){var n=null!=t.id?t.id:t.id=e["reflex/address"]++,o="reflex/address/"+n;return r[o]||(r[o]=u(t,r))};r.forward=s;var c=function(e,t,r){var n=new o(t);return r.connect(s(o.Address(n),function(t){return e(n.value,t)})),n};r.reductions=c;var l=function(e,t){var r=new o(e(t.value));return t.connect(s(o.Address(r),e)),r};r.map=l}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],138:[function(e,t,r){"use strict";function n(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var o=r[n],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}return e}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):n(e,t))}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var a=function(e,t,r){for(var n=!0;n;){var o=e,i=t,a=r;u=c=s=void 0,n=!1,null===o&&(o=Function.prototype);var u=Object.getOwnPropertyDescriptor(o,i);if(void 0!==u){if("value"in u)return u.value;var s=u.get;return void 0===s?void 0:s.call(a)}var c=Object.getPrototypeOf(o);if(null===c)return void 0;e=c,t=i,r=a,n=!0}},u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(){function e(){i(this,e)}return u(e,[{key:"chain",value:function(e){return new m(this,e)}},{key:"map",value:function(e){return new m(this,function(t){return h(e(t))})}},{key:"catch",value:function(e){return new v(this,e)}}]),e}();r.Task=s,s.prototype.$type="Task.Task";var c=function(e){function t(){i(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return o(t,e),u(t,[{key:"resume",value:function(e){this.task=e}}]),t}(s),l=function(e){function t(e){i(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.value=e}return o(t,e),t}(s),f=function(e){function t(e){i(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.value=e}return o(t,e),t}(s),d=function(e){function t(e){i(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.request=e}return o(t,e),t}(s),p=function(e){function t(e){i(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,function(t){return void e().then(h,b).then(t)})}return o(t,e),t}(d),m=function(e){function t(e,r){i(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.task=e,this.resume=r}return o(t,e),t}(s),v=function(e){function t(e,r){i(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.task=e,this.resume=r}return o(t,e),t}(s),h=function(e){return new l(e)};r.succeed=h;var b=function(e){return new f(e)};r.fail=b;var y=function(e){return new d(e)};r.io=y;var g=function(e){return new p(e)};r.future=g;var w=function(e,t){return new m(e,t)};r.chain=w;var k=function(e,t){return new v(e,t)};r.recover=k;var x=function(e){return y(function(t){var r=setTimeout(E,0,e);t(h(r))})};r.spawn=x;var O=function(e){return y(function(t){setTimeout(function(){return t(h(void 0))},e)})};r.sleep=O;var S=function(){return void 0},E=function(e){return P(new $(e),S)};r.perform=E;var j=function(e,t){return P(new $(e),t)};r.execute=j;var $=function T(e){i(this,T),this.task=e};$.prototype.$type="Task.Routine.Running";var _=function F(e){i(this,F),this.task=e};_.prototype.$type="Task.Routine.Done";var C=function R(e){i(this,R),this.task=e};C.prototype.$type="Task.Routine.Blocked";var P=function(e,t){for(var r=new $(e.task);r instanceof $;)r=A(e,r.task,t);r instanceof C&&(e.task=r.task),r instanceof _&&t()};r.run=P;var A=function B(e,t,r){if(t instanceof l)return new _(t);if(t instanceof f)return new _(t);if(t instanceof c)return null!=t.task?new $(t.task):new C(t);if(t instanceof d){var n=function(){var n=!1,o=!1,i=new c;return t.request(function(t){o=!0,i.resume(t),n&&P(e,r)}),n=!o,{v:o?new $(i):new C(i)}}();if("object"==typeof n)return n.v}if(t instanceof m||t instanceof v){for(var o=new $(t.task);o instanceof $;)o=B(e,o.task,r);if(o instanceof _){var i=o.task;return new $(t instanceof m&&i instanceof l?t.resume(i.value):t instanceof v&&i instanceof f?t.resume(i.value):i)}if(t instanceof m)return new C(new m(o.task,t.resume));if(t instanceof v)return new C(new v(o.task,t.resume))}return new $(t)},M=function(e,t){return y(function(r){return r(h(e(t)))})};r.send=M},{}],139:[function(e,t,r){!function(){function e(t,n){if(t=t?t:"",n=n||{},t instanceof e)return t;if(!(this instanceof e))return new e(t,n);var o=r(t);this._originalInput=t,this._r=o.r,this._g=o.g,this._b=o.b,this._a=o.a,this._roundA=q(100*this._a)/100,this._format=n.format||o.format,this._gradientType=n.gradientType,this._r<1&&(this._r=q(this._r)),this._g<1&&(this._g=q(this._g)),this._b<1&&(this._b=q(this._b)),this._ok=o.ok,this._tc_id=D++}function r(e){var t={r:0,g:0,b:0},r=1,o=!1,a=!1;return"string"==typeof e&&(e=F(e)),"object"==typeof e&&(e.hasOwnProperty("r")&&e.hasOwnProperty("g")&&e.hasOwnProperty("b")?(t=n(e.r,e.g,e.b),o=!0,a="%"===String(e.r).substr(-1)?"prgb":"rgb"):e.hasOwnProperty("h")&&e.hasOwnProperty("s")&&e.hasOwnProperty("v")?(e.s=A(e.s),e.v=A(e.v),t=u(e.h,e.s,e.v),o=!0,a="hsv"):e.hasOwnProperty("h")&&e.hasOwnProperty("s")&&e.hasOwnProperty("l")&&(e.s=A(e.s),e.l=A(e.l),t=i(e.h,e.s,e.l),o=!0,a="hsl"),e.hasOwnProperty("a")&&(r=e.a)),r=S(r),{ok:o,format:e.format||a,r:N(255,L(t.r,0)),g:N(255,L(t.g,0)),b:N(255,L(t.b,0)),a:r}}function n(e,t,r){return{r:255*E(e,255),g:255*E(t,255),b:255*E(r,255)}}function o(e,t,r){e=E(e,255),t=E(t,255),r=E(r,255);var n,o,i=L(e,t,r),a=N(e,t,r),u=(i+a)/2;if(i==a)n=o=0;else{var s=i-a;switch(o=u>.5?s/(2-i-a):s/(i+a),i){case e:n=(t-r)/s+(r>t?6:0);break;case t:n=(r-e)/s+2;break;case r:n=(e-t)/s+4}n/=6}return{h:n,s:o,l:u}}function i(e,t,r){function n(e,t,r){return 0>r&&(r+=1),r>1&&(r-=1),1/6>r?e+6*(t-e)*r:.5>r?t:2/3>r?e+(t-e)*(2/3-r)*6:e}var o,i,a;if(e=E(e,360),t=E(t,100),r=E(r,100),0===t)o=i=a=r;else{var u=.5>r?r*(1+t):r+t-r*t,s=2*r-u;o=n(s,u,e+1/3),i=n(s,u,e),a=n(s,u,e-1/3)}return{r:255*o,g:255*i,b:255*a}}function a(e,t,r){e=E(e,255),t=E(t,255),r=E(r,255);var n,o,i=L(e,t,r),a=N(e,t,r),u=i,s=i-a;if(o=0===i?0:s/i,i==a)n=0;else{switch(i){case e:n=(t-r)/s+(r>t?6:0);break;case t:n=(r-e)/s+2;break;case r:n=(e-t)/s+4}n/=6}return{h:n,s:o,v:u}}function u(e,t,r){e=6*E(e,360),t=E(t,100),r=E(r,100);var n=z.floor(e),o=e-n,i=r*(1-t),a=r*(1-o*t),u=r*(1-(1-o)*t),s=n%6,c=[r,a,i,i,u,r][s],l=[u,r,r,a,i,i][s],f=[i,i,u,r,r,a][s];return{r:255*c,g:255*l,b:255*f}}function s(e,t,r,n){var o=[P(q(e).toString(16)),P(q(t).toString(16)),P(q(r).toString(16))];return n&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function c(e,t,r,n){var o=[P(M(n)),P(q(e).toString(16)),P(q(t).toString(16)),P(q(r).toString(16))];return o.join("")}function l(t,r){r=0===r?0:r||10;var n=e(t).toHsl();return n.s-=r/100,n.s=j(n.s),e(n)}function f(t,r){r=0===r?0:r||10;var n=e(t).toHsl();return n.s+=r/100,n.s=j(n.s),e(n)}function d(t){return e(t).desaturate(100)}function p(t,r){r=0===r?0:r||10;var n=e(t).toHsl();return n.l+=r/100,n.l=j(n.l),e(n)}function m(t,r){r=0===r?0:r||10;var n=e(t).toRgb();return n.r=L(0,N(255,n.r-q(255*-(r/100)))),n.g=L(0,N(255,n.g-q(255*-(r/100)))),n.b=L(0,N(255,n.b-q(255*-(r/100)))),e(n)}function v(t,r){r=0===r?0:r||10;var n=e(t).toHsl();return n.l-=r/100,n.l=j(n.l),e(n)}function h(t,r){var n=e(t).toHsl(),o=(q(n.h)+r)%360;return n.h=0>o?360+o:o,e(n)}function b(t){var r=e(t).toHsl();return r.h=(r.h+180)%360,e(r)}function y(t){var r=e(t).toHsl(),n=r.h;return[e(t),e({h:(n+120)%360,s:r.s,l:r.l}),e({h:(n+240)%360,s:r.s,l:r.l})]}function g(t){var r=e(t).toHsl(),n=r.h;return[e(t),e({h:(n+90)%360,s:r.s,l:r.l}),e({h:(n+180)%360,s:r.s,l:r.l}),e({h:(n+270)%360,s:r.s,l:r.l})]}function w(t){var r=e(t).toHsl(),n=r.h;return[e(t),e({h:(n+72)%360,s:r.s,l:r.l}),e({h:(n+216)%360,s:r.s,l:r.l})]}function k(t,r,n){r=r||6,n=n||30;var o=e(t).toHsl(),i=360/n,a=[e(t)];for(o.h=(o.h-(i*r>>1)+720)%360;--r;)o.h=(o.h+i)%360,a.push(e(o));return a}function x(t,r){r=r||6;for(var n=e(t).toHsv(),o=n.h,i=n.s,a=n.v,u=[],s=1/r;r--;)u.push(e({h:o,s:i,v:a})),a=(a+s)%1;return u}function O(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[e[r]]=r);return t}function S(e){return e=parseFloat(e),(isNaN(e)||0>e||e>1)&&(e=1),e}function E(e,t){_(e)&&(e="100%");var r=C(e);return e=N(t,L(0,parseFloat(e))),r&&(e=parseInt(e*t,10)/100),z.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function j(e){return N(1,L(0,e))}function $(e){return parseInt(e,16)}function _(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)}function C(e){return"string"==typeof e&&-1!=e.indexOf("%")}function P(e){return 1==e.length?"0"+e:""+e}function A(e){return 1>=e&&(e=100*e+"%"),e}function M(e){return Math.round(255*parseFloat(e)).toString(16)}function T(e){return $(e)/255}function F(e){e=e.replace(B,"").replace(I,"").toLowerCase();var t=!1;if(U[e])e=U[e],t=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};var r;return(r=G.rgb.exec(e))?{r:r[1],g:r[2],b:r[3]}:(r=G.rgba.exec(e))?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=G.hsl.exec(e))?{h:r[1],s:r[2],l:r[3]}:(r=G.hsla.exec(e))?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=G.hsv.exec(e))?{h:r[1],s:r[2],v:r[3]}:(r=G.hsva.exec(e))?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=G.hex8.exec(e))?{a:T(r[1]),r:$(r[2]),g:$(r[3]),b:$(r[4]),format:t?"name":"hex8"}:(r=G.hex6.exec(e))?{r:$(r[1]),g:$(r[2]),b:$(r[3]),format:t?"name":"hex"}:(r=G.hex3.exec(e))?{r:$(r[1]+""+r[1]),g:$(r[2]+""+r[2]),b:$(r[3]+""+r[3]),format:t?"name":"hex"}:!1}function R(e){var t,r;return e=e||{level:"AA",size:"small"},t=(e.level||"AA").toUpperCase(),r=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA"),"small"!==r&&"large"!==r&&(r="small"),{level:t,size:r}}var B=/^[\s,#]+/,I=/\s+$/,D=0,z=Math,q=z.round,N=z.min,L=z.max,V=z.random;e.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,r,n,o,i,a=this.toRgb();return e=a.r/255,t=a.g/255,r=a.b/255,n=.03928>=e?e/12.92:Math.pow((e+.055)/1.055,2.4),o=.03928>=t?t/12.92:Math.pow((t+.055)/1.055,2.4),i=.03928>=r?r/12.92:Math.pow((r+.055)/1.055,2.4),.2126*n+.7152*o+.0722*i},setAlpha:function(e){return this._a=S(e),this._roundA=q(100*this._a)/100,this},toHsv:function(){var e=a(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=a(this._r,this._g,this._b),t=q(360*e.h),r=q(100*e.s),n=q(100*e.v);return 1==this._a?"hsv("+t+", "+r+"%, "+n+"%)":"hsva("+t+", "+r+"%, "+n+"%, "+this._roundA+")"},toHsl:function(){var e=o(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=o(this._r,this._g,this._b),t=q(360*e.h),r=q(100*e.s),n=q(100*e.l);return 1==this._a?"hsl("+t+", "+r+"%, "+n+"%)":"hsla("+t+", "+r+"%, "+n+"%, "+this._roundA+")"},toHex:function(e){return s(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(){return c(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:q(this._r),g:q(this._g),b:q(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+q(this._r)+", "+q(this._g)+", "+q(this._b)+")":"rgba("+q(this._r)+", "+q(this._g)+", "+q(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:q(100*E(this._r,255))+"%",g:q(100*E(this._g,255))+"%",b:q(100*E(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+q(100*E(this._r,255))+"%, "+q(100*E(this._g,255))+"%, "+q(100*E(this._b,255))+"%)":"rgba("+q(100*E(this._r,255))+"%, "+q(100*E(this._g,255))+"%, "+q(100*E(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":this._a<1?!1:W[s(this._r,this._g,this._b,!0)]||!1},toFilter:function(t){var r="#"+c(this._r,this._g,this._b,this._a),n=r,o=this._gradientType?"GradientType = 1, ":"";if(t){var i=e(t);n=i.toHex8String()}return"progid:DXImageTransform.Microsoft.gradient("+o+"startColorstr="+r+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var r=!1,n=this._a<1&&this._a>=0,o=!t&&n&&("hex"===e||"hex6"===e||"hex3"===e||"name"===e);return o?"name"===e&&0===this._a?this.toName():this.toRgbString():("rgb"===e&&(r=this.toRgbString()),"prgb"===e&&(r=this.toPercentageRgbString()),("hex"===e||"hex6"===e)&&(r=this.toHexString()),"hex3"===e&&(r=this.toHexString(!0)),"hex8"===e&&(r=this.toHex8String()),"name"===e&&(r=this.toName()),"hsl"===e&&(r=this.toHslString()),"hsv"===e&&(r=this.toHsvString()),r||this.toHexString())},_applyModification:function(e,t){var r=e.apply(null,[this].concat([].slice.call(t)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(p,arguments)},brighten:function(){return this._applyModification(m,arguments)},darken:function(){return this._applyModification(v,arguments)},desaturate:function(){return this._applyModification(l,arguments)},saturate:function(){return this._applyModification(f,arguments)},greyscale:function(){return this._applyModification(d,arguments)},spin:function(){return this._applyModification(h,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(k,arguments)},complement:function(){return this._applyCombination(b,arguments)},monochromatic:function(){return this._applyCombination(x,arguments)},splitcomplement:function(){return this._applyCombination(w,arguments)},triad:function(){return this._applyCombination(y,arguments)},tetrad:function(){return this._applyCombination(g,arguments)}},e.fromRatio=function(t,r){if("object"==typeof t){var n={};for(var o in t)t.hasOwnProperty(o)&&(n[o]="a"===o?t[o]:A(t[o]));t=n}return e(t,r)},e.equals=function(t,r){return t&&r?e(t).toRgbString()==e(r).toRgbString():!1},e.random=function(){return e.fromRatio({r:V(),g:V(),b:V()})},e.mix=function(t,r,n){n=0===n?0:n||50;var o,i=e(t).toRgb(),a=e(r).toRgb(),u=n/100,s=2*u-1,c=a.a-i.a;o=s*c==-1?s:(s+c)/(1+s*c),o=(o+1)/2;var l=1-o,f={r:a.r*o+i.r*l,g:a.g*o+i.g*l,b:a.b*o+i.b*l,a:a.a*u+i.a*(1-u)};return e(f)},e.readability=function(t,r){var n=e(t),o=e(r);return(Math.max(n.getLuminance(),o.getLuminance())+.05)/(Math.min(n.getLuminance(),o.getLuminance())+.05)},e.isReadable=function(t,r,n){var o,i,a=e.readability(t,r);switch(i=!1,o=R(n),o.level+o.size){case"AAsmall":case"AAAlarge":i=a>=4.5;break;case"AAlarge":i=a>=3;break;case"AAAsmall":i=a>=7}return i},e.mostReadable=function(t,r,n){var o,i,a,u,s=null,c=0;n=n||{},i=n.includeFallbackColors,a=n.level,u=n.size;for(var l=0;l<r.length;l++)o=e.readability(t,r[l]),o>c&&(c=o,s=e(r[l]));return e.isReadable(t,s,{level:a,size:u})||!i?s:(n.includeFallbackColors=!1,e.mostReadable(t,["#fff","#000"],n))};var U=e.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},W=e.hexNames=O(U),G=function(){var e="[-\\+]?\\d+%?",t="[-\\+]?\\d*\\.\\d+%?",r="(?:"+t+")|(?:"+e+")",n="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?",o="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?";return{rgb:new RegExp("rgb"+n),rgba:new RegExp("rgba"+o),hsl:new RegExp("hsl"+n),hsla:new RegExp("hsla"+o),hsv:new RegExp("hsv"+n),hsva:new RegExp("hsva"+o),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();"undefined"!=typeof t&&t.exports?t.exports=e:"function"==typeof define&&define.amd?define(function(){return e}):window.tinycolor=e}()},{}],140:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.turns=function(e){return 2*Math.PI*e},r.degrees=function(e){return e*Math.PI/180}},{}],141:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0}),r.darkCharcoal=r.charcoal=r.lightCharcoal=r.darkGrey=r.grey=r.lightGrey=r.white=r.black=r.darkBrown=r.brown=r.lightBrown=r.darkPurple=r.purple=r.lightPurple=r.darkBlue=r.blue=r.lightBlue=r.darkGreen=r.green=r.lightGreen=r.darkYellow=r.yellow=r.lightYellow=r.darkOrange=r.orange=r.lightOrange=r.darkRed=r.red=r.lightRed=r.toRGB=r.toHSL=r.complement=r.grayscale=r.hsl=r.hsla=r.rgb=r.rgba=void 0;{var i=function(){function e(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(s){o=!0,i=s}finally{try{!n&&u["return"]&&u["return"]()}finally{if(o)throw i}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=e("./angle"),s=e("outthrow"),c=n(s),l=function(){function e(t,r,n,i){o(this,e),this.red=t,this.green=r,this.blue=n,this.alpha=i}return a(e,null,[{key:"toHSLA",value:function(e){var t=e.red,r=e.green,n=e.blue,o=e.alpha,i=t/255,a=r/255,s=n/255,c=Math.max(Math.max(i,a),s),l=Math.min(Math.min(i,a),s),d=c-l,p=c===i?v((a-s)/d,6):c===a?(s-i)/d+2:(i-a)/d+4,m=u.degrees(60)*p,h=(c+l)/2,b=0===h?0:d/(1-Math.abs(2*h-1));return new f(m,h,b,o)}}]),e}(),f=function(){function e(t,r,n,i){o(this,e),this.hue=t,this.saturation=r,this.lightness=n,this.alpha=i}return a(e,null,[{key:"complement",value:function(t){var r=t.hue,n=t.saturation,o=t.lightness,i=t.alpha;return new e(r+u.degrees(180),n,o,i)}},{key:"toRGBA",value:function(e){var t=e.hue,r=e.saturation,n=e.lightness,o=e.alpha,a=(1-Math.abs(2*n-1))*r,s=t/u.degrees(60),c=a*(1-Math.abs(v(s,1))),f=0>s?[0,0,0]:1>s?[a,c,0]:2>s?[c,a,0]:3>s?[0,a,c]:4>s?[0,c,a]:5>s?[c,0,a]:6>s?[a,0,c]:[0,0,0],d=i(f,3),p=d[0],m=d[1],h=d[2],b=n-a/2,y=new l(Math.round(255*(p+b)),Math.round(255*(m+b)),Math.round(255*(h+b)),o);return y}}]),e}(),d=(r.rgba=function(e,t,r,n){return new l(e,t,r,n)},r.rgb=function(e,t,r){return new l(e,t,r,1)}),p=r.hsla=function(e,t,r,n){return new f(e-u.turns(Math.floor(e/(2*Math.PI))),t,r,n)},m=(r.hsl=function(e,t,r){return p(e,t,r,1)},r.grayscale=function(e){return new f(0,0,1-e,1)},r.complement=function(e){return f.complement(m(e))},r.toHSL=function(e){return e instanceof f?e:e instanceof l?l.toHSLA(e):null!=e&&"number"==typeof e.hue&&"number"==typeof e.saturation&&"number"==typeof e.lightness&&"number"==typeof e.alpha?e:null!=e&&"number"==typeof e.red&&"number"==typeof e.green&&"number"==typeof e.blue&&"number"==typeof e.alpha?l.toHSLA(e):c["default"](TypeError("Passed argument is not a valid color value"))}),v=(r.toRGB=function(e){return e instanceof f?f.toRGBA(e):e instanceof l?e:null!=e&&"number"==typeof e.hue&&"number"==typeof e.saturation&&"number"==typeof e.lightness&&"number"==typeof e.alpha?f.toRGBA(e):null!=e&&"number"==typeof e.red&&"number"==typeof e.green&&"number"==typeof e.blue&&"number"==typeof e.alpha?e:c["default"](TypeError("Passed argument is not a valid color value"))},function(e,t){var r=Math.floor(e);return r%t+e-r});r.lightRed=d(239,41,41),r.red=d(204,0,0),r.darkRed=d(164,0,0),r.lightOrange=d(252,175,62),r.orange=d(245,121,0),r.darkOrange=d(206,92,0),r.lightYellow=d(255,233,79),r.yellow=d(237,212,0),r.darkYellow=d(196,160,0),r.lightGreen=d(138,226,52),r.green=d(115,210,22),r.darkGreen=d(78,154,6),r.lightBlue=d(114,159,207),r.blue=d(52,101,164),r.darkBlue=d(32,74,135),r.lightPurple=d(173,127,168),r.purple=d(117,80,123),r.darkPurple=d(92,53,102),r.lightBrown=d(233,185,110),r.brown=d(193,125,17),r.darkBrown=d(143,89,2),r.black=d(0,0,0),r.white=d(255,255,255),r.lightGrey=d(238,238,236),r.grey=d(211,215,207),r.darkGrey=d(186,189,182),r.lightCharcoal=d(136,138,133),r.charcoal=d(85,87,83),r.darkCharcoal=d(46,52,54)}},{"./angle":140,outthrow:124}],142:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("./angle");Object.defineProperty(r,"turns",{enumerable:!0,get:function(){return n.turns}}),Object.defineProperty(r,"degrees",{enumerable:!0,get:function(){return n.degrees}});var o=e("./color");Object.defineProperty(r,"rgb",{enumerable:!0,get:function(){return o.rgb}}),Object.defineProperty(r,"rgba",{enumerable:!0,get:function(){return o.rgba}}),Object.defineProperty(r,"hsl",{enumerable:!0,get:function(){return o.hsl}}),Object.defineProperty(r,"hsla",{enumerable:!0,get:function(){return o.hsla}}),Object.defineProperty(r,"grayscale",{enumerable:!0,get:function(){return o.grayscale}}),Object.defineProperty(r,"toRGB",{enumerable:!0,get:function(){return o.toRGB}}),Object.defineProperty(r,"toHSL",{enumerable:!0,get:function(){return o.toHSL}}),Object.defineProperty(r,"lightRed",{enumerable:!0,get:function(){return o.lightRed}}),Object.defineProperty(r,"red",{enumerable:!0,get:function(){return o.red}}),Object.defineProperty(r,"darkRed",{enumerable:!0,get:function(){return o.darkRed}}),Object.defineProperty(r,"lightOrange",{enumerable:!0,get:function(){return o.lightOrange}}),Object.defineProperty(r,"orange",{enumerable:!0,get:function(){return o.orange}}),Object.defineProperty(r,"darkOrange",{enumerable:!0,get:function(){return o.darkOrange}}),Object.defineProperty(r,"lightYellow",{enumerable:!0,get:function(){return o.lightYellow}}),Object.defineProperty(r,"yellow",{enumerable:!0,get:function(){return o.yellow}}),Object.defineProperty(r,"darkYellow",{enumerable:!0,get:function(){return o.darkYellow}}),Object.defineProperty(r,"lightGreen",{enumerable:!0,get:function(){return o.lightGreen}}),Object.defineProperty(r,"green",{enumerable:!0,get:function(){return o.green}}),Object.defineProperty(r,"darkGreen",{enumerable:!0,get:function(){return o.darkGreen}}),Object.defineProperty(r,"lightBlue",{enumerable:!0,get:function(){return o.lightBlue}}),Object.defineProperty(r,"blue",{enumerable:!0,get:function(){return o.blue}}),Object.defineProperty(r,"darkBlue",{enumerable:!0,get:function(){return o.darkBlue}}),Object.defineProperty(r,"lightPurple",{enumerable:!0,get:function(){return o.lightPurple}}),Object.defineProperty(r,"purple",{enumerable:!0,get:function(){return o.purple}}),Object.defineProperty(r,"darkPurple",{enumerable:!0,get:function(){return o.darkPurple}}),Object.defineProperty(r,"lightBrown",{enumerable:!0,get:function(){return o.lightBrown}}),Object.defineProperty(r,"brown",{enumerable:!0,get:function(){return o.brown}}),Object.defineProperty(r,"darkBrown",{enumerable:!0,get:function(){return o.darkBrown}}),Object.defineProperty(r,"black",{enumerable:!0,get:function(){return o.black}}),Object.defineProperty(r,"white",{enumerable:!0,get:function(){return o.white}}),Object.defineProperty(r,"lightGrey",{enumerable:!0,get:function(){return o.lightGrey}}),Object.defineProperty(r,"grey",{enumerable:!0,get:function(){return o.grey}}),Object.defineProperty(r,"darkGrey",{enumerable:!0,get:function(){return o.darkGrey}}),Object.defineProperty(r,"lightCharcoal",{enumerable:!0,get:function(){return o.lightCharcoal}}),Object.defineProperty(r,"charcoal",{enumerable:!0,get:function(){return o.charcoal}}),Object.defineProperty(r,"darkCharcoal",{enumerable:!0,get:function(){return o.darkCharcoal}})},{"./angle":140,"./color":141}],143:[function(e,t,r){var n=e("./vdom/create-element.js");t.exports=n},{"./vdom/create-element.js":148}],144:[function(e,t,r){var n=e("./vtree/diff.js");t.exports=n},{"./vtree/diff.js":163}],145:[function(e,t,r){"use strict";t.exports=function(e){return"object"==typeof e&&null!==e}},{}],146:[function(e,t,r){var n=e("./vdom/patch.js");t.exports=n},{"./vdom/patch.js":151}],147:[function(e,t,r){function n(e,t,r){for(var n in t){var a=t[n];void 0===a?o(e,n,a,r):s(a)?(o(e,n,a,r),a.hook&&a.hook(e,n,r?r[n]:void 0)):u(a)?i(e,t,r,n,a):e[n]=a}}function o(e,t,r,n){if(n){var o=n[t];if(s(o))o.unhook&&o.unhook(e,t,r);else if("attributes"===t)for(var i in o)e.removeAttribute(i);else if("style"===t)for(var a in o)e.style[a]="";else e[t]="string"==typeof o?"":null}}function i(e,t,r,n,o){var i=r?r[n]:void 0;if("attributes"!==n){if(i&&u(i)&&a(i)!==a(o))return void(e[n]=o);u(e[n])||(e[n]={});var s="style"===n?"":void 0;for(var c in o){var l=o[c];e[n][c]=void 0===l?s:l}}else for(var f in o){var d=o[f];void 0===d?e.removeAttribute(f):e.setAttribute(f,d)}}function a(e){return Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__?e.__proto__:e.constructor?e.constructor.prototype:void 0}var u=e("is-object"),s=e("../vnode/is-vhook.js");t.exports=n},{"../vnode/is-vhook.js":156,"is-object":145}],148:[function(e,t,r){function n(e,t){var r=t?t.document||o:o,l=t?t.warn:null;if(e=c(e).a,s(e))return e.init();if(u(e))return r.createTextNode(e.text);if(!a(e))return l&&l("Item is not a valid virtual dom node",e),null;var f=null===e.namespace?r.createElement(e.tagName):r.createElementNS(e.namespace,e.tagName),d=e.properties;i(f,d);for(var p=e.children,m=0;m<p.length;m++){var v=n(p[m],t);v&&f.appendChild(v)}return f}var o=e("global/document"),i=e("./apply-properties"),a=e("../vnode/is-vnode.js"),u=e("../vnode/is-vtext.js"),s=e("../vnode/is-widget.js"),c=e("../vnode/handle-thunk.js");t.exports=n},{"../vnode/handle-thunk.js":154,"../vnode/is-vnode.js":157,"../vnode/is-vtext.js":158,"../vnode/is-widget.js":159,"./apply-properties":147,"global/document":122}],149:[function(e,t,r){function n(e,t,r,n){return r&&0!==r.length?(r.sort(a),o(e,t,r,n,0)):{}}function o(e,t,r,n,a){if(n=n||{},e){i(r,a,a)&&(n[a]=e);var s=t.children;if(s)for(var c=e.childNodes,l=0;l<t.children.length;l++){a+=1;var f=s[l]||u,d=a+(f.count||0);i(r,a,d)&&o(c[l],f,r,n,a),a=d}}return n}function i(e,t,r){if(0===e.length)return!1;for(var n,o,i=0,a=e.length-1;a>=i;){if(n=(a+i)/2>>0,o=e[n],i===a)return o>=t&&r>=o;if(t>o)i=n+1;else{if(!(o>r))return!0;a=n-1}}return!1}function a(e,t){return e>t?1:-1}var u={};t.exports=n},{}],150:[function(e,t,r){function n(e,t,r){var n=e.type,c=e.vNode,p=e.patch;switch(n){case m.REMOVE:return o(t,c);case m.INSERT:return i(t,p,r);case m.VTEXT:return a(t,c,p,r);case m.WIDGET:return u(t,c,p,r);case m.VNODE:return s(t,c,p,r);case m.ORDER:return l(t,p),t;case m.PROPS:return d(t,p,c.properties),t;case m.THUNK:return f(t,r.patch(t,p,r));default:return t}}function o(e,t){var r=e.parentNode;return r&&r.removeChild(e),c(e,t),null}function i(e,t,r){var n=r.render(t,r);return e&&e.appendChild(n),e}function a(e,t,r,n){var o;if(3===e.nodeType)e.replaceData(0,e.length,r.text),o=e;else{var i=e.parentNode;o=n.render(r,n),i&&o!==e&&i.replaceChild(o,e)}return o}function u(e,t,r,n){var o,i=v(t,r);o=i?r.update(t,e)||e:n.render(r,n);var a=e.parentNode;return a&&o!==e&&a.replaceChild(o,e),i||c(e,t),o}function s(e,t,r,n){var o=e.parentNode,i=n.render(r,n);return o&&i!==e&&o.replaceChild(i,e),i}function c(e,t){"function"==typeof t.destroy&&p(t)&&t.destroy(e)}function l(e,t){for(var r,n,o,i=e.childNodes,a={},u=0;u<t.removes.length;u++)n=t.removes[u],r=i[n.from],n.key&&(a[n.key]=r),e.removeChild(r);for(var s=i.length,c=0;c<t.inserts.length;c++)o=t.inserts[c],r=a[o.key],e.insertBefore(r,o.to>=s++?null:i[o.to])}function f(e,t){return e&&t&&e!==t&&e.parentNode&&e.parentNode.replaceChild(t,e),t}var d=e("./apply-properties"),p=e("../vnode/is-widget.js"),m=e("../vnode/vpatch.js"),v=e("./update-widget");t.exports=n},{"../vnode/is-widget.js":159,"../vnode/vpatch.js":161,"./apply-properties":147,"./update-widget":152}],151:[function(e,t,r){function n(e,t,r){return r=r||{},r.patch=r.patch&&r.patch!==n?r.patch:o,r.render=r.render||c,r.patch(e,t,r)}function o(e,t,r){var n=a(t);if(0===n.length)return e;var o=l(e,t.a,n),s=e.ownerDocument;r.document||s===u||(r.document=s);for(var c=0;c<n.length;c++){var f=n[c];e=i(e,o[f],t[f],r)}return e}function i(e,t,r,n){if(!t)return e;var o;if(s(r))for(var i=0;i<r.length;i++)o=f(r[i],t,n),t===e&&(e=o);else o=f(r,t,n),t===e&&(e=o);return e}function a(e){var t=[];for(var r in e)"a"!==r&&t.push(Number(r));return t}var u=e("global/document"),s=e("x-is-array"),c=e("./create-element"),l=e("./dom-index"),f=e("./patch-op");t.exports=n},{"./create-element":148,"./dom-index":149,"./patch-op":150,"global/document":122,"x-is-array":164}],152:[function(e,t,r){function n(e,t){return o(e)&&o(t)?"name"in e&&"name"in t?e.id===t.id:e.init===t.init:!1}var o=e("../vnode/is-widget.js");t.exports=n},{"../vnode/is-widget.js":159}],153:[function(e,t,r){"use strict";function n(e){return this instanceof n?void(this.value=e):new n(e);

}t.exports=n,n.prototype.hook=function(e,t){e[t]!==this.value&&(e[t]=this.value)}},{}],154:[function(e,t,r){function n(e,t){var r=e,n=t;return s(t)&&(n=o(t,e)),s(e)&&(r=o(e,null)),{a:r,b:n}}function o(e,t){var r=e.vnode;if(r||(r=e.vnode=e.render(t)),!(i(r)||a(r)||u(r)))throw new Error("thunk did not return a valid node");return r}var i=e("./is-vnode"),a=e("./is-vtext"),u=e("./is-widget"),s=e("./is-thunk");t.exports=n},{"./is-thunk":155,"./is-vnode":157,"./is-vtext":158,"./is-widget":159}],155:[function(e,t,r){function n(e){return e&&"Thunk"===e.type}t.exports=n},{}],156:[function(e,t,r){function n(e){return e&&("function"==typeof e.hook&&!e.hasOwnProperty("hook")||"function"==typeof e.unhook&&!e.hasOwnProperty("unhook"))}t.exports=n},{}],157:[function(e,t,r){function n(e){return e&&"VirtualNode"===e.type&&e.version===o}var o=e("./version");t.exports=n},{"./version":160}],158:[function(e,t,r){function n(e){return e&&"VirtualText"===e.type&&e.version===o}var o=e("./version");t.exports=n},{"./version":160}],159:[function(e,t,r){function n(e){return e&&"Widget"===e.type}t.exports=n},{}],160:[function(e,t,r){t.exports="2"},{}],161:[function(e,t,r){function n(e,t,r){this.type=Number(e),this.vNode=t,this.patch=r}var o=e("./version");n.NONE=0,n.VTEXT=1,n.VNODE=2,n.WIDGET=3,n.PROPS=4,n.ORDER=5,n.INSERT=6,n.REMOVE=7,n.THUNK=8,t.exports=n,n.prototype.version=o,n.prototype.type="VirtualPatch"},{"./version":160}],162:[function(e,t,r){function n(e,t){var r;for(var u in e){u in t||(r=r||{},r[u]=void 0);var s=e[u],c=t[u];if(s!==c)if(i(s)&&i(c))if(o(c)!==o(s))r=r||{},r[u]=c;else if(a(c))r=r||{},r[u]=c;else{var l=n(s,c);l&&(r=r||{},r[u]=l)}else r=r||{},r[u]=c}for(var f in t)f in e||(r=r||{},r[f]=t[f]);return r}function o(e){return Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__?e.__proto__:e.constructor?e.constructor.prototype:void 0}var i=e("is-object"),a=e("../vnode/is-vhook");t.exports=n},{"../vnode/is-vhook":156,"is-object":145}],163:[function(e,t,r){function n(e,t){var r={a:e};return o(e,t,r,0),r}function o(e,t,r,n){if(e!==t){var o=r[n],u=!1;if(k(e)||k(t))s(e,t,r,n);else if(null==t)w(e)||(a(e,r,n),o=r[n]),o=v(o,new b(b.REMOVE,e,t));else if(y(t))if(y(e))if(e.tagName===t.tagName&&e.namespace===t.namespace&&e.key===t.key){var c=O(e.properties,t.properties);c&&(o=v(o,new b(b.PROPS,e,c))),o=i(e,t,r,o,n)}else o=v(o,new b(b.VNODE,e,t)),u=!0;else o=v(o,new b(b.VNODE,e,t)),u=!0;else g(t)?g(e)?e.text!==t.text&&(o=v(o,new b(b.VTEXT,e,t))):(o=v(o,new b(b.VTEXT,e,t)),u=!0):w(t)&&(w(e)||(u=!0),o=v(o,new b(b.WIDGET,e,t)));o&&(r[n]=o),u&&a(e,r,n)}}function i(e,t,r,n,i){for(var a=e.children,u=d(a,t.children),s=u.children,c=a.length,l=s.length,f=c>l?c:l,p=0;f>p;p++){var m=a[p],h=s[p];i+=1,m?o(m,h,r,i):h&&(n=v(n,new b(b.INSERT,null,h))),y(m)&&m.count&&(i+=m.count)}return u.moves&&(n=v(n,new b(b.ORDER,e,u.moves))),n}function a(e,t,r){l(e,t,r),u(e,t,r)}function u(e,t,r){if(w(e))"function"==typeof e.destroy&&(t[r]=v(t[r],new b(b.REMOVE,e,null)));else if(y(e)&&(e.hasWidgets||e.hasThunks))for(var n=e.children,o=n.length,i=0;o>i;i++){var a=n[i];r+=1,u(a,t,r),y(a)&&a.count&&(r+=a.count)}else k(e)&&s(e,null,t,r)}function s(e,t,r,o){var i=x(e,t),a=n(i.a,i.b);c(a)&&(r[o]=new b(b.THUNK,null,a))}function c(e){for(var t in e)if("a"!==t)return!0;return!1}function l(e,t,r){if(y(e)){if(e.hooks&&(t[r]=v(t[r],new b(b.PROPS,e,f(e.hooks)))),e.descendantHooks||e.hasThunks)for(var n=e.children,o=n.length,i=0;o>i;i++){var a=n[i];r+=1,l(a,t,r),y(a)&&a.count&&(r+=a.count)}}else k(e)&&s(e,null,t,r)}function f(e){var t={};for(var r in e)t[r]=void 0;return t}function d(e,t){var r=m(t),n=r.keys,o=r.free;if(o.length===t.length)return{children:t,moves:null};var i=m(e),a=i.keys,u=i.free;if(u.length===e.length)return{children:t,moves:null};for(var s=[],c=0,l=o.length,f=0,d=0;d<e.length;d++){var v,h=e[d];h.key?n.hasOwnProperty(h.key)?(v=n[h.key],s.push(t[v])):(v=d-f++,s.push(null)):l>c?(v=o[c++],s.push(t[v])):(v=d-f++,s.push(null))}for(var b=c>=o.length?t.length:o[c],y=0;y<t.length;y++){var g=t[y];g.key?a.hasOwnProperty(g.key)||s.push(g):y>=b&&s.push(g)}for(var w,k=s.slice(),x=0,O=[],S=[],E=0;E<t.length;){var j=t[E];for(w=k[x];null===w&&k.length;)O.push(p(k,x,null)),w=k[x];w&&w.key===j.key?(x++,E++):j.key?(w&&w.key&&n[w.key]!==E+1?(O.push(p(k,x,w.key)),w=k[x],w&&w.key===j.key?x++:S.push({key:j.key,to:E})):S.push({key:j.key,to:E}),E++):w&&w.key&&O.push(p(k,x,w.key))}for(;x<k.length;)w=k[x],O.push(p(k,x,w&&w.key));return O.length!==f||S.length?{children:s,moves:{removes:O,inserts:S}}:{children:s,moves:null}}function p(e,t,r){return e.splice(t,1),{from:t,key:r}}function m(e){for(var t={},r=[],n=e.length,o=0;n>o;o++){var i=e[o];i.key?t[i.key]=o:r.push(o)}return{keys:t,free:r}}function v(e,t){return e?(h(e)?e.push(t):e=[e,t],e):t}var h=e("x-is-array"),b=e("../vnode/vpatch"),y=e("../vnode/is-vnode"),g=e("../vnode/is-vtext"),w=e("../vnode/is-widget"),k=e("../vnode/is-thunk"),x=e("../vnode/handle-thunk"),O=e("./diff-props");t.exports=n},{"../vnode/handle-thunk":154,"../vnode/is-thunk":155,"../vnode/is-vnode":157,"../vnode/is-vtext":158,"../vnode/is-widget":159,"../vnode/vpatch":161,"./diff-props":162,"x-is-array":164}],164:[function(e,t,r){function n(e){return"[object Array]"===i.call(e)}var o=Array.isArray,i=Object.prototype.toString;t.exports=o||n},{}],165:[function(e,t,r){t.exports={name:"browser.html",description:"Experimental Servo browser built in HTML",version:"0.1.4",homepage:"https://github.com/mozilla/browser.html",repository:{type:"git",url:"https://github.com/mozilla/browser.html.git",web:"https://github.com/mozilla/browser.html"},bugs:{url:"http://github.com/mozilla/browser.html/issues/"},browser:{driver:"./src/driver/virtual-dom/index.js"},scripts:{live:"gulp live",start:"gulp develop",server:"gulp server",gecko:"gulp gecko",servo:"gulp servo",deploy:"./.bin/deploy.sh",build:"NODE_ENV=production gulp build","build-cargo":"NODE_ENV=production gulp cargo","build-server":"gulp build-server","live-server":"gulp live-server"},dependencies:{eased:"0.1.0",pouchdb:"4.0.0",reflex:"0.1.1","reflex-virtual-dom-driver":"0.0.5",tinycolor2:"1.1.2"},devDependencies:{"babel-core":"5.8.23","babel-runtime":"5.8.20",babelify:"6.1.3",browserify:"11.0.1","browserify-hmr":"0.3.1",ecstatic:"0.8.0","flow-bin":"0.20.1","graphene-marionette-client":"1.0.0","graphene-marionette-runner":"0.0.9",gulp:"3.9.0","gulp-sequence":"0.4.1","gulp-sourcemaps":"1.5.2","gulp-uglify":"1.2.0","gulp-util":"3.0.6","gulp-watch":"4.3.5",hotify:"0.0.1",jscs:"1.8.1",mocha:"2.2.4","vinyl-buffer":"1.0.0","vinyl-source-stream":"1.1.0",watchify:"3.3.1"},contributors:["The Browserhtml Project Developers"],license:"MPL-2.0"}},{}],166:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/sliced-to-array")["default"],o=e("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(r,"__esModule",{value:!0});var i=e("../common/prelude"),a=e("reflex"),u=e("./assistant/history"),s=o(u),c=e("./assistant/search"),l=o(c),f=e("../common/style"),d=e("../common/cursor"),p=(e("../common/url-helper"),e("../common/unknown")),m=o(p),v=i.tagged("Open");r.Open=v;var h=i.tagged("Close");r.Close=h;var b=i.tagged("Expand");r.Expand=b;var y=i.tagged("Unselect");r.Unselect=y;var g=i.tagged("Reset");r.Reset=g;var w=i.tagged("SuggestNext");r.SuggestNext=w;var k=i.tagged("SuggestPrevious");r.SuggestPrevious=k;var x=i.tag("Suggest");r.Suggest=x;var O=i.tag("Query");r.Query=O;var S=i.tag("Execute");r.Execute=S;var E=i.tag("Activate");r.Activate=E;var j=function(e){return"Suggest"===e.type?x(e.source):i.tagged("Search",e)},$=i.tag("History"),_=function(){return P({isOpen:!1,isExpanded:!1})};r.init=_;var C=function(e){return _()},P=function(e){var t=null,r=l.init(t,5),o=n(r,2),u=o[0],c=o[1],f=s.init(t,5),d=n(f,2),p=d[0],m=d[1],v=a.Effects.batch([c.map(j),m.map($)]),h=[i.merge(e,{query:t,search:u,history:p,selected:-1}),v];return h},A=function(e){return[i.merge(e,{isOpen:!0,isExpanded:!0}),a.Effects.none]},M=function(e){return[i.merge(e,{isOpen:!0,isExpanded:!1}),a.Effects.none]},T=function(e){return P(i.merge(e,{isOpen:!1,isExpanded:!1}))},F=function(e){return[i.merge(e,{selected:-1}),a.Effects.none]},R=function(e,t){return e.query===t?[e,a.Effects.none]:i.batch(q,i.merge(e,{query:t}),[j(l.Query(t)),$(s.Query(t))])},B=d.cursor({get:function(e){return e.search},set:function(e,t){return i.merge(e,{search:t})},update:l.update,tag:j}),I=d.cursor({get:function(e){return e.history},set:function(e,t){return i.merge(e,{history:t})},update:s.update,tag:$}),D=function(e){return B(e,l.SelectNext)},z=function(e){return B(e,l.SelectPrevious)},q=function(e,t){return"Open"===t.type?M(e):"Close"===t.type?T(e):"Expand"===t.type?A(e):"Reset"===t.type?C(e):"Unselect"===t.type?F(e):"SuggestNext"===t.type?D(e):"SuggestPrevious"===t.type?z(e):"Query"===t.type?R(e,t.source):"History"===t.type?I(e,t.source):"Search"===t.type?B(e,t.source):"Suggest"===t.type?[e,a.Effects.none]:m.update(e,t)};r.update=q;var N=f.StyleSheet.create({base:{background:"#fff",left:"0px",position:"absolute",top:"0px",width:"100%"},expanded:{height:"100%"},shrinked:{minHeight:"120px"},open:{},closed:{display:"none"},results:{listStyle:"none",margin:"90px auto 40px",padding:"0px",width:"480px"}}),L=function(e,t){return a.html.div({className:"assistant",style:f.Style(N.base,e.isExpanded?N.expanded:N.shrinked,e.isOpen?N.open:N.closed)},[a.html.ol({className:"assistant-results",style:N.results},[s.view(e.history,a.forward(t,$)),l.view(e.search,a.forward(t,j))])])};r.view=L},{"../common/cursor":197,"../common/prelude":205,"../common/style":211,"../common/unknown":214,"../common/url-helper":215,"./assistant/history":167,"./assistant/search":170,"babel-runtime/helpers/interop-require-wildcard":23,"babel-runtime/helpers/sliced-to-array":24,reflex:136}],167:[function(e,t,r){"use strict";var n=e("babel-runtime/core-js/object/create")["default"],o=e("babel-runtime/core-js/promise")["default"],i=e("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(r,"__esModule",{value:!0});var a=e("reflex"),u=e("../../common/prelude"),s=(e("../../common/style"),e("../../common/result")),c=(i(s),e("./page")),l=(i(c),e("./top-hit")),f=(i(l),e("./title")),d=i(f),p=e("./url"),m=i(p),v=e("./icon"),h=i(v),b=e("./suggestion"),y=i(b),g=e("../../common/unknown"),w=i(g),k=u.tag("Abort"),x=u.tag("Query");r.Query=x;var O=u.tag("UpdateMatches"),S=(n(null),function(e){return a.Task.future(function(){return new o(function(e){})})}),E=function(e,t,r){return a.Task.future(function(){return new o(function(e){})})},j=function(e,t){return[{query:e,size:0,queryID:0,limit:t,selected:null,matches:{},items:[]},a.Effects.none]};r.init=j;var $=function(e){return[u.merge(e,{selected:null}),a.Effects.none]},_=function(e){return null==e.selected?[0===e.size?e:u.merge(e,{selected:0}),a.Effects.none]:e.selected===e.size-1?$(e):[u.merge(e,{selected:e.selected+1}),a.Effects.none]},C=function(e){return null==e.selected?[0===e.size?e:u.merge(e,{selected:e.size-1}),a.Effects.none]:0==e.selected?$(e):[u.merge(e,{selected:e.selected-1}),a.Effects.none]},P=function(e,t){return e.query===t?[e,a.Effects.none]:[u.merge(e,{query:t,queryID:e.queryID+1}),a.Effects.batch([a.Effects.task(S(e.queryID)).map(k),a.Effects.task(E(e.queryID+1,t,e.limit)).map(O)])]},A=function(e,t){return t.isOk?M(e,t.value):[e,a.Effects.task(w.error(t.error))]},M=function(e,t){var r=t.map(function(e){return e.uri}),n={};return t.forEach(function(e){return n[e.uri]=e}),[T(e,{matches:n,items:r}),a.Effects.none]},T=function(e,t){var r=t.matches,n=t.items,o=e.selected;if(null!=e.selected){var i=e.items[e.selected];null==r[i]&&(r[i]=e.matches[i],n.unshift(i)),o=n.indexOf(i)}var a=Math.min(e.limit,n.length);return u.merge(e,{size:a,selected:o,items:n,matches:r})},F=function(e,t){return"Query"===t.type?P(e,t.source):"SelectNext"===t.type?_(e):"SelectPrevious"===t.type?C(e):"Unselect"===t.type?$(e):"UpdateMatches"===t.type?A(e,t.source):w.update(e,t)};r.update=F;var R=function(e,t,r){return[h.view("",r),d.view(e.title,r),m.view(e)]},B=function(e,t){return a.html.embed(null,e.items.map(function(r,n){return y.view(e.selected===n,R(e.matches[r],a.forward(t,byURI(r)),e.selected===n))}))};r.render=B;var I=function(e,t){return a.thunk("history",B,e,t)};r.view=I},{"../../common/prelude":205,"../../common/result":206,"../../common/style":211,"../../common/unknown":214,"./icon":168,"./page":169,"./suggestion":171,"./title":172,"./top-hit":173,"./url":174,"babel-runtime/core-js/object/create":8,"babel-runtime/core-js/promise":13,"babel-runtime/helpers/interop-require-wildcard":23,reflex:136}],168:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("reflex"),o=(e("../../common/prelude"),e("../../common/style")),i=o.StyleSheet.create({base:{color:"rgba(0,0,0,0.7)",fontFamily:"FontAwesome",fontSize:"17px",left:"13px",position:"absolute",top:"0"},selected:{color:"#fff"},unselected:{}}),a=function(e,t){return n.html.span({className:"assistant icon",style:o.Style(i.base,t?i.selected:i.unselected)},[e])};r.render=a;var u=function(e,t){return n.thunk(""+e,a,e,t)};r.view=u},{"../../common/prelude":205,"../../common/style":211,reflex:136}],169:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(r,"__esModule",{value:!0});var o=e("reflex"),i=(e("../../common/prelude"),e("../../common/style"),e("./title")),a=n(i),u=e("./icon"),s=n(u),c=e("./url"),l=n(c),f=e("./suggestion"),d=n(f),p=function(e,t,r){return[s.view("",r),a.view(e.title,r),l.view(e)]},m=function(e,t){return d.view(e,t,p)};r.render=m;var v=function(e,t){return o.thunk(e.id,m,e,t)};r.view=v},{"../../common/prelude":205,"../../common/style":211,"./icon":168,"./suggestion":171,"./title":172,"./url":174,"babel-runtime/helpers/interop-require-wildcard":23,reflex:136}],170:[function(e,t,r){"use strict";var n=e("babel-runtime/core-js/object/create")["default"],o=e("babel-runtime/core-js/promise")["default"],i=e("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(r,"__esModule",{value:!0});var a=e("reflex"),u=e("../../common/prelude"),s=(e("../../common/style"),e("../../common/selector")),c=e("../../common/result"),l=i(c),f=e("./title"),d=i(f),p=e("./icon"),m=i(p),v=e("./suggestion"),h=i(v),b=e("../../common/unknown"),y=i(b),g=u.tag("Abort"),w=u.tagged("SelectNext");r.SelectNext=w;var k=u.tagged("SelectPrevious");r.SelectPrevious=k;var x=u.tag("Suggest");r.Suggest=x;var O=u.tag("Query");r.Query=O;var S=u.tag("Execute");r.Execute=S;var E=u.tag("Activate");r.Activate=E;var j=u.tag("UpdateMatches"),$=function(e){return function(t){return u.tagged("ByURI",{uri:e,action:t})}},_=function(e){var t=e.target;return l.error(Error("Network request to "+t.url+" has failed: "+t.statusText))},C=function(e){return l.error(Error("Can not decode "+e.respose+" received from "+e.url))},P=function(e){return Array.isArray(e)?l.ok(e.map(A)):l.error(Error("Can not decode non array matches "+e))},A=function(e){return{title:e,uri:"https://duckduckgo.com/?q="+encodeURIComponent(e)}},M=function(e){var t=e.target;return"json"!==t.responseType?l.error(Error("Can not decode "+t.responseType+" type response from "+t.url)):null==t.response?C(t):null==t.response[1]?C(t):P(t.response[1])},T=n(null),F=function(e){return a.Task.io(function(t){null!=T[e]&&(T[e].abort(),delete T[e])})},R=function(e,t,r){return a.Task.future(function(){return new o(function(r){var n=new XMLHttpRequest({mozSystem:!0});T[e]=n;var o="http://ac.duckduckgo.com/ac/?q="+t+"&type=list";n.open("GET",o,!0),n.responseType="json",n.url=o,n.onerror=function(t){delete T[e],r(_(t))},n.onload=function(t){delete T[e],r(M(t))},n.send()})})},B=function(e,t){return[{query:e,size:0,queryID:0,limit:t,selected:-1,matches:{},items:[]},a.Effects.none]};r.init=B;var I=function(e){return[u.merge(e,{selected:-1}),a.Effects.none]},D=function(e){return[e,a.Effects.receive(x({match:e.matches[e.items[e.selected]].title,hint:null}))]},z=function(e){return D(u.merge(e,{selected:s.indexOfOffset(e.selected,1,e.size,!0)}))},q=function(e){return D(u.merge(e,{selected:s.indexOfOffset(e.selected,-1,e.size,!0)}))},N=function(e,t){return e.query===t?[e,a.Effects.none]:""===t.trim()?[u.merge(e,{query:"",selected:-1,matches:{},items:[]}),a.Effects.task(F(e.queryID)).map(g)]:[u.merge(e,{query:t,queryID:e.queryID+1}),a.Effects.batch([a.Effects.task(F(e.queryID)).map(g),a.Effects.task(R(e.queryID+1,t,e.limit)).map(j)])]},L=function(e,t){return t.isOk?V(e,t.value):[e,a.Effects.task(y.error(t.error))]},V=function(e,t){var r=t[0],n=e.query;null!=r&&null!=n&&(r.title.toLowerCase().startsWith(n.toLowerCase())||t.unshift(A(n)));var o=t.map(function(e){return e.uri}),i={};t.forEach(function(e){return i[e.uri]=e});var a=Math.min(e.limit,o.length),s=0;return D(u.merge(e,{matches:i,items:o,size:a,selected:s}))},U=function(e,t){t.uri,t.action;return[e,a.Effects.none]},W=function(e){return[e,e.selected<0?a.Effects.none:a.Effects.receive(Load(e.matches[e.items[e.selected]].uri))]},G=function(e,t){return"Query"===t.type?N(e,t.source):"SelectNext"===t.type?z(e):"SelectPrevious"===t.type?q(e):"Unselect"===t.type?I(e):"UpdateMatches"===t.type?L(e,t.source):"ByURI"===t.type?U(e,t.source):"Activate"===t.type?W(e):y.update(e,t)};r.update=G;var H=function(e,t,r){return[m.view("",r),d.view(e.title,r)]},Q=function(e,t){return a.html.embed(null,e.items.slice(0,e.limit).map(function(r,n){return h.view(e.selected===n,H(e.matches[r],a.forward(t,$(r)),e.selected===n))}))};r.render=Q;var Z=function(e,t){return a.thunk("search",Q,e,t)};r.view=Z},{"../../common/prelude":205,"../../common/result":206,"../../common/selector":208,"../../common/style":211,"../../common/unknown":214,"./icon":168,"./suggestion":171,"./title":172,"babel-runtime/core-js/object/create":8,"babel-runtime/core-js/promise":13,"babel-runtime/helpers/interop-require-wildcard":23,reflex:136}],171:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(r,"__esModule",{value:!0});var o=e("reflex"),i=(e("../../common/prelude"),e("../../common/style")),a=e("./title"),u=(n(a),e("./icon")),s=(n(u),i.StyleSheet.create({base:{lineHeight:"40px",overflow:"hidden",paddingLeft:"35px",paddingRight:"10px",position:"relative",whiteSpace:"nowrap",textOverflow:"ellipsis",borderBottom:"1px solid",borderTop:"1px solid"},unselected:{borderBottomColor:"rgba(0,0,0,0.08)",borderTopColor:"transparent"},selected:{background:"#4A90E2",borderBottomColor:"transparent",borderTopColor:"transparent",borderRadius:"3px"}})),c=function(e,t){return o.html.li({className:"assistant suggestion",style:i.Style(s.base,e?s.selected:s.unselected)},t)};r.render=c;var l=c;r.view=l},{"../../common/prelude":205,"../../common/style":211,"./icon":168,"./title":172,"babel-runtime/helpers/interop-require-wildcard":23,reflex:136}],172:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("reflex"),o=(e("../../common/prelude"),e("../../common/style")),i=o.StyleSheet.create({base:{color:"rgba(0,0,0,0.7)",fontSize:"14px"},selected:{color:"#fff"},unselected:{}}),a=function(e,t){return n.html.span({className:"assistant title",style:o.Style(i.base,t?i.selected:i.unselected)},[null==e?"Untitled":""+e])};r.render=a;var u=function(e,t){return n.thunk(""+e,a,e,t)};r.view=u},{"../../common/prelude":205,"../../common/style":211,reflex:136}],173:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(r,"__esModule",{value:!0});var o=e("reflex"),i=(e("../../common/prelude"),e("../../common/style"),e("./title")),a=n(i),u=e("./suggestion"),s=n(u),c=function(e,t,r){return[a.view(e.title,r)]},l=function(e,t){return s.view(e,t,c)};r.render=l;var f=function(e,t){return o.thunk(e.id,l,e,t)};r.view=f},{"../../common/prelude":205,"../../common/style":211,"./suggestion":171,"./title":172,"babel-runtime/helpers/interop-require-wildcard":23,reflex:136}],174:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(r,"__esModule",{value:!0});var o=e("reflex"),i=(e("../../common/prelude"),e("../../common/style")),a=e("../../common/url-helper"),u=n(a),s=i.StyleSheet.create({base:{color:"#4A90E2",fontSize:"14px"},selected:{color:"rgba(255,255,255,0.7)"},unselected:{}}),c=function(e){return e.preventDefault()},l=function(e){return o.html.a({className:"assistant url",style:i.Style(s.base,e.isSelected?s.selected:s.unselected),href:e.uri,onClick:c},[" - "+u.prettify(e.uri)])};r.render=l;var f=function(e){return o.thunk(e.id,l,e)};r.view=f},{"../../common/prelude":205,"../../common/style":211,"../../common/url-helper":215,"babel-runtime/helpers/interop-require-wildcard":23,reflex:136}],175:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/define-property")["default"],o=e("babel-runtime/helpers/sliced-to-array")["default"],i=e("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(r,"__esModule",{value:!0});var a,u=e("../../package.json"),s=e("../../browserhtml.json"),c=i(s),l=e("reflex"),f=e("./shell"),d=i(f),p=e("./input"),m=i(p),v=e("./assistant"),h=i(v),b=e("./sidebar"),y=i(b),g=e("./web-views"),w=i(g),k=e("./overlay"),x=i(k),O=e("../common/devtools"),S=i(O),E=e("../common/runtime"),j=i(E),$=e("../common/url-helper"),_=i($),C=e("../common/unknown"),P=i(C),A=e("../common/focusable"),M=(i(A),e("../common/os")),T=i(M),F=e("../common/keyboard"),R=i(F),B=e("../common/stopwatch"),I=i(B),D=e("eased"),z=i(D),q=e("../common/prelude"),N=e("../common/cursor"),L=e("../common/style"),V=e("../lang/functional"),U=e("driver"),W=function(){var e=S.init({isActive:c.devtools}),t=o(e,2),r=t[0],n=t[1],i=m.init(!1,!1,""),a=o(i,2),s=a[0],f=a[1],p=d.init(),v=o(p,2),b=v[0],g=v[1],k=w.init(),O=o(k,2),E=O[0],$=O[1],_=y.init(),C=o(_,2),P=C[0],A=C[1],M=h.init(),T=o(M,2),F=T[0],R=T[1],B=x.init(!1,!1),I=o(B,2),D=I[0],z=I[1],q={version:u.version,mode:"create-web-view",shell:b,input:s,assistant:F,webViews:E,sidebar:P,overlay:D,devtools:r,display:{rightOffset:0},isExpanded:!0},N=l.Effects.batch([n.map(X),f.map(Q),g.map(K),$.map(Z),A.map(G),R.map(Y),z.map(H),l.Effects.receive(ue),l.Effects.task(j.receive("mozbrowseropenwindow")).map(We)]);return[q,N]};r.init=W;var G=function(e){return"CreateWebView"===e.type?ue:"ActivateTab"===e.type?He(e.id):"CloseTab"===e.type?Ze(e.id):"Tabs"===e.type?Qe(e.source.id,e.source):"Attach"===e.type?pe:"Detach"===e.type?me:{type:"Sidebar",action:e}},H=function(e){return"Click"===e.type?ve:{type:"Overlay",action:e}},Q=function(e){return"Submit"===e.type?he:"Abort"===e.type?be:"Blur"===e.type?ke:"Query"===e.type?Ge(e.source):"SuggestNext"===e.type?xe:"SuggestPrevious"===e.type?Oe:q.tagged("Input",e)},Z=function(e){return"ShowTabs"===e.type?le:"Create"===e.type?ue:"Edit"===e.type?se:"SelectRelative"===e.type?{type:"SelectTab",source:e}:"ActivateSelected"===e.type?{type:"ActivateTab",source:e}:"ActivateByID"===e.type?{type:"ActivateTabByID",source:e}:{type:"WebViews",source:e}},K=function(e){return"Focus"===e.type?{type:"Focus",source:e}:{type:"Shell",source:e}},X=function(e){return{type:"Devtools",action:e}},Y=function(e){return"Suggest"===e.type?Se(e.source):q.tagged("Assistant",e)},J=N.cursor({get:function(e){return e.input},set:function(e,t){return q.merge(e,{input:t})},update:m.update,tag:Q}),ee=N.cursor({get:function(e){return e.webViews},set:function(e,t){return q.merge(e,{webViews:t})},update:w.update,tag:Z}),te=N.cursor({get:function(e){return e.shell},set:function(e,t){return q.merge(e,{shell:t})},update:d.update,tag:K}),re=N.cursor({get:function(e){return e.devtools},set:function(e,t){return q.merge(e,{devtools:t})},update:S.update,tag:X}),ne=N.cursor({get:function(e){return e.assistant},set:function(e,t){return q.merge(e,{assistant:t})},update:h.update,tag:Y}),oe=N.cursor({get:function(e){return e.sidebar},set:function(e,t){return q.merge(e,{sidebar:t})},tag:G,update:y.update}),ie=N.cursor({get:function(e){return e.overlay},set:function(e,t){return q.merge(e,{overlay:t})},tag:H,update:x.update}),ae={type:"Reloaded"},ue={type:"CreateWebView"};r.CreateWebView=ue;var se={type:"EditWebView"};r.EditWebView=se;var ce={type:"ShowWebView"};r.ShowWebView=ce;var le={type:"ShowTabs"};r.ShowTabs=le;var fe={type:"SelectWebView"};r.SelectWebView=fe;var de={type:"OpenWebView"};r.OpenWebView=de;var pe={type:"AttachSidebar",source:y.Attach};r.AttachSidebar=pe;var me={type:"DetachSidebar",source:y.Detach};r.DetachSidebar=me;var ve={type:"OverlayClicked"};r.OverlayClicked=ve;var he={type:"SubmitInput"};r.SubmitInput=he;var be={type:"ExitInput",source:m.Abort};r.ExitInput=be;var ye={type:"Escape"};r.Escape=ye;var ge={type:"Unload"};r.Unload=ge;var we={type:"ReloadRuntime"};r.ReloadRuntime=we;var ke={type:"BlurInput",source:m.Blur};r.BlurInput=ke;var xe=q.tagged("SuggestNext");r.SuggestNext=xe;var Oe=q.tagged("SuggestPrevious");r.SuggestPrevious=Oe;var Se=q.tag("Suggest");r.Suggest=Se;var Ee={type:"Expand"};r.Expand=Ee;var je={type:"Expanded"};r.Expanded=je;var $e={type:"Shrink"};r.Shrink=$e;var _e={type:"Shrinked"};r.Shrinked=_e;var Ce=Z(w.ZoomIn);r.ZoomIn=Ce;var Pe=Z(w.ZoomOut);r.ZoomOut=Pe;var Ae=Z(w.ResetZoom);r.ResetZoom=Ae;var Me=Z(w.Reload);r.Reload=Me;var Te=Z(w.CloseActive);r.CloseWebView=Te;var Fe=Z(w.GoBack);r.GoBack=Fe;var Re=Z(w.GoForward);r.GoForward=Re;var Be=Z(w.SelectNext);r.SelectNext=Be;var Ie=Z(w.SelectPrevious);r.SelectPrevious=Ie;var De=Z(w.ActivateSelected);r.ActivateSeleted=De;var ze=Z(w.Focus);r.FocusWebView=ze;var qe=V.compose(Z,w.NavigateTo);r.NavigateTo=qe;var Ne=Z(w.Unfold),Le=Z(w.Fold),Ve=V.compose(Z,w.Open),Ue={type:"ReceiveOpenURLNotification"},We=function(e){var t=e.url;return{type:"OpenURL",uri:t}},Ge=q.tag("Query"),He=V.compose(Z,w.ActivateByID);r.ActivateWebViewByID=He;var Qe=V.compose(Z,w.ActionByID),Ze=V.compose(Z,w.CloseByID),Ke=X(S.Toggle);r.ToggleDevtools=Ke;var Xe=K(d.Blur);r.Blur=Xe;var Ye=K(d.Focus);r.Focus=Ye;var Je=Q(m.Show),et=Q(m.Hide),tt=Q(m.Enter),rt=V.compose(Q,m.EnterSelection),nt=Q(m.Focus);r.FocusInput=nt;var ot=Y(h.Open),it=Y(h.Close),at=Y(h.Expand),ut=(V.compose(Y,h.Query),G(y.Open)),st=G(y.Close),ct={type:"Sidebar",action:y.Attach},lt={type:"Sidebar",action:y.Detach},ft=H(x.Hide),dt=H(x.Show),pt=H(x.Fade),mt={type:"LiveReload"};r.LiveReload=mt;var vt=function(e){return{type:"ResizeAnimation",action:e}},ht="linux"==T.platform()?"alt":"accel",bt=R.bindings((a={"accel l":q.always(se),"accel t":q.always(ue),"accel 0":q.always(Ae),"accel -":q.always(Pe),"accel =":q.always(Ce),"accel shift =":q.always(Ce),"accel w":q.always(Te),"accel shift ]":q.always(Be),"accel shift [":q.always(Ie),"control tab":q.always(Be),"control shift tab":q.always(Ie),"accel r":q.always(Me),escape:q.always(ye)},n(a,ht+" left",q.always(Fe)),n(a,ht+" right",q.always(Re)),n(a,"accel alt i",q.always(Ke)),n(a,"accel alt ˆ",q.always(Ke)),n(a,"F12",q.always(Ke)),n(a,"F5",q.always(we)),n(a,"meta control r",q.always(we)),a)),yt=R.bindings({control:q.always(De),accel:q.always(De)}),gt=function(e){return q.batch(qt,q.merge(e,{mode:"show-web-view"}),[et,it,st,ft,Le,ze])},wt=function(e){return q.batch(qt,q.merge(e,{mode:"create-web-view"}),[Je,at,st,ft,Le,tt])},kt=function(e){return q.batch(qt,q.merge(e,{mode:"edit-web-view"}),[Je,ot,st,dt,Le,rt(w.getActiveURI(e.webViews,""))])},xt=function(e){return q.batch(qt,q.merge(e,{mode:"show-tabs"}),[et,it,ut,dt,Ne])},Ot=function(e,t){return q.batch(qt,q.merge(e,{mode:"select-web-view"}),[et,it,ut,Ne,pt])},St=function(e){return qt(e,qe(_.read(e.input.value)))},Et=function(e){return qt(e,Ve({uri:_.read(e.input.value),inBackground:!1,name:"",features:""}))},jt=function(e,t){return q.batch(qt,e,[Ve({uri:t,inBackground:!1,name:"",features:""}),ce,Ue])},$t=function(e){return[e,l.Effects.task(j.receive("mozbrowseropenwindow")).map(We)]},_t=function(e){return q.batch(qt,e,[it,ze])},Ct=function(e){return q.batch(qt,q.merge(e,{mode:"show-web-view"}),[ct,$e,st,ft,Le,ze])},Pt=function(e){return q.batch(qt,e,[lt,Ee])},At=function(e){return[e,l.Effects.task(j.reload).map(ae)]},Mt=function(e,t){return ne(e,h.Query(e.input.value))},Tt=function(e){return e.isExpanded?[e,l.Effects.none]:Rt(q.merge(e,{isExpanded:!0}))},Ft=function(e){return e.isExpanded?Rt(q.merge(e,{isExpanded:!1})):[e,l.Effects.none]},Rt=function(e){var t=I.update(e.resizeAnimation,I.Start),r=o(t,2),n=r[0],i=r[1];return[q.merge(e,{resizeAnimation:n}),i.map(vt)]},Bt=function(e){{var t=I.update(e.resizeAnimation,I.End),r=o(t,2),n=r[0];r[1]}return[q.merge(e,{resizeAnimation:n}),l.Effects.none]},It=Bt,Dt=Bt,zt=function(e,t){var r=I.update(e.resizeAnimation,t),n=o(r,2),i=n[0],a=n[1],u=200,s=e.isExpanded?[50,0]:[0,50],c=o(s,2),f=c[0],d=c[1],p=u>i.elapsed?[q.merge(e,{resizeAnimation:i,display:q.merge(e.display,{rightOffset:z.ease(z.easeOutCubic,z["float"],f,d,u,i.elapsed)})}),a.map(vt)]:[q.merge(e,{resizeAnimation:i,display:q.merge(e.display,{rightOffset:d})}),l.Effects.receive(e.isExpanded?je:_e)];return p},qt=function(e,t){return"SubmitInput"===t.type?St(e):"OpenWebView"===t.type?Et(e):"OpenURL"===t.type?jt(e,t.uri):"ReceiveOpenURLNotification"===t.type?$t(e):"ExitInput"===t.type?_t(e):"CreateWebView"===t.type?wt(e):"EditWebView"===t.type?kt(e):"ShowWebView"===t.type?gt(e):"ShowTabs"===t.type?xt(e):"SelectWebView"===t.type?Ot(e):"Escape"===t.type?xt(e):"AttachSidebar"===t.type?Ct(e):"DetachSidebar"===t.type?Pt(e):"ReloadRuntime"===t.type?At(e):"Expand"===t.type?Tt(e):"Shrink"===t.type?Ft(e):"ResizeAnimation"===t.type?zt(e,t.action):"Expanded"===t.type?Dt(e):"Shrinked"===t.type?It(e):"Input"===t.type?J(e,t.source):"Suggest"===t.type?J(e,m.Suggest({query:e.assistant.query,match:t.source.match,hint:t.source.hint})):"BlurInput"===t.type?J(e,t.source):"WebViews"===t.type?ee(e,t.source):"SelectTab"===t.type?ee(e,t.source):"ActivateTabByID"===t.type?ee(e,t.source):"ActivateTab"===t.type?ee(e,t.source):"Shell"===t.type?te(e,t.source):"Focus"===t.type?te(e,t.source):"Assistant"===t.type?ne(e,t.source):"Query"===t.type?Mt(e):"SuggestNext"===t.type?ne(e,h.SuggestNext):"SuggestPrevious"===t.type?ne(e,h.SuggestPrevious):"Devtools"===t.type?re(e,t.action):"Sidebar"===t.type?oe(e,t.action):"Overlay"===t.type?ie(e,t.action):"Failure"===t.type?[e,l.Effects.task(P.error(t.error))]:"Reloaded"===t.type?[e,l.Effects.none]:"LiveReload"===t.type?[e,l.Effects.none]:P.update(e,t)};r.update=qt;var Nt=L.StyleSheet.create({root:{background:"#171814",perspective:"1000px",width:"100vw",height:"100vh",overflow:"hidden",position:"absolute",MozWindowDragging:"drag"},content:{position:"absolute",perspective:"1000px",height:"100%",width:"100%"}}),Lt=function(e,t){return l.html.div({className:"root",style:Nt.root,tabIndex:1,onKeyDown:U.onWindow(t,bt),onKeyUp:U.onWindow(t,yt),onBlur:U.onWindow(t,q.always(Xe)),onFocus:U.onWindow(t,q.always(Ye)),onUnload:U.onWindow(t,q.always(ge))},[l.html.div({className:"browser-content",style:L.Style(Nt.content,{width:"calc(100% - "+e.display.rightOffset+"px)"})},[l.thunk("web-views",w.view,e.webViews,l.forward(t,Z)),l.thunk("overlay",x.view,e.overlay,l.forward(t,H)),l.thunk("assistant",h.view,e.assistant,l.forward(t,Y)),l.thunk("input",m.view,e.input,l.forward(t,Q)),l.thunk("devtools",S.view,e.devtools,l.forward(t,X))]),l.thunk("sidebar",y.view,e.sidebar,e.webViews,l.forward(t,G)),l.thunk("shell",d.view,e.shell,l.forward(t,K))])};r.view=Lt},{"../../browserhtml.json":1,"../../package.json":165,"../common/cursor":197,"../common/devtools":198,"../common/focusable":201,"../common/keyboard":203,"../common/os":204,"../common/prelude":205,"../common/runtime":207,"../common/stopwatch":210,"../common/style":211,"../common/unknown":214,"../common/url-helper":215,"../lang/functional":217,"./assistant":166,"./input":177,"./overlay":178,"./shell":181,"./sidebar":183,"./web-views":194,"babel-runtime/helpers/define-property":19,"babel-runtime/helpers/interop-require-wildcard":23,"babel-runtime/helpers/sliced-to-array":24,driver:216,eased:121,reflex:136}],176:[function(e,t,r){
"use strict";var n=e("babel-runtime/helpers/interop-require-wildcard")["default"],o=e("reflex"),i=e("./perspective-ui"),a=n(i),u=(e("../../package.json"),e("../../browserhtml.json")),s=n(u),c=e("../common/runtime"),l=n(c),f=e("driver"),d=function(e){return function(t,r){console.log(">>> Action:",r),null!=console.group&&console.group();var n=e(t,r);return null!=console.groupEnd&&console.groupEnd(),console.log("<<< Model:",n[0]),console.log("<<< Effects:",n[1]),n}},p=null!=window.application;p&&window.application.address(a.LiveReload),document.body.classList.toggle("use-native-titlebar",l.useNativeTitlebar());var m=o.start({initial:p?window.application.model.value:a.init(),step:s.logging?d(a.update):a.update,view:a.view}),v=new f.Renderer({target:document.body});m.view.subscribe(v.address),m.task.subscribe(o.Effects.service(function(e){"Driver.Execute"===e.type?v.execute():m.address(e)})),window.application=m},{"../../browserhtml.json":1,"../../package.json":165,"../common/runtime":207,"./perspective-ui":180,"babel-runtime/helpers/interop-require-wildcard":23,driver:216,reflex:136}],177:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/sliced-to-array")["default"],o=e("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(r,"__esModule",{value:!0});var i=e("reflex"),a=e("driver"),u=e("../lang/functional"),s=e("../common/prelude"),c=e("../common/cursor"),l=e("../common/focusable"),f=o(l),d=e("../common/editable"),p=o(d),m=e("../common/keyboard"),v=o(m),h=e("../common/unknown"),b=o(h),y=e("../common/style"),g={value:"",isFocused:!1,selection:null,isVisible:!1};r.initial=g;var w=s.tag("Query");r.Query=w;var k=s.tag("Suggest");r.Suggest=k;var x=s.tagged("SuggestNext");r.SuggestNext=x;var O=s.tagged("SuggestPrevious");r.SuggestPrevious=O;var S={type:"Submit"};r.Submit=S;var E={type:"Abort"};r.Abort=E;var j={type:"Enter"};r.Enter=j;var $={type:"Focus",source:f.Focus};r.Focus=$;var _={type:"Blur",source:f.Blur};r.Blur=_;var C={type:"Show"};r.Show=C;var P={type:"Hide"};r.Hide=P;var A=function(e){return{type:"EnterSelection",value:e}};r.EnterSelection=A;var M=function(e){return"Focus"===e.type?$:"Blur"===e.type?_:{type:"Focusable",source:e}},T=function(e){return{type:"Editable",source:e}},F=(T(p.Clear),c.cursor({tag:M,update:f.update})),R=c.cursor({tag:T,update:p.update}),B=function(e){var t=F(e,f.Focus),r=n(t,2),o=r[0],a=r[1],u=R(o,p.Clear),s=n(u,2),c=s[0],l=s[1];return[c,i.Effects.batch([a,l])]},I=function(e,t){return D(e,t,0,t.length)},D=function(e,t,r,o){var a=F(e,f.Focus),u=n(a,2),s=u[0],c=u[1],l=R(s,p.Change(t,{start:r,end:o,direction:"forward"})),d=n(l,2),m=d[0],v=d[1];return[m,i.Effects.batch([c,v])]},z=function(){var e=arguments.length<=0||void 0===arguments[0]?!1:arguments[0],t=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],r=arguments.length<=2||void 0===arguments[2]?"":arguments[2];return[{value:r,isFocused:t,isVisible:e,selection:null},i.Effects.none]};r.init=z;var q=function(e,t){{var r=t.query,n=t.match;t.hint}return D(e,n,n.toLowerCase().startsWith(r.toLowerCase())?r.length:n.length,n.length)};r.suggest=q;var N=function(e,t){return"Abort"===t.type?F(e,f.Blur):"Submit"===t.type?[e,i.Effects.none]:"Enter"===t.type?B(s.merge(e,{isVisible:!0})):"Focus"===t.type?F(s.merge(e,{isFocused:!0,isVisible:!0}),t.source):"Blur"===t.type?F(e,t.source):"EnterSelection"===t.type?I(s.merge(e,{isVisible:!0}),t.value):"Focusable"===t.type?F(e,t.source):"Editable"===t.type?R(e,t.source):"Change"===t.type?R(e,p.Change(t.value,t.selection)):"Show"===t.type?[s.merge(e,{isVisible:!0}),i.Effects.none]:"Hide"===t.type?[s.merge(e,{isVisible:!1}),i.Effects.none]:"SuggestNext"===t.type?[e,i.Effects.none]:"SuggestPrevious"===t.type?[e,i.Effects.none]:"Suggest"===t.type?q(e,t.source):b.update(e,t)};r.update=N;var L=v.bindings({up:s.always(O),"control p":s.always(O),down:s.always(x),"control n":s.always(x),enter:s.always(S),escape:s.always(E)}),V=function(e){return{start:e.selectionStart,end:e.selectionEnd,direction:e.selectionDirection}},U=function(e){var t=e.target;return{type:"Change",value:t.value,selection:V(t)}},W=u.compose(T,function(e){var t=e.target;return p.Select(V(t))}),G=480,H=40,Q=32,Z=y.StyleSheet.create({combobox:{height:H,left:"50%",marginLeft:-1*(G/2)+"px",position:"absolute",top:"40px",width:G+"px"},field:{backgroundColor:"#EBEEF2",borderRadius:"5px",borderWidth:"3px",borderStyle:"solid",borderColor:"transparent",display:"block",fontSize:"14px",MozAppearance:"none",height:H-6+"px",lineHeight:H-6+"px",margin:0,padding:"0 "+Q+"px",width:G-6-2*Q+"px"},fieldFocused:{backgroundColor:"#fff",borderColor:"#3D91F2"},inactive:{opacity:0,pointerEvents:"none"},searchIcon:{color:"rgba(0,0,0,0.7)",fontFamily:"FontAwesome",fontSize:"16px",left:"13px",lineHeight:"40px",position:"absolute",top:0},hidden:{opacity:0,pointerEvents:"none"}}),K=function(e,t){return i.html.div({className:"input-combobox",style:y.Style(Z.combobox,!e.isVisible&&Z.hidden),onInput:i.forward(t,w)},[i.html.span({className:"input-search-icon",style:Z.searchIcon},[""]),i.html.input({className:"input-field",placeholder:"Search or enter address",style:y.Style(Z.field,e.isFocused&&Z.fieldFocused),type:"text",value:e.value,isFocused:a.focus(e.isFocused),selection:a.selection(e.selection),onInput:a.on(t,U),onSelect:a.on(t,W),onFocus:a.on(t,s.always($)),onBlur:a.on(t,s.always(_)),onKeyDown:a.on(t,L)})])};r.view=K},{"../common/cursor":197,"../common/editable":199,"../common/focusable":201,"../common/keyboard":203,"../common/prelude":205,"../common/style":211,"../common/unknown":214,"../lang/functional":217,"babel-runtime/helpers/interop-require-wildcard":23,"babel-runtime/helpers/sliced-to-array":24,driver:216,reflex:136}],178:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/sliced-to-array")["default"],o=e("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(r,"__esModule",{value:!0});var i=e("reflex"),a=e("../common/prelude"),u=e("../common/cursor"),s=e("../common/style"),c=e("eased"),l=o(c),f=e("../common/stopwatch"),d=o(f),p=e("../common/unknown"),m=o(p),v=.1,h=0,b=300,y=function(e){var t=e.isCapturing,r=e.isVisible;return{isCapturing:t,isVisible:r,animation:null,display:r?{opacity:v}:{opacity:h}}};r.Model=y;var g=a.always({type:"Click"});r.Click=g;var w={type:"Show"};r.Show=w;var k={type:"Hide"};r.Hide=k;var x={type:"Fade"};r.Fade=x;var O=function(e){return{type:"Animation",action:e}},S=a.always({type:"Shown"}),E=a.always({type:"Hidden"}),j=a.always({type:"Faded"}),$=function(e,t){return[y({isVisible:e,isCapturing:t}),i.Effects.none]};r.init=$;var _=u.cursor({tag:O,get:function(e){return e.animation},set:function(e,t){return a.merge(e,{animation:t})},update:d.update}),C=function(e,t){var r=_(e,t.action),o=n(r,2),i=o[0].animation,u=o[1],s=e.isVisible?[h,v]:[v,h],c=n(s,2),f=c[0],d=c[1];return b>i.elapsed?[a.merge(e,{animation:i,display:{opacity:l.ease(l.easeOutQuad,l["float"],f,d,b,i.elapsed)}}),u]:[a.merge(e,{animation:i,display:{opacity:d}}),u.map(e.isVisible?S:e.isCapturing?j:E)]},P=function(e,t){return"Animation"===t.type?C(e,t):"Shown"===t.type?_(e,d.End):"Hidden"===t.type?_(e,d.End):"Faded"===t.type?_(e,d.End):"Show"===t.type?e.isVisible?[a.merge(e,{isCapturing:!0}),i.Effects.none]:_(a.merge(e,{isVisible:!0,isCapturing:!0}),d.Start):"Hide"===t.type?e.isVisible?_(a.merge(e,{isVisible:!1,isCapturing:!1}),d.Start):[a.merge(e,{isCapturing:!1}),i.Effects.none]:"Fade"===t.type?e.isVisible?_(a.merge(e,{isVisible:!1,isCapturing:!0}),d.Start):[a.merge(e,{isCapturing:!0}),i.Effects.none]:"Click"===t.type?[e,i.Effects.none]:m.update(e,t)};r.update=P;var A=s.StyleSheet.create({overlay:{background:"rgb(0, 0, 0)",position:"absolute",width:"100vw",height:"100vh"}}),M=function(e,t){return i.html.div({className:"overlay",style:s.Style(A.overlay,{opacity:e.display.opacity,pointerEvents:e.isCapturing?"all":"none"}),onClick:i.forward(t,g)})};r.view=M},{"../common/cursor":197,"../common/prelude":205,"../common/stopwatch":210,"../common/style":211,"../common/unknown":214,"babel-runtime/helpers/interop-require-wildcard":23,"babel-runtime/helpers/sliced-to-array":24,eased:121,reflex:136}],179:[function(e,t,r){"use strict";var n=e("babel-runtime/core-js/promise")["default"],o=e("babel-runtime/helpers/interop-require-default")["default"],i=e("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(r,"__esModule",{value:!0});var a=e("tinycolor2"),u=o(a),s=e("reflex"),c=e("../common/url-helper"),l=i(c),f={"facebook.com":{background:"#3a5795",foreground:"#fff"},"sina.com.cn":{background:"#ff8500",foreground:"#fff"},"reddit.com":{background:"#f0f0f0",foreground:"#336699"},"instagram.com":{background:"#125688",foreground:"#fff"},"imgur.com":{background:"#2b2b2b",foreground:"#fff"},"cnn.com":{background:"#0c0c0c",foreground:"#fff"},"slideshare.net":{background:"#313131",foreground:"#fff"},"deviantart.com":{background:"#475c4d",foreground:"#fff"},"soundcloud.com":{background:"#333333",foreground:"#FF5500"},"mashable.com":{background:"#00aeef",foreground:"#fff"},"daringfireball.net":{background:"#4a525a",foreground:"#fff"},"firewatchgame.com":{background:"#2d102b",foreground:"#ef4338"},"whatliesbelow.com":{background:"#74888b",foreground:"#fff"},"supertimeforce.com":{background:"#051224",foreground:"#2ebcec"},"github.com":{background:"rgb(245, 245, 245)",foreground:"rgb(51, 51, 51)"}},d=function(e){return parseInt(e,16)>8388607.5},p=function(e){var t=u["default"](e);return t.isDark()||!d(t.toHex())};r.isDark=p;var m={isDark:!1,foreground:null,background:null};r.blank=m;var v=function(e,t){return{background:e,foreground:t,isDark:p(e)}};r.create=v;var h=function(e){return s.Task.future(function(){var t=l.getDomainName(e);return n.resolve(null==t?null:f[t])})};r.requestCuratedColor=h},{"../common/url-helper":215,"babel-runtime/core-js/promise":13,"babel-runtime/helpers/interop-require-default":22,"babel-runtime/helpers/interop-require-wildcard":23,reflex:136,tinycolor2:139}],180:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(r,"__esModule",{value:!0});var o=e("reflex"),i=e("../common/prelude"),a=e("./browser"),u=n(a),s=u.LiveReload;r.LiveReload=s;var c=u.init;r.init=c;var l=function(e,t){return"create-web-view"===e.mode?"ExitInput"===t.type?e.webViews.order.length>0?u.update(e,u.ShowWebView):[e,o.Effects.none]:"SubmitInput"===t.type?i.batch(u.update,e,[u.OpenWebView,u.ShowWebView]):"Focus"===t.type?i.batch(u.update,e,[t,u.FocusInput]):u.update(e,t):"edit-web-view"===e.mode?"ExitInput"===t.type?u.update(e,u.ShowWebView):"OverlayClicked"===t.type?u.update(e,u.ShowWebView):"SubmitInput"===t.type?i.batch(u.update,e,[t,u.ShowWebView]):"Focus"===t.type?i.batch(u.update,e,[t,u.FocusInput]):u.update(e,t):"show-web-view"===e.mode?"Escape"===t.type?u.update(e,u.ShowTabs):"SelectTab"===t.type?i.batch(u.update,e,[t,u.SelectWebView]):"Focus"===t.type?i.batch(u.update,e,[t,u.FocusWebView]):u.update(e,t):"show-tabs"===e.mode?"Escape"===t.type?u.update(e,u.ShowWebView):"FocusWebView"===t.type?u.update(e,u.ShowWebView):"OverlayClicked"===t.type?u.update(e,u.ShowWebView):"ActivateTabByID"===t.type?i.batch(u.update,e,[t,u.ShowWebView]):"SelectTab"===t.type?i.batch(u.update,e,[t,u.SelectWebView]):u.update(e,t):"select-web-view"===e.mode?"ActivateTab"===t.type?i.batch(u.update,e,[t,u.ShowWebView]):u.update(e,t):Unknown.update(e,t)};r.update=l;var f=u.view;r.view=f},{"../common/prelude":205,"./browser":175,"babel-runtime/helpers/interop-require-wildcard":23,reflex:136}],181:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/sliced-to-array")["default"],o=e("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(r,"__esModule",{value:!0});var i=e("reflex"),a=e("../common/prelude"),u=e("../common/cursor"),s=e("../common/focusable"),c=(o(s),e("../common/target")),l=(o(c),e("../common/runtime")),f=o(l),d=e("./shell/controls"),p=o(d),m=e("../common/unknown"),v=o(m),h=i.Task.io(function(e){return i.Task.succeed(document.hasFocus())}),b=function(){var e=p.init(!1,!1,!1),t=n(e,2),r=t[0],o=t[1];return[{isFocused:!1,isMinimized:!1,isMaximized:!1,controls:r},i.Effects.batch([o,i.Effects.task(h).map(function(e){return e?y:g})])]};r.init=b;var y={type:"Focus"};r.Focus=y;var g={type:"Blur"};r.Blur=g;var w={type:"Close"};r.Close=w;var k={type:"Minimize"};r.Minimize=k;var x={type:"ToggleFullscreen"};r.ToggleFullscreen=x;var O=function(e){return{type:"Closed",result:e}},S=function(e){return{type:"Minimized",result:e}},E=function(e){return{type:"FullscreenToggled",result:e}},j=function(e){return"CloseWindow"===e.type?w:"MinimizeWindow"===e.type?k:"ToggleWindowFullscreen"===e.type?x:{type:"Controls",source:e}},$=u.cursor({get:function(e){return e.controls},set:function(e,t){return a.merge(e,{controls:t})},update:p.update,tag:j}),_=function(e){return $(a.merge(e,{isFocused:!0,isMinimized:!1}),p.Enable)},C=function(e){return $(a.merge(e,{isFocused:!1}),p.Disable)},P=function(e,t){return t.isOk?[a.merge(e,{isMinimized:!0}),i.Effects.none]:[e,i.Effects.task(v.error(t.error))]},A=function(e,t){return t.isOk?$(a.merge(e,{isMaximized:!e.isMaximized}),p.FullscreenToggled):[e,i.Effects.task(v.error(t.error))]},M=function(e,t){return t.isOk?[e,i.Effects.none]:[e,i.Effects.task(v.error(t.error))]},T=function(e){return[e,i.Effects.task(f.quit).map(O)]},F=function(e){return[e,i.Effects.task(f.minimize).map(S)]},R=function(e){return[e,i.Effects.task(f.toggleFullscreen).map(E)]},B=function(e,t){return"Focus"===t.type?_(e):"Blur"===t.type?C(e):"Minimize"===t.type?F(e):"Minimized"===t.type?P(e,t.result):"Close"===t.type?T(e):"Closed"===t.type?M(e,t.result):"ToggleFullscreen"===t.type?R(e):"FullscreenToggled"===t.type?A(e,t.result):"Controls"===t.type?$(e,t.source):v.update(e,t)};r.update=B;var I=function(e,t){return f.useNativeTitlebar()?i.html.div():p.view(e.controls,i.forward(t,j))};r.view=I},{"../common/cursor":197,"../common/focusable":201,"../common/prelude":205,"../common/runtime":207,"../common/target":212,"../common/unknown":214,"./shell/controls":182,"babel-runtime/helpers/interop-require-wildcard":23,"babel-runtime/helpers/sliced-to-array":24,reflex:136}],182:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/sliced-to-array")["default"],o=e("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(r,"__esModule",{value:!0});var i=e("reflex"),a=e("../../common/style"),u=e("../../common/target"),s=(o(u),e("../../common/button")),c=o(s),l=e("../../common/toggle"),f=o(l),d=e("../../common/unknown"),p=o(d),m=e("../../lang/functional"),v=e("../../common/prelude"),h=e("../../common/cursor"),b={type:"CloseWindow"};r.CloseWindow=b;var y={type:"MinimizeWindow"};r.MinimizeWindow=y;var g={type:"ToggleWindowFullscreen"};r.ToggleWindowFullscreen=g;var w={type:"FullscreenToggled"};r.FullscreenToggled=w;var k={type:"Ignore"};r.Ignore=k;var x={type:"Over"};r.Over=x;var O={type:"Out"};r.Out=O;var S={type:"Enable"};r.Enable=S;var E={type:"Disable"};r.Disable=E;var j=function(e){return"Target"===e.type?k:"Focusable"===e.type?k:e},$=m.compose(function(e){return e===k?k:"Press"===e.type?b:{type:"CloseButton",source:e}},j),_=m.compose(function(e){return e===k?k:"Press"===e.type?y:{type:"MinimizeButton",source:e}},j),C=m.compose(function(e){return e===k?k:"Press"===e.type?g:{type:"ToggleButton",source:e}},j),P=function(e){var t=e.close,r=e.minimize,n=e.toggle;return{close:t,minimize:r,toggle:n}};r.Model=P;var A=h.cursor({get:function(e){return e.close},set:function(e,t){return v.merge(e,{close:t})},update:c.update,tag:$}),M=h.cursor({get:function(e){return e.minimize},set:function(e,t){return v.merge(e,{minimize:t})},update:c.update,tag:_}),T=h.cursor({get:function(e){return e.toggle},set:function(e,t){return v.merge(e,{toggle:t})},update:f.update,tag:C}),F=function(e,t,r){var n=!1,o=!1,a=c.Model({isDisabled:e,isPointerOver:t,isFocused:n,isActive:o,text:""}),u=c.Model({isDisabled:e,isPointerOver:t,isFocused:n,isActive:o,text:""}),s=f.Model({isDisabled:e,isFocused:n,isActive:o,isPointerOver:t,isChecked:r});return[{close:a,minimize:u,toggle:s},i.Effects.none]};r.init=F;var R=function(e,t){var r=c.update(e.close,t),o=n(r,2),a=o[0],u=o[1],s=c.update(e.minimize,t),l=n(s,2),d=l[0],p=l[1],m=f.update(e.toggle,f.ButtonAction(t)),h=n(m,2),b=h[0],y=h[1];return[v.merge(e,{close:a,minimize:d,toggle:b}),i.Effects.batch([u.map($),p.map(_),y.map(C)])]},B=function(e,t){return"Over"===t.type?R(e,c.Over):"Out"===t.type?R(e,c.Out):"Enable"===t.type?R(e,c.Enable):"Disable"===t.type?R(e,c.Disable):"FullscreenToggled"===t.type?T(e,f.Press):"Ignore"===t.type?[e,i.Effects.none]:"CloseButton"===t.type?A(e,t.source):"MinimizeButton"===t.type?M(e,t.source):"ToggleButton"===t.type?[e,i.Effects.none]:p.update(e,t)};r.update=B;var I=a.StyleSheet.create({container:{height:"12px",position:"absolute",width:"50px",top:"8px",left:"8px",zIndex:200},button:{backgroundColor:"transparent",backgroundImage:"url(css/window-controls.sprite.png)",backgroundRepeat:"no-repeat",backgroundSize:"25px auto",width:"12px",height:"12px",left:0,position:"absolute",top:0},disabledButton:{backgroundPosition:"0 -300px"},closeButton:{left:0},minimizeButton:{left:"20px"},toggleButton:{left:"40px"}}),D=c.view("window-close-button",a.StyleSheet.create({base:a.Style(I.button,I.closeButton),disabled:I.disabledButton,enabled:{backgroundPosition:"0 -150px"},over:{backgroundPosition:"0 0"}})),z=c.view("window-minimize-button",a.StyleSheet.create({base:a.Style(I.button,I.minimizeButton),disabled:I.disabledButton,enabled:{backgroundPosition:"0 -200px"},over:{backgroundPosition:"0 -50px"}})),q=f.view("window-toggle-fullscreen-button",a.StyleSheet.create({base:a.Style(I.button,I.toggleButton),disabled:I.disabledButton,enabled:{backgroundPosition:"0 -250px"},over:{backgroundPosition:"0 -100px"}})),N=function(e,t){return i.html.div({key:"window-controls",className:"window-controls",style:I.container,onMouseOver:i.forward(t,v.always(x)),onMouseOut:i.forward(t,v.always(O))},[D(e.close,i.forward(t,$)),z(e.minimize,i.forward(t,_)),q(e.toggle,i.forward(t,C))])};r.view=N},{"../../common/button":195,"../../common/cursor":197,"../../common/prelude":205,"../../common/style":211,"../../common/target":212,"../../common/toggle":213,"../../common/unknown":214,"../../lang/functional":217,"babel-runtime/helpers/interop-require-wildcard":23,"babel-runtime/helpers/sliced-to-array":24,reflex:136}],183:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/sliced-to-array")["default"],o=e("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(r,"__esModule",{value:!0});var i=e("reflex"),a=e("../common/style"),u=e("./sidebar/toolbar"),s=o(u),c=e("./sidebar/tabs"),l=o(c),f=e("../common/prelude"),d=e("../common/cursor"),p=e("../common/unknown"),m=o(p),v=e("../common/stopwatch"),h=o(v),b=e("eased"),y=o(b),g=a.StyleSheet.create({base:{backgroundColor:"#272822",height:"100%",position:"absolute",right:0,top:0,width:"320px",boxSizing:"border-box",zIndex:2}}),w=function(){var e=s.init(),t=n(e,2),r=t[0],o=t[1];return[{isAttached:!1,isOpen:!1,animation:null,display:{x:550,shadow:.5,spacing:16,toolbarOpacity:1,titleOpacity:1,tabWidth:288},toolbar:r},o.map(M)]};r.init=w;var k={type:"CreateWebView"};r.CreateWebView=k;var x={type:"Attach"};r.Attach=x;var O={type:"Detach"};r.Detach=O;var S={type:"Open"};r.Open=S;var E={type:"Close"};r.Close=E;var j={type:"Activate"};r.Activate=j;var $=function(e){return{type:"CloseTab",id:e}};r.CloseTab=$;var _=function(e){return{type:"ActivateTab",id:e}};r.ActivateTab=_;var C=function(e){return"Close"===e.type?$(e.id):"Activate"===e.type?_(e.id):{type:"Tabs",source:e}},P=function(e){return{type:"Animation",action:e}},A=f.always({type:"AnimationEnd"}),M=function(e){return"Attach"===e.type?x:"Detach"===e.type?O:"CreateWebView"===e.type?k:{type:"Toolbar",source:e,action:e}},T=d.cursor({get:function(e){return e.toolbar},set:function(e,t){return f.merge(e,{toolbar:t})},tag:M,update:s.update}),F=d.cursor({tag:P,get:function(e){return e.animation},set:function(e,t){return f.merge(e,{animation:t})},update:h.update}),R=function(e,t,r){return f.merge(e,{x:y["float"](e.x,t.x,r),shadow:y["float"](e.shadow,t.shadow,r),spacing:y["float"](e.spacing,t.spacing,r),toolbarOpacity:y["float"](e.toolbarOpacity,t.toolbarOpacity,r),titleOpacity:y["float"](e.titleOpacity,t.titleOpacity,r),tabWidth:y["float"](e.tabWidth,t.tabWidth,r)})},B={open:{x:0,shadow:.5,spacing:16,toolbarOpacity:1,titleOpacity:1,tabWidth:288},attached:{x:270,shadow:0,spacing:9,toolbarOpacity:0,titleOpacity:0,tabWidth:32},closed:{x:550,shadow:.5,spacing:16,toolbarOpacity:1,titleOpacity:1,tabWidth:288}},I=function(e){return e.isOpen?B.open:e.isAttached?B.attached:B.closed},D=function(e){return e.isOpen?550:200},z=function(e,t){var r=F(e,t.action),o=n(r,2),i=o[0].animation,a=o[1],u=D(e),s=e.isOpen?e.isAttached?B.attached:B.closed:B.open,c=I(e);return u>i.elapsed?[f.merge(e,{animation:i,display:y.ease(y.easeOutCubic,R,s,c,u,i.elapsed)}),a]:[f.merge(e,{animation:i,display:c}),a.map(A)]},q=function(e){return e.isOpen?[e,i.Effects.none]:F(f.merge(e,{isOpen:!0}),h.Start)},N=function(e){return e.isOpen?F(f.merge(e,{isOpen:!1}),h.Start):[e,i.Effects.none]},L=function(e){return e.isAttached?[e,i.Effects.none]:T(f.merge(e,{isAttached:!0}),s.Attach)},V=function(e){return e.isAttached?T(f.merge(e,{isAttached:!1}),s.Detach):[e,i.Effects.none]},U=function(e,t){return"Open"===t.type?q(e):"Close"===t.type?N(e):"Attach"===t.type?L(e):"Detach"===t.type?V(e):"Animation"===t.type?z(e,t):"AnimationEnd"===t.type?F(e,h.End):"Toolbar"===t.type?T(e,t.action):m.update(e,t)};r.update=U;var W=function(e,t,r){return i.html.div({key:"sidebar",className:"sidebar",style:a.Style(g.base,{transform:"translateX("+e.display.x+"px)",boxShadow:"rgba(0, 0, 0, "+e.display.shadow+") -50px 0 80px",paddingLeft:e.display.spacing+"px",paddingRight:e.display.spacing+"px"})},[i.thunk("tabs",l.view,t,i.forward(r,C,e.display),e.display),i.thunk("sidebar-toolbar",s.view,e.toolbar,i.forward(r,M),e.display)])};r.view=W},{"../common/cursor":197,"../common/prelude":205,"../common/stopwatch":210,"../common/style":211,"../common/unknown":214,"./sidebar/tabs":185,"./sidebar/toolbar":186,"babel-runtime/helpers/interop-require-wildcard":23,"babel-runtime/helpers/sliced-to-array":24,eased:121,reflex:136}],184:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(r,"__esModule",{value:!0});var o=e("reflex"),i=e("../../common/style"),a=e("./toolbar"),u=(n(a),e("../../common/image")),s=n(u),c=e("../../common/target"),l=n(c),f=e("../../common/unknown"),d=n(f),p=e("../../common/prelude"),m=e("../web-view/util"),v=e("../../common/cursor"),h={type:"Close"};r.Close=h;var b={type:"Select"};r.Select=b;var y={type:"Activate"};r.Activate=y;var g=function(e){return{type:"Target",source:e}},w=v.cursor({update:l.update,tag:g}),k=g(l.Out),x=g(l.Over),O=function(){return[{isPointerOver:!1},o.Effects.none]};r.init=O;var S=function(e,t){return"Target"===t.type?w(e,t.source):d.update(e,t)};r.update=S;var E="32px",j=i.StyleSheet.create({base:{MozWindowDragging:"no-drag",borderRadius:"5px",height:E,color:"#fff",overflow:"hidden"},container:{height:E,lineHeight:E,width:"288px",color:"#fff",fontSize:"14px",overflow:"hidden",position:"relative"},selected:{backgroundColor:"rgb(86,87,81)"},unselected:{},title:{display:"block",margin:"0 10px 0 32px",overflow:"hidden",width:"246px",textOverflow:"ellipsis",whiteSpace:"nowrap"},closeMask:{background:"linear-gradient(\n      to right,\n      rgba(39,40,34,0) 0%,\n      rgba(39,40,34,1) 20%,\n      rgba(39,40,34,1) 100%)",width:E,height:E,position:"absolute",paddingLeft:"10px",right:0,top:0,transition:"transform 400ms cubic-bezier(0.215, 0.610, 0.355, 1.000),\n                opacity 300ms ease-out"},closeMaskSelected:{background:"linear-gradient(\n      to right,\n      rgba(86,87,81,0) 0%,\n      rgba(86,87,81,1) 20%,\n      rgba(86,87,81,1) 100%)"},closeMaskUnselected:{},closeMaskHidden:{opacity:0,transform:"translateX(16px)",pointerEvents:"none"},closeMaskVisible:{},closeIcon:{color:"#fff",fontFamily:"FontAwesome",fontSize:"12px",width:E,height:E,lineHeight:E,textAlign:"center"}}),$=s.view("favicon",i.StyleSheet.create({base:{borderRadius:"3px",left:"8px",position:"absolute",top:"8px",width:"16px",height:"16px"}})),_=function(e,t){var r=e.isSelected,n=e.tab;return o.html.div({className:"tab-close-mask",style:i.Style(j.closeMask,r?j.closeMaskSelected:j.closeMaskUnselected,n.isPointerOver?j.closeMaskVisible:j.closeMaskHidden)},[o.html.div({className:"tab-close-icon",style:j.closeIcon,onClick:function(e){e.stopPropagation(),t(h)}},[""])])},C=function(e,t,r){var n=r.tabWidth,a=r.titleOpacity;return o.html.div({className:"sidebar-tab",style:i.Style(j.base,e.isSelected?j.selected:j.unselected,{width:n+"px"}),onMouseOver:o.forward(t,p.always(x)),onMouseOut:o.forward(t,p.always(k)),onClick:o.forward(t,p.always(y))},[o.html.div({className:"sidebar-tab-inner",style:j.container},[$({uri:m.readFaviconURI(e)},t),o.html.div({className:"sidebar-tab-title",style:i.Style(j.title,{opacity:a})},[m.readTitle(e,"Untitled")]),o.thunk("close",_,e,t)])])};r.view=C},{"../../common/cursor":197,"../../common/image":202,"../../common/prelude":205,"../../common/style":211,"../../common/target":212,"../../common/unknown":214,"../web-view/util":193,"./toolbar":186,"babel-runtime/helpers/interop-require-wildcard":23,reflex:136}],185:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(r,"__esModule",{value:!0});var o=e("reflex"),i=(e("../../common/prelude"),e("../../common/style")),a=(e("../../common/cursor"),e("./toolbar")),u=n(a),s=e("./tab"),c=n(s),l=e("../../common/unknown"),f=(n(l),i.StyleSheet.create({base:{width:"100%",height:"calc(100% - "+u.styleSheet.base.height+")",paddingTop:"32px",overflowY:"scroll",boxSizing:"border-box"}})),d=function(e){return{type:"Close",id:e}};r.Close=d;var p=function(e){return{type:"Activate",id:e}};r.Activate=p;var m=function(e){return function(t){return"Close"===t.type?d(e):"Activate"===t.type?p(e):{type:"Tab",id:e,source:t}}};r.ByID=m;var v=function(e,t,r){return o.html.div({className:"sidebar-tabs-scrollbox",style:f.base},e.order.map(function(n){return o.thunk(n,c.view,e.entries[n],o.forward(t,m(n)),r)}))};r.view=v},{"../../common/cursor":197,"../../common/prelude":205,"../../common/style":211,"../../common/unknown":214,"./tab":184,"./toolbar":186,"babel-runtime/helpers/interop-require-wildcard":23,reflex:136}],186:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/sliced-to-array")["default"],o=e("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(r,"__esModule",{value:!0});var i=e("reflex"),a=e("../../common/style"),u=e("../../common/toggle"),s=o(u),c=e("../../common/button"),l=o(c),f=e("../../common/prelude"),d=e("../../common/cursor"),p=e("../../common/unknown"),m=o(p),v={type:"Attach"};r.Attach=v;var h={type:"Detach"};r.Detach=h;var b={type:"CreateWebView"};r.CreateWebView=b;var y=function(e){return"Check"===e.type?v:"Uncheck"===e.type?h:{type:"Toggle",action:e}},g=function(e){return"Press"===e.type?b:{type:"CloseButton",source:e}},w=d.cursor({get:function(e){return e.pin},set:function(e,t){return f.merge(e,{pin:t})},tag:y,update:s.update}),k=d.cursor({get:function(e){return e.close},set:function(e,t){return f.merge(e,{close:t})},tag:g,update:l.update}),x=function(){var e=s.init(),t=n(e,2),r=t[0],o=t[1],a=l.init(!1,!1,!1,!1,""),u=n(a,2),c=u[0],f=u[1];return[{pin:r,close:c},i.Effects.batch([o.map(y),f.map(g)])]};r.init=x;var O=function(e){var t=e.pin,r=e.close;return{pin:t,close:r}};r.Model=O;var S=function(e,t){return"Attach"===t.type?w(e,s.Check):"Detach"===t.type?w(e,s.Uncheck):"Toggle"===t.type?w(e,t.action):"CloseButton"===t.type?k(e,t.source):m.update(e,t)};r.update=S;var E=a.StyleSheet.create({base:{left:"0",height:"48px",position:"absolute",bottom:"0",width:"100%"},invisible:{opacity:0,pointerEvents:"none"}});r.styleSheet=E;var j=s.view("pin-button",a.StyleSheet.create({base:{cursor:"pointer",height:"32px",width:"32px",margin:"8px",borderRadius:"5px",backgroundRepeat:"no-repeat",backgroundColor:"transparent",backgroundPosition:"center",backgroundImage:"url(css/pin.png)",backgroundSize:null==window.devicePixelRatio?"24px 36px":24/window.devicePixelRatio+"px "+36/window.devicePixelRatio+"px"},checked:{backgroundColor:"#3D91F2"}})),$=l.view("create-tab-button",a.StyleSheet.create({base:{MozWindowDragging:"no-drag",color:"rgb(255,255,255)",fontFamily:"FontAwesome",fontSize:"18px",lineHeight:"32px",position:"absolute",textAlign:"center",bottom:"8px",right:"8px",width:"32px",height:"32px",background:"transparent"}})),_=function(e,t,r){return i.html.div({key:"sidebar-toolbar",className:"sidebar-toolbar",style:a.Style(E.base,0===r.toolbarOpacity?E.invisible:{opacity:r.toolbarOpacity})},[i.thunk("pin",j,e.pin,i.forward(t,y)),i.thunk("close",$,e.close,i.forward(t,g))])};r.view=_},{"../../common/button":195,"../../common/cursor":197,"../../common/prelude":205,"../../common/style":211,"../../common/toggle":213,"../../common/unknown":214,"babel-runtime/helpers/interop-require-wildcard":23,"babel-runtime/helpers/sliced-to-array":24,reflex:136}],187:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/sliced-to-array")["default"],o=e("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(r,"__esModule",{value:!0});var i=e("reflex"),a=e("../common/prelude"),u=e("../common/cursor"),s=e("../lang/functional"),c=e("driver"),l=e("./web-view/shell"),f=o(l),d=e("./web-view/progress"),p=o(d),m=e("./web-view/navigation"),v=o(m),h=e("./web-view/security"),b=o(h),y=e("./web-view/page"),g=o(y),w=e("./sidebar/tab"),k=o(w),x=e("../common/unknown"),O=o(x),S=e("../common/stopwatch"),E=o(S),j=e("../common/style"),$=e("./web-view/util"),_=o(c),C=e("../common/url-helper"),P=o(C),A=e("../common/focusable"),M=(o(A),e("eased")),T=o(M),F={type:"Select"};r.Select=F;var R={type:"Unselect"};r.Unselect=R;var B={type:"Selected"};r.Selected=B;var I={type:"Unselected"};r.Unselected=I;var D={type:"Activate"};r.Activate=D;var z={type:"Activated"};r.Activated=z;var q={type:"Deactivate"};r.Deactivate=q;var N={type:"Deactivated"};r.Deactivated=N;var L={type:"Close"};r.Close=L;var V={type:"Closed"};r.Closed=V;var U={type:"Edit"};r.Edit=U;var W={type:"ShowTabs"};r.ShowTabs=W;var G={type:"Create"};r.Create=G;var H={type:"Focus"};r.Focus=H;var Q=function(e){return{type:"Load",uri:e}};r.Load=Q;var Z=function(e){var t=e.frameElement,r=e.uri,n=e.name,o=e.features;return _.element.use(t),{type:"Open!WithMyIFrameAndInTheCurrentTick",isForced:!0,options:{uri:r,name:n,features:o,inBackground:!1}}};r.OpenSyncWithMyIFrame=Z;var K=function(e){return{type:"ModalPrompt",detail:e}};r.ModalPrompt=K;var X=function(e){return{type:"Authentificate",detail:e}};r.Authentificate=X;var Y=function(e){return{type:"Error",detail:e}};r.ReportError=Y;var J=function(e){return{type:"LoadStart",time:e}};r.LoadStart=J;var ee=function(e){return{type:"LoadEnd",time:e}};r.LoadEnd=ee;var te=function(e,t){return{type:"LocationChanged",uri:e,time:t}};r.LocationChanged=te;var re=function(e){return{type:"ContextMenu",detail:e}};r.ContextMenu=re;var ne=function(e){return{type:"Shell",action:e}},oe=ne(f.Focus),ie=ne(f.Blur),ae=ne(f.ZoomIn);r.ZoomIn=ae;var ue=ne(f.ZoomOut);r.ZoomOut=ue;var se=ne(f.ResetZoom);r.ResetZoom=se;var ce=ne(f.MakeVisibile);r.MakeVisibile=ce;var le=ne(f.MakeNotVisible);r.MakeNotVisible=le;var fe=function(e){return{type:"Navigation",action:e}},de=fe(v.Stop);r.Stop=de;var pe=fe(v.Reload);r.Reload=pe;var me=fe(v.GoBack);r.GoBack=me;var ve=fe(v.GoForward);r.GoForward=ve;var he=function(e){return{type:"Security",action:e}},be=s.compose(he,b.Changed),ye=function(e){return{type:"Page",action:e}},ge=ye(g.FirstPaint),we=ye(g.DocumentFirstPaint),ke=s.compose(ye,g.TitleChanged),xe=s.compose(ye,g.IconChanged),Oe=s.compose(ye,g.MetaChanged),Se=(s.compose(ye,g.Scrolled),
s.compose(ye,g.OverflowChanged)),Ee=function(e){return"Close"===e.type?L:"Select"===e.type?F:"Activate"===e.type?D:{type:"Tab",source:e}},je=function(e){return{type:"Progress",action:e}},$e=function(e){return function(t){return"End"===t.type?e:{type:"Animation",action:t}}},_e=function(e){return"End"===e.type?B:{type:"SelectAnimation",action:e}},Ce=u.cursor({get:function(e){return e.progress},set:function(e,t){return a.merge(e,{progress:t})},tag:je,update:function(e,t){return p.update(e,"LoadStart"===t.type?p.Start(t.time):"LoadEnd"===t.type?p.LoadEnd(t.time):t)}}),Pe=u.cursor({get:function(e){return e.page},set:function(e,t){return a.merge(e,{page:t})},tag:ye,update:function(e,t){return g.update(e,"LoadStart"===t.type?g.LoadStart:"LoadEnd"===t.type?g.LoadEnd:t)}}),Ae=u.cursor({get:function(e){return e.tab},set:function(e,t){return a.merge(e,{tab:t})},tag:Ee,update:k.update}),Me=u.cursor({get:function(e){return e.shell},set:function(e,t){return a.merge(e,{shell:t})},tag:ne,update:f.update}),Te=u.cursor({get:function(e){return e.security},set:function(e,t){return a.merge(e,{security:t})},tag:he,update:b.update}),Fe=u.cursor({get:function(e){return e.navigation},set:function(e,t){return a.merge(e,{navigation:t})},tag:fe,update:v.update}),Re=(u.cursor({get:function(e){return e.animation},set:function(e,t){return a.merge(e,{animation:t})},tag:$e,update:E.update}),function(e,t){var r=E.update(e.animation,t),o=n(r,2),u=o[0],s=o[1],c=0,l=1,f=200;return f>u.elapsed?[a.merge(e,{animation:u,display:{opacity:T.ease(T.easeOutCubic,T["float"],c,l,f,u.elapsed)}}),s.map(_e)]:[a.merge(e,{animation:null,display:{opacity:l}}),i.Effects.receive(E.End).map(_e)]}),Be=function(e,t){var r=f.init(e,!t.inBackground),o=n(r,2),a=o[0],u=o[1],s=v.init(e,t.uri),c=n(s,2),l=c[0],d=c[1],m=g.init(t.uri),h=n(m,2),y=h[0],w=h[1],x=b.init(),O=n(x,2),S=O[0],j=O[1],$=p.init(),_=n($,2),C=_[0],P=_[1],A=E.init(),M=n(A,2),T=M[0],F=M[1],R=k.init(),B=n(R,2),I=B[0],z=B[1];return[{id:e,name:t.name,features:t.name,isSelected:!1,isActive:!1,display:{opacity:t.inBackground?0:1},shell:a,security:S,navigation:l,page:y,tab:I,progress:C,animation:T},i.Effects.batch([u.map(ne),w.map(ye),z.map(Ee),j.map(he),d.map(fe),P.map(je),F.map($e),t.inBackground?i.Effects.none:i.Effects.receive(D)])]};r.init=Be;var Ie=function(e){var t=E.update(e.animation,E.Start),r=n(t,2),o=r[0],i=r[1];return[a.merge(e,{animation:o}),i.map(_e)]},De=function(e){return e.isSelected?[e,i.Effects.none]:Ie(a.merge(e,{isSelected:!0}))},ze=function(e){return e.isSelected?[a.merge(e,{isSelected:!1,display:{opacity:1}}),i.Effects.none]:[e,i.Effects.none]},qe=function(e){return e.isActive?[e,i.Effects.none]:[a.merge(e,{isActive:!0,isSelected:!0}),i.Effects.receive(z)]},Ne=function(e){return Me(e,f.Focus)},Le=function(e){return e.isActive?[a.merge(e,{isActive:!1}),i.Effects.receive(N)]:[e,i.Effects.none]},Ve=function(e){return[e,i.Effects.none]},Ue=function(e){return e.isActive?Me(e,f.Focus):qe(e)},We=function(e,t){return Fe(e,v.Load(t))},Ge=function(e,t){return a.batch(Xe,e,[je(p.Start(t)),ye(g.LoadStart),he(b.LoadStart)])},He=function(e,t){return a.batch(Xe,e,[je(p.LoadEnd(t)),ye(g.LoadEnd)])},Qe=function(e,t){return a.batch(Xe,e,[je(p.Connect(t))])},Ze=function(e,t){return a.batch(Xe,e,[fe(v.LocationChanged(t)),ye(g.LocationChanged(t))])},Ke=function(e){return[e,i.Effects.receive(V)]},Xe=function(e,t){return"Select"===t.type?De(e):"Selected"===t.type?[e,i.Effects.none]:"Unselect"===t.type?ze(e):"Unselected"===t.type?[e,i.Effects.none]:"Activate"===t.type?qe(e):"Activated"===t.type?Ne(e):"Deactivate"===t.type?Le(e):"Deactivated"===t.type?Ve(e):"Focus"===t.type?Ue(e):"Load"===t.type?We(e,t.uri):"LoadStart"===t.type?Ge(e,t.time):"LoadEnd"===t.type?He(e,t.time):"Connect"===t.type?Qe(e,t.time):"LocationChanged"===t.type?Ze(e,t.uri):"Close"===t.type?Ke(e):"ZoomIn"===t.type?Me(e,f.ZoomIn(e.id)):"ZoomOut"===t.type?Me(e,f.ZoomOut(e.id)):"ResetZoom"===t.type?Me(e,f.ResetZoom(e.id)):"SelectAnimation"===t.type?Re(e,t.action):"Progress"===t.type?Ce(e,t.action):"Shell"===t.type?Me(e,t.action):"Page"===t.type?Pe(e,t.action):"Tab"===t.type?Ae(e,t.source):"Security"===t.type?Te(e,t.action):"Navigation"===t.type?Fe(e,t.action):O.update(e,t)};r.update=Xe;var Ye="27px",Je="21px",et="250px",tt=j.StyleSheet.create({webview:{position:"absolute",top:0,left:0,width:"100%",height:"100%",mozUserSelect:"none",cursor:"default",zIndex:2},webviewActive:{},webviewSelected:{zIndex:3},webviewInactive:{pointerEvents:"none",zIndex:1},iframe:{display:"block",position:"absolute",top:Ye,left:0,width:"100%",height:"calc(100% - "+Ye+")",mozUserSelect:"none",borderWidth:0,backgroundColor:"white",MozWindowDragging:"no-drag"},topbar:{backgroundColor:"white",position:"absolute",top:0,left:0,width:"100%",height:Ye},combobox:{MozWindowDragging:"no-drag",position:"absolute",left:"50%",top:0,height:Je,lineHeight:Je,width:et,marginTop:"calc("+Ye+" / 2 - "+Je+" / 2)",marginLeft:"calc("+et+" / -2)",borderRadius:"5px",cursor:"text"},lightText:{color:"rgba(0, 0, 0, 0.8)"},darkText:{color:"rgba(255, 255, 255, 0.8)"},titleContainer:{fontSize:"13px",position:"absolute",top:0,left:0,paddingLeft:"30px",paddingRight:"30px",width:"calc(100% - 60px)",textAlign:"center",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},iconSearch:{fontFamily:"FontAwesome",fontSize:"14px",left:"5px",position:"absolute"},iconSecure:{fontFamily:"FontAwesome",marginRight:"6px"},iconInsecure:{display:"none"},iconShowTabs:{MozWindowDragging:"no-drag",backgroundImage:"url(css/hamburger.sprite.png)",backgroundRepeat:"no-repeat",backgroundPosition:"0 0",backgroundSize:"50px auto",position:"absolute",height:"13px",right:"8px",top:"7px",width:"14px"},iconShowTabsDark:{backgroundPosition:"0 -50px"},iconShowTabsBright:null,iconCreateTab:{MozWindowDragging:"no-drag",color:"rgba(0,0,0,0.8)",fontFamily:"FontAwesome",fontSize:"18px",lineHeight:"32px",position:"absolute",textAlign:"center",bottom:0,right:0,width:"30px",height:"32px"},iconCreateTabDark:{color:"rgba(255,255,255,0.8)"},iconCreateTabBright:null,iconBack:{MozWindowDragging:"no-drag",color:"rgba(0,0,0,0.8)",fontFamily:"FontAwesome",fontSize:"18px",lineHeight:"32px",position:"absolute",textAlign:"center",bottom:0,left:0,width:"30px",height:"32px"},iconBackDark:{color:"rgba(255,255,255,0.8)"},iconBackBright:null}),rt=function(e,t){return i.html.iframe({id:"web-view-"+e.id,src:e.navigation.initiatedURI,"data-current-uri":e.navigation.currentURI,"data-name":e.name,"data-features":e.features,element:_.element,style:j.Style(tt.iframe,null!=e.page.pallet.background?{backgroundColor:e.page.pallet.background}:null),attributes:{mozbrowser:!0,remote:!0,mozapp:P.isPrivileged(e.navigation.currentURI)?P.getManifestURL().href:void 0,mozallowfullscreen:!0},isFocused:_.focus(e.shell.isFocused),onBlur:c.on(t,a.always(ie)),onFocus:c.on(t,a.always(oe)),onMozBrowserClose:c.on(t,a.always(L)),onMozBrowserOpenWindow:c.on(t,ut),onMozBrowserOpenTab:c.on(t,st),onMozBrowserContextMenu:c.on(t,ct),onMozBrowserError:c.on(t,dt),onMozBrowserLoadStart:c.on(t,mt),onMozBrowserConnected:c.on(t,vt),onMozBrowserLoadEnd:c.on(t,ht),onMozBrowserFirstPaint:c.on(t,bt),onMozBrowserDocumentFirstPaint:c.on(t,yt),onMozBrowserMetaChange:c.on(t,kt),onMozBrowserIconChange:c.on(t,wt),onMozBrowserLocationChange:c.on(t,pt),onMozBrowserSecurityChange:c.on(t,Ot),onMozBrowserTitleChange:c.on(t,gt),onMozBrowserShowModalPrompt:c.on(t,lt),onMozBrowserUserNameAndPasswordRequired:c.on(t,ft),onMozBrowserScrollAreaChanged:c.on(t,xt)})},nt=function(e,t){var r=$.isDark(e);return i.html.div({className:r?"webview webview-is-dark web-view-"+e.id:"webview web-view-"+e.id,style:j.Style(tt.webview,e.isActive?tt.webviewActive:e.isSelected?tt.webviewSelected:tt.webviewInactive,e.display)},[rt(e,t),i.html.div({className:"webview-topbar",style:j.Style(tt.topbar,null!=e.page.pallet.background?{backgroundColor:e.page.pallet.background}:null)},[i.html.div({className:"webview-combobox",style:j.Style(tt.combobox,r?tt.darkText:tt.lightText),onClick:i.forward(t,a.always(U))},[i.html.span({className:"webview-search-icon",style:tt.iconSearch},[""]),i.html.div({className:"webview-title-container",style:tt.titleContainer},[i.html.span({className:"webview-security-icon",style:e.security.secure?tt.iconSecure:tt.iconInsecure},[""]),i.html.span({className:"webview-title"},[$.readTitle(e,"Untitled")])])]),i.html.div({className:"webview-show-tabs-icon",style:j.Style(tt.iconShowTabs,r?tt.iconShowTabsDark:tt.iconShowTabsBright),onClick:i.forward(t,a.always(W))})]),p.view(e.progress,t),i.html.div({className:"global-create-tab-icon",style:j.Style(tt.iconCreateTab,r?tt.iconCreateTabDark:tt.iconCreateTabBright),onClick:i.forward(t,a.always(G))},[""]),i.html.div({className:"global-create-tab-icon",style:j.Style(tt.iconBack,r?tt.iconBackDark:tt.iconBackBright),onClick:i.forward(t,a.always(me))},[""])])};r.view=nt;var ot=(a.always(L),function(e){var t=e.detail;return t}),it=function(e){e.detail;return performance.now()},at=function(e){var t=e.detail;return{frameElement:t.frameElement,uri:t.url,name:t.name,features:t.features}},ut=s.compose(Z,at),st=s.compose(Z,at),ct=s.compose(re,ot),lt=s.compose(K,ot),ft=s.compose(X,ot),dt=s.compose(Y,ot),pt=function(e){var t,r=e.detail;return t="String"==typeof r?r:r.uri,te(t,performance.now())},mt=s.compose(J,it),vt=s.compose(p.Connect,it),ht=s.compose(ee,it),bt=a.always(ge),yt=a.always(we),gt=s.compose(ke,ot),wt=s.compose(xe,ot),kt=function(e){var t=e.detail,r=t.name,n=t.content;return Oe(r,n)},xt=function(e){var t=e.detail,r=e.target;return Se(t.height>r.parentNode.clientHeight)},Ot=function(e){var t=e.detail,r=t.state,n=t.extendedValidation;return be(r,n)}},{"../common/cursor":197,"../common/focusable":201,"../common/prelude":205,"../common/stopwatch":210,"../common/style":211,"../common/unknown":214,"../common/url-helper":215,"../lang/functional":217,"./sidebar/tab":184,"./web-view/navigation":188,"./web-view/page":189,"./web-view/progress":190,"./web-view/security":191,"./web-view/shell":192,"./web-view/util":193,"babel-runtime/helpers/interop-require-wildcard":23,"babel-runtime/helpers/sliced-to-array":24,driver:216,eased:121,reflex:136}],188:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(r,"__esModule",{value:!0});var o=e("../../common/prelude"),i=e("../../common/result"),a=n(i),u=e("reflex"),s=e("../../common/unknown"),c=n(s),l={type:"Stop"};r.Stop=l;var f={type:"Reload"};r.Reload=f;var d={type:"GoBack"};r.GoBack=d;var p={type:"GoForward"};r.GoForward=p;var m=function(e){return{type:"Load",uri:e}};r.Load=m;var v=function(e){return{type:"LocationChanged",uri:e}};r.LocationChanged=v;var h=function(e){return{type:"CanGoBackChanged",result:e}};r.CanGoBackChanged=h;var b=function(e){return{type:"CanGoForwardChanged",result:e}};r.CanGoForwardChanged=b;var y=function(e){return{type:"Stopped",result:e}};r.Stopped=y;var g=function(e){return{type:"Reloaded",result:e}};r.Reloaded=g;var w=function(e){return{type:"WentBack",result:e}};r.WentBack=w;var k=function(e){return{type:"WentForward",result:e}};r.WentForward=k;var x=function(e){return u.Task.io(function(t){var r=document.getElementById("web-view-"+e);null==r?t(u.Task.succeed(a.error("WebView with id web-view-"+e+" not found"))):null==r.getCanGoBack?t(u.Task.succeed(a.error(".getCanGoBack is not supported by runtime"))):r.getCanGoBack().onsuccess=function(e){t(u.Task.succeed(a.ok(e.target.result)))}})};r.canGoBack=x;var O=function(e){return u.Task.io(function(t){var r=document.getElementById("web-view-"+e);null==r?t(u.Task.succeed(a.error("WebView with id web-view-"+e+" not found"))):null==r.getCanGoForward?t(u.Task.succeed(a.error(".getCanGoForward is not supported by runtime"))):r.getCanGoForward().onsuccess=function(e){t(u.Task.succeed(a.ok(e.target.result)))}})};r.canGoForward=O;var S=function(e){return function(t){return u.Task.io(function(r){var n=document.getElementById("web-view-"+t);r(u.Task.succeed(null==n?a.error("WebView with id web-view-"+t+" not found"):null==n[e]?a.error("."+e+" is not supported by runtime"):a.ok(void n[e]())))})}},E=S("stop");r.stop=E;var j=S("reload");r.reload=j;var $=S("goBack");r.goBack=$;var _=S("goForward");r.goForward=_;var C=function(e){return u.Task.io(function(t){console.warn(e)})},P=function(e,t){return[{id:e,canGoBack:!1,canGoForward:!1,initiatedURI:t,currentURI:t},u.Effects.none]};r.init=P;var A=function(e,t){return t.result.isOk?[e,u.Effects.none]:[e,u.Effects.task(C(t.result.error))]},M=function(e,t){return"CanGoForwardChanged"===t.type?t.result.isOk?[o.merge(e,{canGoForward:t.result.value}),u.Effects.none]:[e,u.Effects.task(C(t.result.error))]:"CanGoBackChanged"===t.type?t.result.isOk?[o.merge(e,{canGoBack:t.result.value}),u.Effects.none]:[e,u.Effects.task(C(t.result.error))]:"LocationChanged"===t.type?[o.merge(e,{currentURI:t.uri}),u.Effects.batch([u.Effects.task(x(e.id)).map(h),u.Effects.task(O(e.id)).map(b)])]:"Load"===t.type?[o.merge(e,{initiatedURI:t.uri,currentURI:t.uri}),u.Effects.none]:"Stop"===t.type?[e,u.Effects.task(E(e.id)).map(y)]:"Reload"===t.type?[e,u.Effects.task(j(e.id)).map(g)]:"GoBack"===t.type?[e,u.Effects.task($(e.id)).map(w)]:"GoForward"===t.type?[e,u.Effects.task(_(e.id)).map(k)]:"Stopped"===t.type?A(e,t):"Reloaded"===t.type?A(e,t):"WentBack"===t.type?A(e,t):"WentForward"===t.type?A(e,t):c.update(e,t)};r.update=M},{"../../common/prelude":205,"../../common/result":206,"../../common/unknown":214,"babel-runtime/helpers/interop-require-wildcard":23,reflex:136}],189:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/to-consumable-array")["default"],o=e("babel-runtime/core-js/promise")["default"],i=e("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(r,"__esModule",{value:!0});var a=e("reflex"),u=e("../../common/prelude"),s=e("../../common/favicon"),c=i(s),l=e("../../browser/pallet"),f=i(l),d=e("../../common/unknown"),p=i(d),m={type:"DocumentFirstPaint"};r.DocumentFirstPaint=m;var v={type:"FirstPaint"};r.FirstPaint=v;var h=function(e,t){return{type:"MetaChanged",name:e,content:t}};r.MetaChanged=h;var b=function(e){return{type:"TitleChanged",title:e}};r.TitleChanged=b;var y=function(e){return{type:"IconChanged",icon:e}};r.IconChanged=y;var g=function(e){return{type:"OverflowChanged",isOverflown:e}};r.OverflowChanged=g;var w=function(e){return{type:"Scrolled",detail:e}};r.Scrolled=w;var k=function(e){return{type:"CuratedColorUpdate",color:e}};r.CuratedColorUpdate=k;var x={type:"CreatePallet"};r.CreatePallet=x;var O={type:"LoadStart"};r.LoadStart=O;var S={type:"LoadEnd"};r.LoadEnd=S;var E=function(e){return{type:"LocationChanged",uri:e}};r.LocationChanged=E;var j=function(e){return a.Task.future(function(){return o.resolve(e)})},$=function(e,t){var r=t.icon,n=c.getBestIcon([e.icon,r]),o=n.bestIcon,i=n.faviconURI;return[u.merge(e,{icon:o,faviconURI:i}),a.Effects.none]},_=function(e,t){var r=t.name,n=t.content;return["theme-color"===r?u.merge(e,{themeColor:n}):e,a.Effects.none]},C=function(e,t){return[u.merge(e,{pallet:null!=e.curatedColor?f.create(e.curatedColor.background,e.curatedColor.foreground):null!=e.themeColor?f.create.apply(f,n((e.themeColor+"|'").split("|"))):f.blank}),a.Effects.none]},P=function(e){return[{uri:e,title:null,icon:null,faviconURI:null,themeColor:null,curatedColor:null,pallet:f.blank},a.Effects.none]};r.init=P;var A=function(e,t){return"LoadStart"===t.type?[u.merge(e,{title:null,icon:null,faviconURI:null,themeColor:null,curatedColor:null,pallet:f.blank}),a.Effects.task(f.requestCuratedColor(e.uri)).map(k)]:"LoadEnd"===t.type?[e,a.Effects.task(j(x))]:"TitleChanged"===t.type?[u.merge(e,{title:t.title}),a.Effects.none]:"IconChanged"===t.type?$(e,t):"MetaChanged"===t.type?_(e,t):"CuratedColorUpdate"===t.type?[u.merge(e,{curatedColor:t.color}),a.Effects.none]:"DocumentFirstPaint"===t.type?[e,a.Effects.receive(x)]:"CreatePallet"===t.type?C(e):"LocationChanged"===t.type?t.uri!==e.uri?[u.merge(e,{uri:t.uri,curatedColor:null,themeColor:null}),a.Effects.task(f.requestCuratedColor(t.uri)).map(k)]:[e,a.Effects.none]:"FirstPaint"===t.type?[e,a.Effects.none]:"OverflowChanged"===t.type?[e,a.Effects.none]:"Scrolled"===t.type?[e,a.Effects.none]:p.update(e,t)};r.update=A},{"../../browser/pallet":179,"../../common/favicon":200,"../../common/prelude":205,"../../common/unknown":214,"babel-runtime/core-js/promise":13,"babel-runtime/helpers/interop-require-wildcard":23,"babel-runtime/helpers/to-consumable-array":25,reflex:136}],190:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(r,"__esModule",{value:!0});var o=e("reflex"),i=(e("eased"),e("../../common/style")),a=e("../../common/prelude"),u=e("../../common/unknown"),s=n(u),c=1e3,l=function(e){return{type:"Start",time:e}};r.Start=l;var f=function(e){return{type:"Connect",time:e}};r.Connect=f;var d=function(e){return{type:"LoadEnd",time:e}};r.LoadEnd=d;var p=function(e){return{type:"Tick",time:e}};r.Tick=p;var m=.2,v=.7,h=1*c,b=2*c,y=200,g=Math.PI/2,w=function(e,t){return Math.atan(g/2*(e/t))/g},k=function(e){var t=e.loadStart,r=e.updateTime;return m*w(r-t,h)},x=function(e){var t=e.connectTime,r=e.updateTime,n=k(e),o=v-n;return n+o*w(r-t,b)},O=function(e){return e.connectTime},S=function(e){return e.loadEnd},E=function(e){var t=e.loadEnd,r=e.updateTime,n=x(e),o=1-n;return n+o*(r-t)/y},j=function(e){return e?S(e)?E(e):O(e)?x(e):k(e):0};r.progress=j;var $=function(e){return[a.merge({loadStart:e,loadEnd:null,updateTime:e,connectTime:null,display:{opacity:1,x:0}}),o.Effects.tick(p)]},_=function(e,t){return[a.merge(t,{connectTime:e}),o.Effects.none]},C=function(e,t){return[a.merge(t,{loadEnd:e,updateTime:e}),o.Effects.none]},P=function(e,t){return[a.merge(t,{updateTime:e,display:{opacity:1,x:-100+100*j(t)}}),o.Effects.tick(p)]};r.tick=P;var A=function(e,t){return[a.merge(t,{display:{opacity:0,x:0}}),o.Effects.none]},M=function(){return[{loadStart:null,loadEnd:null,updateTime:null,connectTime:null,display:{opacity:0,x:0}},o.Effects.none]};r.init=M;var T=function(e,t){return"Start"===t.type?$(t.time):null==e?$(t.time):"LoadEnd"===t.type?C(t.time,e):"Connect"===t.type?_(t.time,e):"Tick"===t.type&&j(e)<1?P(t.time,e):"Tick"===t.type?A(t.time,e):s.update(e,t)};r.update=T;var F=i.StyleSheet.create({bar:{position:"absolute",top:"27px",height:"4px",width:"100%",pointerEvents:"none"},arrow:{width:"4px",height:"4px",position:"absolute",right:"-4px"}}),R=function(e){return o.html.div({className:"progressbar",style:i.Style(F.bar,{backgroundColor:"#4A90E2",transform:"translateX("+e.display.x+"%)",opacity:e.display.opacity})},[o.html.div({className:"progressbar-arrow",style:i.Style(F.arrow,{backgroundImage:"linear-gradient(135deg, #4A90E2 50%, transparent 50%)"})})])};r.view=R},{"../../common/prelude":205,"../../common/style":211,"../../common/unknown":214,"babel-runtime/helpers/interop-require-wildcard":23,eased:121,reflex:136}],191:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(r,"__esModule",{value:!0});var o=e("reflex"),i=e("../../common/unknown"),a=n(i),u=e("../../common/prelude"),s={type:"LoadStart"};r.LoadStart=s;var c=function(e,t){return{type:"Changed",state:e,extendedValidation:t}};r.Changed=c;var l=function(){return[{state:"insecure",secure:!1,extendedValidation:!1},o.Effects.none]};r.init=l;var f=function(e,t){return"LoadStart"===t.type?[u.merge(e,{state:"insecure",secure:!1,extendedValidation:!1}),o.Effects.none]:"Changed"===t.type?[u.merge(e,{state:t.state,secure:"secure"===t.state,extendedValidation:t.extendedValidation}),o.Effects.none]:a.update(e,t)};r.update=f},{"../../common/prelude":205,"../../common/unknown":214,"babel-runtime/helpers/interop-require-wildcard":23,reflex:136}],192:[function(e,t,r){"use strict";var n=e("babel-runtime/core-js/promise")["default"],o=e("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(r,"__esModule",{value:!0});var i=e("reflex"),a=e("../../common/prelude"),u=e("../../common/focusable"),s=o(u),c=e("../../common/result"),l=o(c),f={type:"MakeVisibile"};r.MakeVisibile=f;var d={type:"MakeNotVisible"};r.MakeNotVisible=d;var p={type:"ZoomIn"};r.ZoomIn=p;var m={type:"ZoomOut"};r.ZoomOut=m;var v={type:"ResetZoom"};r.ResetZoom=v;var h=function(e){return{type:"Focusable",action:e}},b=h(s.Focus);r.Focus=b;var y=h(s.Blur);r.Blur=y;var g=function(e){return{type:"VisibilityChanged",result:e}};r.VisibilityChanged=g;var w=function(e){return{type:"ZoomChanged",result:e}};r.ZoomChanged=w;var k=function(e,t){return i.Task.future(function(){var r=document.getElementById("web-view-"+e),o=null==r?l.error("WebView with id web-view-"+e+" not found"):"function"!=typeof r.zoom?l.error(".zoom is not supported by runtime"):l.ok(t);return o.isOk&&r.zoom(t),n.resolve(o)})},x=.5,O=2,S=.1,E=function(e,t){return k(e,Math.min(O,t+S))};r.zoomIn=E;var j=function(e,t){return k(e,Math.max(x,t-S))};r.zoomOut=j;var $=function(e){return k(e,1)};r.resetZoom=$;var _=function(e,t){return i.Task.future(function(){var r=document.getElementById("web-view-"+e),o=null==r?l.error("WebView with id web-view-"+e+" not found"):"function"!=typeof r.setVisible?l.error(".setVisible is not supported by runtime"):l.ok(t);return o.isOk&&r.setVisible(t),n.resolve(o)})};r.setVisibility=_;var C=function(e){return i.Task.io(function(t){console.warn(e)})},P=function(e,t){return[{id:e,isFocused:t,isVisible:!1,zoom:1},t?i.Effects.receive(b):i.Effects.none]};r.init=P;var A=function(e,t){return"ZoomIn"===t.type?[e,i.Effects.task(E(e.id,e.zoom)).map(w)]:"ZoomOut"===t.type?[e,i.Effects.task(j(e.id,e.zoom)).map(w)]:"ResetZoom"===t.type?[e,i.Effects.task($(e.id)).map(w)]:"MakeVisibile"===t.type?[e,i.Effects.task(_(e.id,!0)).map(g)]:"MakeNotVisible"===t.type?[e,i.Effects.task(_(e.id,!1)).map(g)]:"VisibilityChanged"===t.type?t.result.isOk?[a.merge(e,{isVisible:t.result.value}),i.Effects.none]:[e,i.Effects.task(C(t.result.error))]:"ZoomChanged"===t.type?t.result.isOk?[a.merge(e,{zoom:t.result.value}),i.Effects.none]:[e,i.Effects.task(C(t.result.error))]:"Focusable"===t.type?s.update(e,t.action):[e,i.Effects.none]};r.update=A},{"../../common/focusable":201,"../../common/prelude":205,"../../common/result":206,"babel-runtime/core-js/promise":13,"babel-runtime/helpers/interop-require-wildcard":23,reflex:136}],193:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(r,"__esModule",{value:!0});var o=e("../../common/url-helper"),i=n(o),a=e("../../common/favicon"),u=n(a),s=function(e,t){return e.page&&e.page.title&&""!==e.page.title?e.page.title:e.navigation.currentURI.search(/^\s*$/)?i.prettify(e.navigation.currentURI):t};r.readTitle=s;var c=function(e){return e.page&&e.page.faviconURI?e.page.faviconURI:u.getFallback(e.navigation.currentURI)};r.readFaviconURI=c;var l=function(e){return e.page?e.page.pallet.isDark:!1};r.isDark=l},{"../../common/favicon":200,"../../common/url-helper":215,"babel-runtime/helpers/interop-require-wildcard":23}],194:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/define-property")["default"],o=e("babel-runtime/helpers/sliced-to-array")["default"],i=e("babel-runtime/helpers/to-consumable-array")["default"],a=e("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(r,"__esModule",{value:!0});var u=e("reflex"),s=e("driver"),c=a(s),l=e("../common/prelude"),f=(e("../common/cursor"),e("../common/selector")),d=e("../browser/web-view"),p=a(d),m=e("../common/unknown"),v=a(m),h=e("../common/stopwatch"),b=a(h),y=e("eased"),g=a(y),w=e("../common/style"),k=function(e){return 0===e.order.length},x=function(e){return{type:"NavigateTo",uri:e}};r.NavigateTo=x;var O=function(e){var t=e.uri,r=e.inBackground,n=e.name,o=e.features;return{type:"Open",options:{uri:t,inBackground:Boolean(r),name:null==n?"":n,features:null==o?"":o}}};r.Open=O;var S={type:"CloseActive"};r.CloseActive=S;var E=function(e){return{type:"CloseByID",id:e}};r.CloseByID=E;var j=function(e){return{type:"Closed",id:e}},$=function(e){return{type:"SelectByID",id:e}};r.SelectByID=$;var _=function(e){return{type:"SelectRelative",offset:e}},C=_(1);r.SelectNext=C;var P=_(-1);r.SelectPrevious=P;var A=function(e){return{type:"Selected",id:e}},M={type:"ActivateSelected"};r.ActivateSelected=M;var T=function(e){return{type:"ActivateByID",id:e}};r.ActivateByID=T;var F=function(e){return{type:"Activated",id:e}},R={type:"Fold"};r.Fold=R;var B={type:"Folded"};r.Folded=B;var I={type:"Unfold"};r.Unfold=I;var D={type:"Unfolded"};r.Unfolded=D;var z=function(e){return{type:"ActiveWebView",action:e}},q=function(e,t){return"Open!WithMyIFrameAndInTheCurrentTick"===t.type?t:"Selected"===t.type?A(e):"Activated"===t.type?F(e):"Closed"===t.type?j(e):"ShowTabs"===t.type?Y:"Create"===t.type?J:"Edit"===t.type?ee:{type:"WebView",id:e,action:t}},N=q;r.ActionByID=N;var L=function(e){return function(t){return q(e,t)}},V=function(e){return{type:"FoldAnimation",action:e}},U=z(p.ZoomIn);r.ZoomIn=U;var W=z(p.ZoomOut);r.ZoomOut=W;var G=z(p.ResetZoom);r.ResetZoom=G;var H=z(p.Stop);r.Stop=H;var Q=z(p.Reload);r.Reload=Q;var Z=z(p.GoBack);r.GoBack=Z;var K=z(p.GoForward);r.GoForward=K;var X=z(p.Focus);r.Focus=X;var Y=p.ShowTabs;r.ShowTabs=Y;var J=p.Create;r.Create=J;var ee=p.Edit;r.Edit=ee;var te=function(){return[{nextID:0,selector:null,order:[],entries:{},display:{depth:0},resizeAnimation:null,foldAnimation:null,isFolded:!0},u.Effects.none]};r.init=te;var re=function(e,t,r){if(e.order.indexOf(t)<0)return[e,u.Effects.task(v.error("WebView with id: "+t+" is not found"))];var i=p.update(e.entries[t],r),a=o(i,2),s=a[0],c=a[1];return[l.merge(e,{entries:l.merge(e.entries,n({},t,s))}),c.map(L(t))]},ne=function(e,t){return k(e)?[e,u.Effects.none]:null==e.selector?[e,u.Effects.task(v.error("Can not update non-existing active WebView"))]:re(e,e.selector.active,t)},oe=function(e,t){return k(e)?ae(e,{uri:t,inBackground:!1,name:"",features:""},!1):ie(e,t)},ie=function(e,t){return ne(e,p.Load(t))},ae=function(e,t){var r=arguments.length<=2||void 0===arguments[2]?!1:arguments[2],a=e.nextID,s=p.init(a,t),f=o(s,2),d=f[0],m=f[1],v=l.merge(e,{nextID:e.nextID+1,order:[a].concat(i(e.order)),entries:l.merge(e.entries,n({},a,d))}),h=t.inBackground?[v,u.Effects.none]:fe(v,a),b=o(h,2),y=b[0],g=b[1];return[y,u.Effects.batch([m.map(L(a)),g,r?c.force:u.Effects.none])]},ue=function(e){return k(e)?[e,u.Effects.none]:null==e.selector?[e,u.Effects.task(v.error("Unable to close active WebView if none is Active"))]:se(e,e.selector.active)},se=function(e,t){return k(e)?[e,u.Effects.task(v.error("Can not close by id: "+t+" since there are 0 WebViews open"))]:null==e.selector?re(e,t,p.Close):e.selector.active===t?l.batch(ke,e,[T(e.order[0]===t?e.order[1]:e.order[e.order.indexOf(t)-1]),q(t,p.Close)]):re(e,t,p.Close)},ce=function(e,t){return[l.merge(e,{entries:l.merge(e.entries,n({},t,void 0)),order:l.remove(e.order,e.order.indexOf(t))}),1===e.order.length?u.Effects.receive(J):u.Effects.none]},le=function(e){return k(e)?[e,u.Effects.none]:null==e.selector?[e,u.Effects.task(v.error("Unable to activate selected WebView if no WebView is selected"))]:fe(e,e.selector.selected)},fe=function(e,t){return k(e)?[e,u.Effects.task(v.warn("Can not activate web-view by id: "+t+" since there are 0 web-views"))]:null==e.selector?re(l.merge(e,{selector:{selected:t,active:t}}),t,p.Activate):e.selector.active===t?pe(e,t):l.batch(ke,l.merge(e,{selector:l.merge(e.selector,{active:t})}),[$(t),q(t,p.Activate),q(e.selector.active,p.Deactivate)])},de=function(e,t){return k(e)?[e,u.Effects.none]:null==e.selector?[e,u.Effects.task(v.error("Unable to change selected WebView if no WebView is seleted"))]:pe(e,e.order[f.indexOfOffset(e.order.indexOf(e.selector.selected),t,e.order.length,!0)])},pe=function(e,t){return null==e.selector?ke(l.merge(e,{selector:{selected:t,active:t}}),q(t,p.Select)):e.selector.selected!==t?l.batch(ke,l.merge(e,{selector:l.merge(e.selector,{selected:t})}),[q(t,p.Select),q(e.selector.selected,p.Unselect)]):[e,u.Effects.none]},me=function(e){return e.isFolded?[e,u.Effects.none]:he(l.merge(e,{isFolded:!0}))},ve=function(e){return e.isFolded?he(l.merge(e,{isFolded:!1})):[e,u.Effects.none]},he=function(e){if(null!=e.foldAnimation)return[l.merge(e,{foldAnimation:l.merge(e.foldAnimation,{elapsed:0})}),u.Effects.none];var t=b.update(e.foldAnimation,b.Start),r=o(t,2),n=r[0],i=r[1];return[l.merge(e,{foldAnimation:n}),i.map(V)]},be=function(e){{var t=b.update(e.foldAnimation,b.End),r=o(t,2),n=r[0];r[1]}return[l.merge(e,{foldAnimation:n}),u.Effects.none]},ye=be,ge=be,we=function(e,t){var r=b.update(e.foldAnimation,t),n=o(r,2),i=n[0],a=n[1],s=e.isFolded?[-200,0,200]:[0,-200,500],c=o(s,3),f=c[0],d=c[1],p=c[2],m=p>i.elapsed?[l.merge(e,{foldAnimation:i,display:l.merge(e.display,{depth:g.ease(g.easeOutCubic,g["float"],f,d,p,i.elapsed)})}),a.map(V)]:[l.merge(e,{foldAnimation:i,display:l.merge(e.display,{depth:d})}),u.Effects.receive(e.isFolded?B:D)];return m},ke=function(e,t){return"NavigateTo"===t.type?oe(e,t.uri):"Open"===t.type?ae(e,t.options,!1):"Open!WithMyIFrameAndInTheCurrentTick"===t.type?ae(e,t.options,!0):"CloseActive"===t.type?ue(e):"CloseByID"===t.type?se(e,t.id):"Closed"===t.type?ce(e,t.id):"ActivateSelected"===t.type?le(e):"ActivateByID"===t.type?fe(e,t.id):"Activated"===t.type?[e,u.Effects.none]:"SelectRelative"===t.type?de(e,t.offset):"SelectByID"===t.type?pe(e,t.id):"Selected"===t.type?[e,u.Effects.none]:"Fold"===t.type?me(e):"Unfold"===t.type?ve(e):"FoldAnimation"===t.type?we(e,t.action):"Folded"===t.type?ye(e):"Unfolded"===t.type?ge(e):"ActiveWebView"===t.type?ne(e,t.action):"WebView"===t.type?re(e,t.id,t.action):v.update(e,t)};r.update=ke;var xe=function(e){var t=arguments.length<=1||void 0===arguments[1]?null:arguments[1];return null==e.selector?t:null==e.entries[e.selector.active]?t:e.entries[e.selector.active].navigation.currentURI};r.getActiveURI=xe;var Oe=w.StyleSheet.create({base:{height:"100vh",width:"100vw",left:0,overflow:"hidden",position:"absolute",top:0,willChange:"transform",transformOrigin:"left center"}}),Se=function(e,t){return u.html.div({className:"webviews-stack",style:w.Style(Oe.base,{transform:"translate3d(0, 0, "+e.display.depth+"px)"})},e.order.map(function(r){return u.thunk(String(r),p.view,e.entries[r],u.forward(t,L(r)))}))};r.view=Se},{"../browser/web-view":187,"../common/cursor":197,"../common/prelude":205,"../common/selector":208,"../common/stopwatch":210,"../common/style":211,"../common/unknown":214,"babel-runtime/helpers/define-property":19,"babel-runtime/helpers/interop-require-wildcard":23,"babel-runtime/helpers/sliced-to-array":24,"babel-runtime/helpers/to-consumable-array":25,driver:216,eased:121,reflex:136}],195:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(r,"__esModule",{value:!0});var o=e("../common/prelude"),i=e("../common/cursor"),a=e("../common/unknown"),u=n(a),s=e("../common/target"),c=n(s),l=e("../common/focusable"),f=n(l),d=e("../common/control"),p=n(d),m=e("../common/style"),v=e("reflex"),h=o.tag("Target"),b=o.tag("Focusable"),y=o.tag("Control"),g=o.tagged("Down");r.Down=g;var w=o.tagged("Press");r.Press=w;var k=o.tagged("Up");r.Up=k;var x=y(p.Disable);r.Disable=x;var O=y(p.Enable);r.Enable=O;var S=b(f.Focus);r.Focus=S;var E=b(f.Blur);r.Blur=E;var j=h(c.Over);r.Over=j;var $=h(c.Out);r.Out=$;var _=i.cursor({tag:b,update:f.update}),C=i.cursor({tag:h,update:c.update}),P=i.cursor({tag:y,update:p.update}),A=function(e,t,r,n){var o=arguments.length<=4||void 0===arguments[4]?"":arguments[4];return[{isDisabled:!1,isFocused:!1,isActive:!1,isPointerOver:!1,text:o},v.Effects.none]};r.init=A;var M=function(e){var t=e.isDisabled,r=e.isActive,n=e.isPointerOver,o=e.isFocused;return{isDisabled:t,isActive:r,isPointerOver:n,isFocused:o}};r.Model=M;var T=function(e,t){return"Down"===t.type?[o.merge(e,{isActive:!0}),v.Effects.none]:"Up"===t.type?[o.merge(e,{
isActive:!1}),v.Effects.none]:"Press"===t.type?[e,v.Effects.none]:"Control"===t.type?P(e,t.source):"Target"===t.type?C(e,t.source):"Focusable"===t.type?_(e,t.source):u.update(e,t)};r.update=T;var F=function(e,t){return function(r,n,i){return v.html.button({key:e,className:e,style:m.Style(t.base,r.isFocused?t.focused:t.blured,r.isDisabled?t.disabled:t.enabled,r.isPointerOver?t.over:t.out,r.isActive?t.active:t.inactive,i),onFocus:v.forward(n,o.always(S)),onBlur:v.forward(n,o.always(E)),onMouseOver:v.forward(n,o.always(j)),onMouseOut:v.forward(n,o.always($)),onMouseDown:v.forward(n,o.always(g)),onClick:v.forward(n,o.always(w)),onMouseUp:v.forward(n,o.always(k))},[r.text||""])}};r.view=F},{"../common/control":196,"../common/cursor":197,"../common/focusable":201,"../common/prelude":205,"../common/style":211,"../common/target":212,"../common/unknown":214,"babel-runtime/helpers/interop-require-wildcard":23,reflex:136}],196:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(r,"__esModule",{value:!0});var o=e("../common/prelude"),i=(e("../common/cursor"),e("../common/unknown")),a=n(i),u=e("../common/target"),s=(n(u),e("../common/focusable")),c=(n(s),e("../common/style"),e("reflex")),l={type:"Disable"};r.Disable=l;var f={type:"Enable"};r.Enable=f;var d=function(e){return[o.merge(e,{isDisabled:!1}),c.Effects.none]},p=function(e){return[o.merge(e,{isDisabled:!0}),c.Effects.none]},m=function(e,t){return"Enable"===t.type?d(e):"Disable"===t.type?p(e):a.update(e,t)};r.update=m},{"../common/cursor":197,"../common/focusable":201,"../common/prelude":205,"../common/style":211,"../common/target":212,"../common/unknown":214,"babel-runtime/helpers/interop-require-wildcard":23,reflex:136}],197:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/sliced-to-array")["default"],o=e("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(r,"__esModule",{value:!0});var i=e("reflex"),a=o(i),u=function(e){var t=e.get,r=e.set,o=e.update,i=e.tag;return function(e,a){var u=null==t?e:t(e,a),s=o(u,a),c=n(s,2),l=c[0],f=c[1],d=null==r?l:r(e,l);return[d,null==i?f:f.map(i)]}};r.cursor=u;var s=function(e,t){return function(r,o){var i=e(r,o),u=n(i,2),s=(u[0],u[1]),c=t(r,o),l=n(c,2),f=l[0],d=l[1];return[f,a.Effects.batch([s,d])]}};r.join=s},{"babel-runtime/helpers/interop-require-wildcard":23,"babel-runtime/helpers/sliced-to-array":24,reflex:136}],198:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/define-property")["default"],o=e("babel-runtime/helpers/sliced-to-array")["default"],i=e("babel-runtime/core-js/object/keys")["default"],a=e("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(r,"__esModule",{value:!0});var u=e("../common/settings"),s=a(u),c=e("../common/runtime"),l=a(c),f=e("../common/unknown"),d=a(f),p=e("../common/prelude"),m=e("../common/cursor"),v=e("reflex"),h=e("../common/style"),b={"debugger.remote-mode":"Enable Remote DevTools","apz.overscroll.enabled":"Enable overscroll effect","debug.fps.enabled":"FPS","debug.paint-flashing.enabled":"Paint flashing","layers.low-precision":"Low precision buffer & paint","layers.low-opacity":"Low precision opacity","layers.draw-borders":"Draw layer borders","layers.draw-tile-borders":"Draw tile borders","layers.dump":"Layers dump","layers.enable-tiles":"Enable tiles","layers.async-pan-zoom.enabled":"Enable APZC (restart required)"},y=function(e,t){return"debugger.remote-mode"===e?t===!0?"adb-devtools":"disabled":t},g=function(e,t){return"debugger.remote-mode"===e?"adb-devtools"===t?!0:!1:t},w={type:"Toggle"};r.Toggle=w;var k={type:"Restart"};r.Restart=k;var x=function(e){return{type:"Report",result:e}},O={type:"CleanRestart"};r.CleanRestart=O;var S={type:"CleanReload"};r.CleanReload=S;var E=function(e,t){return{type:"Change",name:e,value:t}},j=function(e){return{type:"Settings",action:e}},$=m.cursor({get:function(e){return e.settings},set:function(e,t){return p.merge(e,{settings:t})},tag:j,update:s.update}),_=function(e){return[p.merge(e,{isActive:!e.isActive}),v.Effects.none]},C=function(e){return[e,v.Effects.task(l.restart).map(x)]},P=function(e){return[e,v.Effects.task(l.cleanRestart).map(x)]},A=function(e){return[e,v.Effects.task(l.cleanReload).map(x)]},M=function(e,t){var r=t.name,o=t.value;return[e,v.Effects.task(s.change(n({},r,o))).map(s.Changed).map(j)]},T=function(e,t){return[e,t.isOk?v.Effects.none:v.Effects.task(d.error(t.error))]},F=function(e){var t=e.isActive,r=s.init(i(b)),n=o(r,2),a=n[0],u=n[1],c=[{isActive:t,settings:a},u.map(j)];return c};r.init=F;var R=function(e,t){return"Toggle"===t.type?_(e):"Restart"===t.type?C(e):"CleanRestart"===t.type?P(e):"CleanReload"===t.type?A(e):"Report"===t.type?T(e,t.result):"Change"===t.type?M(e,t):"Settings"===t.type?$(e,t.action):d.update(e,t)};r.update=R;var B=h.StyleSheet.create({checkbox:{marginRight:"6px",MozAppearance:"checkbox"},label:{padding:"6px",MozUserSelect:"none",display:"block"},button:{display:"block",border:"1px solid #AAA",padding:"3px 6px",margin:"6px",borderRadius:"3px"},toolbox:{padding:"10px",position:"absolute",bottom:"10px",left:"10px",width:"300px",height:"400px",color:"black",backgroundColor:"white",border:"2px solid #F06",overflow:"scroll"},initializing:{display:"none"},hidden:{display:"none"},visible:{display:"block"}}),I=function(e,t,r){var n=g(e,t);return v.html.label({key:e,style:B.label},[v.html.input({type:"checkbox",checked:n,style:B.checkbox,onChange:v.forward(r,function(){return E(e,y(e,!n))})}),b[e]])},D=function(e,t){return v.html.div({key:"devtools-settings",className:"devtools settings"},i(e||{}).map(function(r){return v.thunk(r,I,r,e[r],t)}))},z=function(e,t){return v.html.div({className:"devtools toolbox",key:"devtools-toolbox",style:h.Style(B.toolbox,e.isActive?B.visible:B.hidden)},[null==e.settings?v.html.div({},["Initializing"]):v.thunk("settings",D,e.settings,t),v.html.button({style:B.button,onClick:v.forward(t,p.always(k))},["Restart"]),v.html.button({style:B.button,onClick:v.forward(t,p.always(O))},["Clear cache and restart"]),v.html.button({style:B.button,onClick:v.forward(t,p.always(S))},["Clear cache and reload"])])};r.view=z},{"../common/cursor":197,"../common/prelude":205,"../common/runtime":207,"../common/settings":209,"../common/style":211,"../common/unknown":214,"babel-runtime/core-js/object/keys":11,"babel-runtime/helpers/define-property":19,"babel-runtime/helpers/interop-require-wildcard":23,"babel-runtime/helpers/sliced-to-array":24,reflex:136}],199:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(r,"__esModule",{value:!0});var o=e("../common/prelude"),i=e("../common/unknown"),a=n(i),u=e("reflex"),s={type:"Clear"};r.Clear=s;var c=function(e){return{type:"Select",range:e}};r.Select=c;var l=function(e,t){return{type:"Change",value:e,selection:t}};r.Change=l;var f=function(e,t){return o.merge(e,{selection:t.range})},d=function(e,t){return o.merge(e,{selection:t.selection,value:t.value})},p=function(e){return o.merge(e,{value:"",selection:null})},m=function(e){var t=arguments.length<=1||void 0===arguments[1]?null:arguments[1];return[{value:e,selection:t},u.Effects.none]};r.init=m;var v=function(e,t){return"Clear"===t.type?[p(e),u.Effects.none]:"Select"===t.type?[f(e,t),u.Effects.none]:"Change"===t.type?[d(e,t),u.Effects.none]:a.update(e,t)};r.update=v},{"../common/prelude":205,"../common/unknown":214,"babel-runtime/helpers/interop-require-wildcard":23,reflex:136}],200:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/to-consumable-array")["default"],o=e("babel-runtime/core-js/map")["default"],i=e("babel-runtime/core-js/set")["default"],a=e("babel-runtime/core-js/get-iterator")["default"];Object.defineProperty(r,"__esModule",{value:!0});var u=e("../common/url-helper"),s=function(e,t){return e+"#-moz-resolution="+t+","+t},c=function(e){return e?s(u.getOrigin(e)+"/favicon.ico",l):null};r.getFallback=c;var l=16*devicePixelRatio,f=function(e){var t=new o,r=new i,u=!0,c=!1,f=void 0;try{for(var d,p=a(e);!(u=(d=p.next()).done);u=!0){var m=d.value;m&&("shortcut icon"!=m.rel?r.add(m):m.sizes?"any"==m.sizes?t.set(l,m):m.sizes.split(" ").map(function(e){return parseInt(e,10)}).forEach(function(e){return t.set(e,m)}):r.add(m))}}catch(v){c=!0,f=v}finally{try{!u&&p["return"]&&p["return"]()}finally{if(c)throw f}}var h=[].concat(n(t)).reduce(function(e,t){return e?Math.abs(e[0]-l)>Math.abs(t[0]-l)?t:e:t},void 0),b=[].concat(n(r)).reduce(function(e,t){return e?"shortcut icon"==t.rel?t:e:t},void 0);if(h){var y=h[0],g=h[1].href;return{bestIcon:h[1],faviconURI:s(g,y)}}if(b){var g=b.href;return{bestIcon:b,faviconURI:s(g,l)}}return{bestIcon:null,faviconURI:null}};r.getBestIcon=f},{"../common/url-helper":215,"babel-runtime/core-js/get-iterator":3,"babel-runtime/core-js/map":5,"babel-runtime/core-js/set":14,"babel-runtime/helpers/to-consumable-array":25}],201:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(r,"__esModule",{value:!0});var o=e("../common/prelude"),i=e("../common/unknown"),a=n(i),u=e("reflex"),s={isFocused:!1};r.blured=s;var c={isFocused:!0};r.focused=c;var l=s;r.initial=l;var f={type:"Focus"};r.Focus=f;var d={type:"Blur"};r.Blur=d;var p=function(e,t){return"Focus"===t.type?[o.merge(e,{isFocused:!0}),u.Effects.none]:"Blur"===t.type?[o.merge(e,{isFocused:!1}),u.Effects.none]:a.update(e,t)};r.update=p},{"../common/prelude":205,"../common/unknown":214,"babel-runtime/helpers/interop-require-wildcard":23,reflex:136}],202:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("reflex"),o=e("../common/style"),i=function(e){var t=e.uri;return{uri:t}};r.Model=i;var a=o.StyleSheet.create({image:{backgroundSize:"cover",backgroundPosition:"center center",backgroundRepeat:"no-repeat",border:"none"}}),u=function(e,t){return function(e,r,i){return n.html.img({style:o.Style(a.image,t.base,{backgroundImage:"url("+e.uri+")"},i)})}};r.view=u},{"../common/style":211,reflex:136}],203:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/to-consumable-array")["default"],o=e("babel-runtime/core-js/object/assign")["default"],i=e("babel-runtime/core-js/object/create")["default"],a=e("babel-runtime/core-js/object/keys")["default"],u=e("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(r,"__esModule",{value:!0});var s=(e("reflex"),e("./os")),c=u(s),l=c.platform(),f=function(e){var t=e.type,r=e.metaKey,n=e.shiftKey,o=e.altKey,i=e.ctrlKey,a=[];return"keyup"!=t&&(r&&a.push("Meta"),i&&a.push("Control"),o&&a.push("Alt"),n&&a.push("Shift")),a},d=function h(e){return h.table[e]||e};d.table=o(i(null),{ctrl:"Control",accel:"darwin"==l?"meta":"control",ArrowLeft:"Left",ArrowRight:"Right",ArrowUp:"Up",ArrowDown:"Down",esc:"Escape"});var p=function(e){return e.split(/\s+/).map(d).sort().join(" ").trim().toLowerCase()},m=function(e){var t=e.key,r=f(e),o=r.indexOf(t)<0?[].concat(n(r),[t]):r;return o.map(d).join(" ").toLowerCase().split(" ").sort().join(" ")},v=function b(e){var b=i(null);return a(e).forEach(function(t){b[p(t)]=e[t]}),function(e){var t=m(e),r=b[t];return null!=r?(e.stopPropagation(),e.preventDefault(),r(e)):{type:"AbortEvent",action:{type:"keyup"===e.type?"KeyUp":"keydown"===e.type?"KeyDown":"KeyPress",combination:t,key:e.key,metaKey:e.metaKey,shiftKey:e.shiftKey,altKey:e.altKey,ctrlKey:e.ctrlKey}}}};r.bindings=v},{"./os":204,"babel-runtime/core-js/object/assign":7,"babel-runtime/core-js/object/create":8,"babel-runtime/core-js/object/keys":11,"babel-runtime/helpers/interop-require-wildcard":23,"babel-runtime/helpers/to-consumable-array":25,reflex:136}],204:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=navigator.platform.startsWith("Win")?"win32":navigator.platform.startsWith("Mac")?"darwin":navigator.platform.startsWith("Linux")?"linux":navigator.platform.startsWith("FreeBSD")?"freebsd":navigator.platform,o=function(){return n};r.platform=o},{}],205:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/sliced-to-array")["default"],o=e("babel-runtime/core-js/symbol/for")["default"],i=e("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(r,"__esModule",{value:!0});var a=e("reflex"),u=i(a),s=u.Effects,c=function(e,t){var r=e;for(var n in t)if(t.hasOwnProperty(n)){var o=t[n];if(e[n]!==o){if(r===e){r={};for(var i in e)e.hasOwnProperty(i)&&(r[i]=e[i])}void 0===o?delete r[n]:r[n]=o}}return r};r.merge=c;var l=function(e,t){return e.length<=t?e:e.slice(0,t)};r.take=l;var f=function(e,t,r){var n=e.length;if(t===r)return e;if(t>=n)return e;if(r>=n)return e;var o=e.slice(0),i=o.splice(t,1)[0];return o.splice(r,0,i),o};r.move=f;var d=function(e,t){return 0>t?e:t>=e.length?e:0===t?e.slice(1):t===e.length-1?e.slice(0,t):e.slice(0,t).concat(e.slice(t+1))};r.remove=d;var p=function(e,t,r){if(e[t]===r)return e;var n=e.slice(0);return n[t]=r,n};r.setIn=p;var m={toString:function(){return"always("+this.value+")"}},v=o("always"),h=function(){return null},b=function(){return void 0},y=function(e){var t=e;if(null===t)return h;if(void 0===t)return b;if(null!=t[v])return t[v];var r=function(){return t};return r.value=t,r.toString=m.toString,t[v]=r,r};r.always=y;var g=function(e,t,r){for(var o=[],i=0,a=r.length;a>i;){var u=r[i],c=e(t,u),l=n(c,2),f=l[0],d=l[1];t=f,o.push(d),i+=1}return[t,s.batch(o)]};r.batch=g;var w=function(e){return function(t){return{type:e,source:t}}};r.tag=w;var k=function(e,t){return{type:e,source:t}};r.tagged=k},{"babel-runtime/core-js/symbol/for":16,"babel-runtime/helpers/interop-require-wildcard":23,"babel-runtime/helpers/sliced-to-array":24,reflex:136}],206:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(e){return{isOk:!0,isError:!1,value:e}};r.ok=n;var o=function(e){return{isOk:!1,isError:!0,error:e}};r.error=o},{}],207:[function(e,t,r){"use strict";var n=e("babel-runtime/core-js/promise")["default"],o=e("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(r,"__esModule",{value:!0});var i=e("../common/prelude"),a=e("reflex"),u=e("../common/os"),s=o(u),c=e("../common/result"),l=o(c),f={type:"RemoteDebugRequest"};r.RemoteDebugRequest=f;var d={type:"UpdateAvailable"};r.UpdateAvailable=d;var p={type:"UpdateDownloaded"};r.UpdateDownloaded=p;var m={type:"Restart"};r.Restart=m;var v={type:"CleanRestart"};r.CleanRestart=v;var h={type:"CleanReload"};r.CleanReload=h;var b={type:"Reload"};r.Reload=b;var y={type:"Quit"};r.Quit=y;var g={type:"Minimized"};r.Minimized=g;var w={type:"FullscreenToggled"};r.FullscreenToggled=w;var k=function(e){return{type:"RemoteDebugResponse",value:e}};r.RemoteDebugResponse=k;var x=function(e){return{type:"DownloadUpdate",result:e}};r.DownloadUpdate=x;var O=a.Task.io(function(e){return void 0});r.never=O;var S=function(e){return a.Task.future(function(){return n.resolve(e)})};r.respond=S;var E=function(e){return a.Task.io(function(t){window.dispatchEvent(new window.CustomEvent("mozContentEvent",{bubbles:!0,cancelable:!1,detail:e})),t(a.Task.succeed(void 0))})};r.send=E;var j=function(e){return a.Task.io(function(t){var r=function n(r){var o=r.detail;o.type===e&&(window.removeEventListener("mozChromeEvent",n),t(a.Task.succeed(o)))};window.addEventListener("mozChromeEvent",r)})};r.receive=j;var $=function(e,t){return E(t).chain(i.always(j(e)))};r.request=$;var _=E({type:"shutdown-application"}).chain(i.always(O));r.quit=_;var C=E({type:"minimize-native-window"}).chain(i.always(S(l.ok(null))));r.minimize=C;var P=E({type:"toggle-fullscreen-native-window"}).chain(i.always(S(l.ok(null))));r.toggleFullscreen=P;var A=a.Task.io(function(e){try{window.location.reload(),e(l.ok(null))}catch(t){e(l.error(t))}});r.reload=A;var M=E({type:"restart"}).chain(i.always(S(l.error('Unsupported runtime task "restart" was triggered'))));r.restart=M;var T=E({type:"clear-cache-and-restart"}).chain(i.always(O));r.cleanRestart=T;var F=E({type:"clear-cache-and-reload"}).chain(i.always(O));r.cleanReload=F;var R=s.platform(),B=function(e){return"darwin"!=R};r.useNativeTitlebar=B},{"../common/os":204,"../common/prelude":205,"../common/result":206,"babel-runtime/core-js/promise":13,"babel-runtime/helpers/interop-require-wildcard":23,reflex:136}],208:[function(e,t,r){"use strict";var n=e("babel-runtime/core-js/math/trunc")["default"];Object.defineProperty(r,"__esModule",{value:!0});var o=function(e,t,r,o){var i=e+t;if(0===r)return e;if(o){var a=i-n(i/r)*r;return 0>a?a+r:a}return Math.min(r-1,Math.max(0,i))};r.indexOfOffset=o},{"babel-runtime/core-js/math/trunc":6}],209:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/define-property")["default"],o=e("babel-runtime/core-js/promise")["default"],i=e("babel-runtime/core-js/object/keys")["default"],a=e("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(r,"__esModule",{value:!0});var u=e("../common/settings"),s=(a(u),e("../common/result")),c=a(s),l=e("../common/unknown"),f=a(l),d=e("../common/prelude"),p=e("reflex"),m=ReferenceError("navigator.mozSettings API is not available");r.NotSupported=m;var v=function(e){return{type:"Fetched",result:e}};r.Fetched=v;var h=function(e){return{type:"Updated",result:e}};r.Updated=h;var b=function(e){return{type:"Changed",result:e}};r.Changed=b;var y=function(e){return 1===e.length?e[0]:e.reduce(function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e})},g=function(e){return p.Task.future(function(){if(!navigator.mozSettings)return o.resolve(c.error(m));var t=function(){var t=navigator.mozSettings.createLock(),r=e.map(function(e){return t.get(e)});return{v:o.all(r).then(y).then(c.ok,c.error)}}();return"object"==typeof t?t.v:void 0})};r.fetch=g;var w=function(e){return p.Task.future(function(){return navigator.mozSettings?navigator.mozSettings.createLock().set(e).then(d.always(c.ok(e)),c.error):o.resolve(c.error(m))})};r.change=w;var k=function(e){return p.Task.io(function(t){var r=function o(r){navigator.mozSettings&&("*"===e?navigator.mozSettings.removeEventListener("settingchange",o):navigator.mozSettings.removeObserver(e,o)),t(p.Task.succeed(c.ok(n({},r.settingName,r.settingValue))))};navigator.mozSettings?"*"===e?navigator.mozSettings.addEventListener("settingchange",r):navigator.mozSettings.addObserver(e,r):t(p.Task.fail(c.error(m)))})};r.observe=k;var x=function(e){return[null,p.Effects.task(g(e)).map(v)]};r.init=x;var O=function(e,t){return[null==e?t:d.merge(e,t),p.Effects.batch(i(t).map(function(e){return p.Effects.task(k(e)).map(h)}))]},S=function(e,t){return console.error("Unhandled error occured ",t),[e,p.Effects.none]},E=function(e,t){return"Fetched"===t.type?t.result.isOk?O(e,t.result.value):S(e,t.result.error):"Updated"===t.type?t.result.isOk?O(e,t.result.value):S(e,t.result.error):"Changed"===t.type?t.result.isOk?O(e,t.result.value):S(e,t.result.error):f.update(e,t)};r.update=E},{"../common/prelude":205,"../common/result":206,"../common/settings":209,"../common/unknown":214,"babel-runtime/core-js/object/keys":11,"babel-runtime/core-js/promise":13,"babel-runtime/helpers/define-property":19,"babel-runtime/helpers/interop-require-wildcard":23,reflex:136}],210:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(r,"__esModule",{value:!0});var o=e("reflex"),i=e("../common/prelude"),a=e("../common/unknown"),u=n(a),s={type:"Start"};r.Start=s;var c={type:"End"};r.End=c;var l=function(e){return{type:"Tick",time:e}};r.Tick=l;var f=function(){return[null,o.Effects.none]};r.init=f;var d=function(e,t){return"End"===t.type?[null,o.Effects.none]:"Start"===t.type?[null,o.Effects.tick(l)]:"Tick"===t.type?null==e?[{time:t.time,elapsed:0},o.Effects.tick(l)]:[i.merge(e,{time:t.time,elapsed:e.elapsed+(t.time-e.time)}),o.Effects.tick(l)]:u.update(e,t)};r.update=d},{"../common/prelude":205,"../common/unknown":214,"babel-runtime/helpers/interop-require-wildcard":23,reflex:136}],211:[function(e,t,r){"use strict";var n=e("babel-runtime/core-js/object/create")["default"],o=e("babel-runtime/core-js/symbol")["default"],i=e("babel-runtime/core-js/object/assign")["default"];Object.defineProperty(r,"__esModule",{value:!0});var a=n(null),u=o("style-sheet/id"),s=0,c={create:function(e){var t={};for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];"object"==typeof n&&null!=n?(n[u]=++s,t[r]=n):t[r]=n}return t}};r.StyleSheet=c;var l=function(){for(var e=arguments.length,t=Array(e),r=0;e>r;r++)t[r]=arguments[r];for(var n=t.length,o=0,s=null;n>o;){var c=t[o];if(c){if(c[u])s=s?s+"+"+c[u]:c[u];else{if("object"!=typeof c)throw TypeError("Style may only be given objects and falsy values");s=null}o+=1}else t.splice(o,1),n-=1}var l=null!==s?a[s]:null;if(null!=l)return l;if(null!=s){var f=i.apply(Object,[{}].concat(t));return f[u]=s,a[s]=f,f}var d=i.apply(Object,[{}].concat(t));return d[u]=null,d};r.Style=l},{"babel-runtime/core-js/object/assign":7,"babel-runtime/core-js/object/create":8,"babel-runtime/core-js/symbol":15}],212:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(r,"__esModule",{value:!0});var o=e("reflex"),i=e("../common/prelude"),a=e("../common/unknown"),u=n(a),s={type:"Over"};r.Over=s;var c={type:"Out"};r.Out=c;var l=function(e,t){return"Over"==t.type?[i.merge(e,{isPointerOver:!0}),o.Effects.none]:"Out"==t.type?[i.merge(e,{isPointerOver:!1}),o.Effects.none]:u.update(e,t)};r.update=l},{"../common/prelude":205,"../common/unknown":214,"babel-runtime/helpers/interop-require-wildcard":23,reflex:136}],213:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(r,"__esModule",{value:!0});var o=e("../common/prelude"),i=e("../common/cursor"),a=e("../common/unknown"),u=n(a),s=e("../common/target"),c=n(s),l=e("../common/focusable"),f=n(l),d=e("../common/button"),p=n(d),m=e("../common/style"),v=e("reflex"),h=function(){return[{isDisabled:!1,isFocused:!1,isActive:!1,isPointerOver:!1,isChecked:!1},v.Effects.none]};r.init=h;var b=function(e){var t=e.isDisabled,r=e.isFocused,n=e.isActive,o=e.isPointerOver,i=e.isChecked;return{isDisabled:t,isFocused:r,isActive:n,isPointerOver:o,isChecked:i}};r.Model=b;var y={type:"Press"};r.Press=y;var g={type:"Check"};r.Check=g;var w={type:"Uncheck"};r.Uncheck=w;var k=function(e){return{type:"Target",action:e}},x=function(e){return{type:"Focusable",action:e}},O=function(e){return{type:"Button",action:e}};r.ButtonAction=O;var S=x(f.Focus);r.Focus=S;var E=x(f.Blur);r.Blur=E;var j=k(c.Over);r.Over=j;var $=k(c.Out);r.Out=$;var _=O(p.Down);r.Down=_;var C=O(p.Up);r.Up=C;var P=i.cursor({update:c.update,tag:k}),A=i.cursor({update:f.update,tag:x}),M=i.cursor({update:p.update,tag:O}),T=function(e,t){return"Press"===t.type?[o.merge(e,{isChecked:!e.isChecked}),v.Effects.task(e.isChecked?v.Task.succeed(w):v.Task.succeed(g))]:"Check"===t.type?[e,v.Effects.none]:"Uncheck"===t.type?[e,v.Effects.none]:"Button"===t.type?M(e,t.action):"Target"===t.type?P(e,t.action):"Focusable"===t.type?A(e,t.action):u.update(e,t)};r.update=T;var F=function(e,t){return function(r,n,i){return v.html.button({key:e,className:e,style:m.Style(t.base,r.isFocused?t.focused:t.blured,r.isDisabled?t.disabled:t.enabled,r.isPointerOver?t.over:t.out,r.isActive?t.active:t.inactive,r.isChecked?t.checked:t.unchecked,i),onFocus:v.forward(n,o.always(S)),onBlur:v.forward(n,o.always(E)),onMouseOver:v.forward(n,o.always(j)),onMouseOut:v.forward(n,o.always($)),onMouseDown:v.forward(n,o.always(_)),onMouseUp:v.forward(n,o.always(C)),onClick:v.forward(n,o.always(y))})}};r.view=F},{"../common/button":195,"../common/cursor":197,"../common/focusable":201,"../common/prelude":205,"../common/style":211,"../common/target":212,"../common/unknown":214,"babel-runtime/helpers/interop-require-wildcard":23,reflex:136}],214:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("reflex"),o=function(){for(var e=arguments.length,t=Array(e),r=0;e>r;r++)t[r]=arguments[r];return n.Task.io(function(e){console.warn.apply(console,t)})};r.warn=o;var i=function(){for(var e=arguments.length,t=Array(e),r=0;e>r;r++)t[r]=arguments[r];return n.Task.io(function(e){console.log.apply(console,t)})};r.log=i;var a=function(){for(var e=arguments.length,t=Array(e),r=0;e>r;r++)t[r]=arguments[r];return n.Task.io(function(e){console.error.apply(console,t)})};r.error=a;var u=function(e,t){return console.warn("Unknown action was passed & ignored: ",t,Error().stack),[e,n.Effects.none]};r.update=u},{reflex:136}],215:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={origin:null,hostname:null,protocol:null},o=function(e){try{return new URL(e)}catch(t){return n}};r.parse=o;var i=function(e){return!!(h.exec(e)||[])[0]};r.hasScheme=i;var a=function(e){return o(e).origin};r.getOrigin=a;var u=function(){return new URL("./",location)};r.getBaseURI=u;var s=function(e){return o(e).hostname};r.getHostname=s;var c=function(e){return(s(e)||"").replace(/^www\./,"")};r.getDomainName=c;var l=function(e){return o(e).protocol};r.getProtocol=l;var f=function(){return new URL("./manifest.webapp",u())};r.getManifestURL=f;var d=function(e){return o(e).pathname};r.getPathname=d;var p=function(e){var t=o(e),r=t.protocol;return"http:"===r||"https:"===r},m=function(e){return"about:"===o(e).protocol};r.isAboutURL=m;var v=function(e){return e&&e.startsWith(new URL("./components/about/",u()))};r.isPrivileged=v;var h=/^(?:[a-z\u00a1-\uffff0-9-+]+)(?::|:\/\/)/i,b=function(e){var t=e.trim(),r=/^(\?)|(\?.+\s)/,n=/[\?\.\s\:]/,o=/^\w+\:\/*$/;if("localhost"==t)return!1;if(r.test(t)||!n.test(t)||o.test(t))return!0;i(e)||(t="http://"+t);try{return new URL(t),!1}catch(a){return!0}};r.isNotURL=b;var y=function(e){return"https://duckduckgo.com/?q="+encodeURIComponent(e)},g=function(e){return"about:blank"===e?e:u()+"components/about/"+e.replace("about:","")+"/index.html"},w=function(e){return b(e)?y(e):i(e)?m(e)?g(e):e:"http://"+e};r.read=w;var k=function(e){return m(e)?g(e):e};r.normalize=k;var x=function(e,t){return new URL(t,e).href};r.resolve=x;var O=/\/about\/([^\/]+)\/index.html$/,S=function(e){var t=O.exec(e);return null!=t?t[1]:null},E=function(e){var t=u(),r=new URI(e),n=r.origin,o=r.pathname,i=t.origin===n?S(o):null;return null!=i?"about:"+i:null};r.asAboutURI=E;var j=function(e){return b(e)?e:p(e)?"/"!==d(e)?s(e)+d(e):s(e):e};r.prettify=j},{}],216:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/create-class")["default"],o=e("babel-runtime/helpers/class-call-check")["default"],i=e("babel-runtime/helpers/get")["default"],a=e("babel-runtime/helpers/inherits")["default"],u=e("babel-runtime/core-js/symbol/for")["default"],s=e("babel-runtime/core-js/object/create")["default"],c=e("babel-runtime/core-js/promise")["default"],l=e("babel-runtime/core-js/get-iterator")["default"];Object.defineProperty(r,"__esModule",{value:!0});var f=e("../../lang/functional"),d=e("reflex"),p=e("reflex-virtual-dom-driver");Object.defineProperty(r,"Renderer",{enumerable:!0,get:function(){return p.Renderer}});var m=function(){function e(t,r,n,i){o(this,e),this.address=t,this.decode=r,this.getTarget=i,this.stopPropagation=!1,this.preventDefault=!1,this.type="On",null!=n&&(null!=n.stopPropagation&&(this.stopPropagation=n.stopPropagation),null!=n.preventDefault&&(this.preventDefault=n.preventDefault))}return n(e,null,[{key:"handleEvent",value:function(e){var t=e.currentTarget,r=e.type,n=t["on:"+r];if(n){var o=null==n.decode?void 0:n.decode(e);(null==o||"AbortEvent"!==o.type)&&(n.stopPropagation&&n.stopPropagation(o)&&e.stopPropagation(),n.preventDefault&&n.preventDefault(o)&&e.preventDefault(),n.address(o))}}}]),n(e,[{key:"hook",value:function(e,t,r){var n=0===t.indexOf("on")?t.substr(2).toLowerCase():t,o=null!=this.getTarget?this.getTarget(e):e;(null==r||r.type!=this.type)&&o.addEventListener(n,this.constructor.handleEvent),o["on:"+n]=this}},{key:"unhook",value:function(e,t,r){{var n=0===t.indexOf("on")?t.substr(2).toLowerCase():t.toLowerCase();null!=this.getTarget?this.getTarget(e):e}(null==r||r.type!=this.type)&&e.removeEventListener(n,this.constructor.handleEvent),delete e["on:"+n]}}]),e}(),v=u("hash"),h=0,b=function(e){if(null==e)return"#_";if(e===!1)return"#f";if(e===!0)return"#t";if(null==e[v]&&(e[v]="f#"+ ++h),null==e[v])throw TypeError("Invalid value of type "+typeof value+" passed to a hashing function");return e[v]},y=s(null),g=function(e,t,r,n){var o=r||y,i=o.stopPropagation,a=o.preventDefault,u="on:"+b(t)+"@"+b(n)+":"+b(i)+":"+b(a)+"}";return e[u]||(e[u]=new m(e,t,r,n)),e[u]};r.on=g;var w=function(e){return e.ownerDocument},k=function(e,t,r){return g(e,t,r,w)};r.onWindow=k;var x=function(){function e(t,r){o(this,e),this.value=t,this.update=r,this.type="MetaProperty"}return n(e,[{key:"hook",value:function(e,t,r){var n=null==r?r:r.type!=this.type?r:r.value;this.update(e,this.value,n)}},{key:"unhook",value:function(e,t,r){}}]),e}(),O=function(e){return function(t){return new x(t,e)}};r.metaProperty=O;var S=O(function(e,t,r){r!=t&&e.zoom&&c.resolve().then(function(){try{e.zoom(t)}catch(r){e.isZoomBroken||console.error(r)}})});r.zoom=S;var E=function(e){var t=null,r=null,n=O(e);return function(e){return e===!1||null==e?(null==r&&(r=n(!1)),r):(null==t&&(t=n(!0)),t)}},j=E(function(e,t,r){t!=r&&e.setVisible&&c.resolve().then(function(){try{e.setVisible(t)}catch(r){e.isSetVisibleBroken||console.error(r)}})});r.visiblity=j;var $=E(function(e,t,r){t!=r&&c.resolve().then(function(){t?e.focus():e.blur()})});r.focus=$;var _=O(function(e,t,r){t!=r&&t&&(t.isStop&&e.stop(),t.isReload&&e.reload(),t.isGoBack&&e.goBack(),t.isGoForward&&e.goForward())});r.navigate=_;var C=function(){function e(){o(this,e)}return n(e,[{key:"use",value:function(e){this.element=e}},{key:"hook",value:function(e,t,r){var n=this.element;if(null!=n){if(this.element=null,e!=n){var o=!0,i=!1,a=void 0;try{for(var u,s=l(e);!(o=(u=s.next()).done);o=!0){var c=u.value,f=c.name,d=c.value;n.setAttribute(f,d)}}catch(p){i=!0,a=p}finally{try{!o&&s["return"]&&s["return"]()}finally{if(i)throw a}}var m=!0,v=!1,h=void 0;try{for(var b,y=l(e.properties.names);!(m=(b=y.next()).done);m=!0){var g=b.value;n[g]=e[g]}}catch(p){v=!0,h=p}finally{try{!m&&y["return"]&&y["return"]()}finally{if(v)throw h}}}return n}}}]),e}(),P=new C;r.element=P;var A=u("onAnimationFrame"),M=function(){function e(t){o(this,e),this.address=t,this.field=u("onAnimationFrame"),this.type="OnAnimationFrame"}return n(e,null,[{key:"request",value:function(t){var r=this.targets||(this.targets=[]);if(r.indexOf(t)<0&&r.push(t),!e.id){var n=t.ownerDocument.defaultView;e.id=n.requestAnimationFrame(this.run)}}},{key:"run",value:function(t){e.id=null;for(var r=e.targets.splice(0),n=r.length,o=0;n>o;){var i=r[o][A];null!=i&&i(t),o+=1}}}]),n(e,[{key:"hook",value:function(e,t,r){this.constructor.request(e),e[A]=this.address}},{key:"onhook",value:function(e,t,r){(null==previous||previous.type!==this.type)&&delete e[A]}}]),e}(),T=function(e,t){return e=null!=t?d.forward(e,t):e,null==e[A]&&(e[A]=new M(e)),e[A]};r.onAnimationFrame=T;var F=function(e,t){return e&&t&&e.start===t.start&&e.end===t.end&&e.direction===t.direction},R=O(function(e,t,r){null==t||F(t,r)||!function(){var r=t.start,n=t.end,o=t.direction;c.resolve().then(function(){e.setSelectionRange(r===1/0?e.value.length:r,n===1/0?e.value.length:n,o)})}()});r.selection=R;var B=O(function(e,t,r){t!=r&&(e.ownerDocument.title=t)});r.title=B;var I=f.identity;r.scrollGrab=I;var D="mozbrowsercangoforwardchange",z="mozbrowsercangobackchange",q="mozbrowserlocationchange",N=function(e){function t(e,r,n){o(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,r,n,null,null),this.eventType=e,this.type="OnNavigationStateChange"}return a(t,e),n(t,null,[{key:"handleEvent",value:function(e){var t=e.target,r=e.currentTarget;t.getCanGoForward().onsuccess=function(e){m.handleEvent({type:D,
target:t,currentTarget:r,detail:e.target.result})},t.getCanGoBack().onsuccess=function(e){m.handleEvent({type:z,target:t,currentTarget:r,detail:e.target.result})}}}]),n(t,[{key:"hook",value:function(e,r,n){i(Object.getPrototypeOf(t.prototype),"hook",this).call(this,e,this.eventType,n),(null==n||n.type!==this.type)&&e.addEventListener(q,this.constructor.handleEvent)}},{key:"unhook",value:function(e,r,n){i(Object.getPrototypeOf(t.prototype),"unhook",this).call(this,e,this.eventType,n),(null==n||n.type!==this.type)&&e.removeEventListener(q,this.constructor.handleEvent)}}]),t}(m),L=function(e,t){var r="onCanGoBackChange:"+b(t);return e[r]||(e[r]=new N(z,e,t)),e[r]};r.onCanGoBackChange=L;var V=function(e,t){var r="onCanGoForwardChange:"+b(t);return e[r]||(e[r]=new N(D,e,t)),e[r]};r.onCanGoForwardChange=V;var U=d.Effects.task(d.Task.succeed({type:"Driver.Execute"}));r.force=U},{"../../lang/functional":217,"babel-runtime/core-js/get-iterator":3,"babel-runtime/core-js/object/create":8,"babel-runtime/core-js/promise":13,"babel-runtime/core-js/symbol/for":16,"babel-runtime/helpers/class-call-check":17,"babel-runtime/helpers/create-class":18,"babel-runtime/helpers/get":20,"babel-runtime/helpers/inherits":21,reflex:136,"reflex-virtual-dom-driver":128}],217:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/to-consumable-array")["default"],o=function(){for(var e=arguments.length,t=Array(e),r=0;e>r;r++)t[r]=arguments[r];var n=function(){for(var e=t.length,r=t[--e].apply(t,arguments);--e>=0;)r=t[e](r);return r};return n.lambdas=t,n.toString=i,n},i=function(){return"compose("+this.lambdas.join(", ")+")"},a=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;t>n;n++)r[n-1]=arguments[n];return function(){for(var t=arguments.length,n=Array(t),o=0;t>o;o++)n[o]=arguments[o];return e.apply(void 0,r.concat(n))}},u=function w(e,t,r){return void 0===t&&(t=e.length),function(){return function(){for(var o=arguments.length,i=Array(o),a=0;o>a;a++)i[a]=arguments[a];var u=r?[].concat(n(r),i):i;return u.length>=t?e.apply(void 0,n(u)):w(e,t,u)}}()},s=function(e,t){return function(){for(var r=arguments.length,o=Array(r),i=0;r>i;i++)o[i]=arguments[i];return t.apply(void 0,n(o.slice(0,e)))}},c=function(e,t){return function(){return t[e].apply(t,arguments)}},l=function(e){return function(t){for(var r=arguments.length,n=Array(r>1?r-1:0),o=1;r>o;o++)n[o-1]=arguments[o];return t[e].apply(t,n)}},f=function(e){return e},d=function(e){return function(){return e}},p=d(!0),m=d(!1),v=function(e){return function(){return!e.apply(void 0,arguments)}},h=function(){for(var e=arguments.length,t=Array(e),r=0;e>r;r++)t[r]=arguments[r];return function(){for(var e=arguments.length,r=Array(e),n=0;e>n;n++)r[n]=arguments[n];return t.every(function(e){return e.apply(void 0,r)})}},b=function(){for(var e=arguments.length,t=Array(e),r=0;e>r;r++)t[r]=arguments[r];return function(){for(var e=arguments.length,r=Array(e),n=0;e>n;n++)r[n]=arguments[n];return t.some(function(e){return e.apply(void 0,r)})}},y=function(e,t){var r=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],o=null,i=null,a=null,u=0,s=r.leading,c=r.trailing,l=function(){u=s===!1?0:Date.now(),a=null,i=e.apply(void 0,n(o)),o=null};return function(){for(var r=arguments.length,f=Array(r),d=0;r>d;d++)f[d]=arguments[d];var p=Date.now();u||s!==!1||(u=p);var m=t-(p-u);return o=f,0>=m?(clearTimeout(a),a=null,u=p,i=e.apply(void 0,n(o)),o=null):a||c===!1||(a=setTimeout(l,m)),i}},g=function(e,t,r){var o=null,i=null,a=null,u=null,s=function c(){var s=Date.now()-a;t>s&&s>=0?o=setTimeout(c,t-s):(o=null,r||(u=e.apply(void 0,n(i)),o||(i=null)))};return function(){for(var c=arguments.length,l=Array(c),f=0;c>f;f++)l[f]=arguments[f];i=l,a=Date.now();var d=r&&!o;return o||(o=setTimeout(s,t)),d&&(u=e.apply(void 0,n(i)),i=null),u}};r.compose=o,r.partial=a,r.curry=u,r.arity=s,r.invokerFrom=c,r.invokerOf=l,r.identity=f,r.constant=d,r.True=p,r.False=m,r.not=v,r.and=h,r.or=b,r.throttle=y,r.debounce=g},{"babel-runtime/helpers/to-consumable-array":25}]},{},[176]);
//# sourceMappingURL=../browser/index.js.map